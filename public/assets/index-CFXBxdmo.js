var Yg=t=>{throw TypeError(t)};var Sd=(t,e,n)=>e.has(t)||Yg("Cannot "+n);var U=(t,e,n)=>(Sd(t,e,"read from private field"),n?n.call(t):e.get(t)),pe=(t,e,n)=>e.has(t)?Yg("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),ne=(t,e,n,r)=>(Sd(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n),ot=(t,e,n)=>(Sd(t,e,"access private method"),n);var ml=(t,e,n,r)=>({set _(i){ne(t,e,i,n)},get _(){return U(t,e,r)}});function HC(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();function m0(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var g0={exports:{}},cc={},y0={exports:{}},oe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var La=Symbol.for("react.element"),WC=Symbol.for("react.portal"),qC=Symbol.for("react.fragment"),KC=Symbol.for("react.strict_mode"),GC=Symbol.for("react.profiler"),QC=Symbol.for("react.provider"),YC=Symbol.for("react.context"),XC=Symbol.for("react.forward_ref"),JC=Symbol.for("react.suspense"),ZC=Symbol.for("react.memo"),eA=Symbol.for("react.lazy"),Xg=Symbol.iterator;function tA(t){return t===null||typeof t!="object"?null:(t=Xg&&t[Xg]||t["@@iterator"],typeof t=="function"?t:null)}var v0={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},_0=Object.assign,w0={};function Zs(t,e,n){this.props=t,this.context=e,this.refs=w0,this.updater=n||v0}Zs.prototype.isReactComponent={};Zs.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Zs.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function E0(){}E0.prototype=Zs.prototype;function Gf(t,e,n){this.props=t,this.context=e,this.refs=w0,this.updater=n||v0}var Qf=Gf.prototype=new E0;Qf.constructor=Gf;_0(Qf,Zs.prototype);Qf.isPureReactComponent=!0;var Jg=Array.isArray,T0=Object.prototype.hasOwnProperty,Yf={current:null},S0={key:!0,ref:!0,__self:!0,__source:!0};function x0(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)T0.call(e,r)&&!S0.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var u=Array(a),c=0;c<a;c++)u[c]=arguments[c+2];i.children=u}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:La,type:t,key:s,ref:o,props:i,_owner:Yf.current}}function nA(t,e){return{$$typeof:La,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Xf(t){return typeof t=="object"&&t!==null&&t.$$typeof===La}function rA(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var Zg=/\/+/g;function xd(t,e){return typeof t=="object"&&t!==null&&t.key!=null?rA(""+t.key):e.toString(36)}function Ql(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case La:case WC:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+xd(o,0):r,Jg(i)?(n="",t!=null&&(n=t.replace(Zg,"$&/")+"/"),Ql(i,e,n,"",function(c){return c})):i!=null&&(Xf(i)&&(i=nA(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(Zg,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",Jg(t))for(var a=0;a<t.length;a++){s=t[a];var u=r+xd(s,a);o+=Ql(s,e,n,u,i)}else if(u=tA(t),typeof u=="function")for(t=u.call(t),a=0;!(s=t.next()).done;)s=s.value,u=r+xd(s,a++),o+=Ql(s,e,n,u,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function gl(t,e,n){if(t==null)return t;var r=[],i=0;return Ql(t,r,"","",function(s){return e.call(n,s,i++)}),r}function iA(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var St={current:null},Yl={transition:null},sA={ReactCurrentDispatcher:St,ReactCurrentBatchConfig:Yl,ReactCurrentOwner:Yf};function C0(){throw Error("act(...) is not supported in production builds of React.")}oe.Children={map:gl,forEach:function(t,e,n){gl(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return gl(t,function(){e++}),e},toArray:function(t){return gl(t,function(e){return e})||[]},only:function(t){if(!Xf(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};oe.Component=Zs;oe.Fragment=qC;oe.Profiler=GC;oe.PureComponent=Gf;oe.StrictMode=KC;oe.Suspense=JC;oe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=sA;oe.act=C0;oe.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=_0({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=Yf.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(u in e)T0.call(e,u)&&!S0.hasOwnProperty(u)&&(r[u]=e[u]===void 0&&a!==void 0?a[u]:e[u])}var u=arguments.length-2;if(u===1)r.children=n;else if(1<u){a=Array(u);for(var c=0;c<u;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:La,type:t.type,key:i,ref:s,props:r,_owner:o}};oe.createContext=function(t){return t={$$typeof:YC,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:QC,_context:t},t.Consumer=t};oe.createElement=x0;oe.createFactory=function(t){var e=x0.bind(null,t);return e.type=t,e};oe.createRef=function(){return{current:null}};oe.forwardRef=function(t){return{$$typeof:XC,render:t}};oe.isValidElement=Xf;oe.lazy=function(t){return{$$typeof:eA,_payload:{_status:-1,_result:t},_init:iA}};oe.memo=function(t,e){return{$$typeof:ZC,type:t,compare:e===void 0?null:e}};oe.startTransition=function(t){var e=Yl.transition;Yl.transition={};try{t()}finally{Yl.transition=e}};oe.unstable_act=C0;oe.useCallback=function(t,e){return St.current.useCallback(t,e)};oe.useContext=function(t){return St.current.useContext(t)};oe.useDebugValue=function(){};oe.useDeferredValue=function(t){return St.current.useDeferredValue(t)};oe.useEffect=function(t,e){return St.current.useEffect(t,e)};oe.useId=function(){return St.current.useId()};oe.useImperativeHandle=function(t,e,n){return St.current.useImperativeHandle(t,e,n)};oe.useInsertionEffect=function(t,e){return St.current.useInsertionEffect(t,e)};oe.useLayoutEffect=function(t,e){return St.current.useLayoutEffect(t,e)};oe.useMemo=function(t,e){return St.current.useMemo(t,e)};oe.useReducer=function(t,e,n){return St.current.useReducer(t,e,n)};oe.useRef=function(t){return St.current.useRef(t)};oe.useState=function(t){return St.current.useState(t)};oe.useSyncExternalStore=function(t,e,n){return St.current.useSyncExternalStore(t,e,n)};oe.useTransition=function(){return St.current.useTransition()};oe.version="18.3.1";y0.exports=oe;var C=y0.exports;const ur=m0(C),A0=HC({__proto__:null,default:ur},[C]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var oA=C,aA=Symbol.for("react.element"),lA=Symbol.for("react.fragment"),uA=Object.prototype.hasOwnProperty,cA=oA.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,dA={key:!0,ref:!0,__self:!0,__source:!0};function R0(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)uA.call(e,r)&&!dA.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:aA,type:t,key:s,ref:o,props:i,_owner:cA.current}}cc.Fragment=lA;cc.jsx=R0;cc.jsxs=R0;g0.exports=cc;var k=g0.exports,I0={exports:{}},zt={},P0={exports:{}},b0={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(F,W){var G=F.length;F.push(W);e:for(;0<G;){var te=G-1>>>1,de=F[te];if(0<i(de,W))F[te]=W,F[G]=de,G=te;else break e}}function n(F){return F.length===0?null:F[0]}function r(F){if(F.length===0)return null;var W=F[0],G=F.pop();if(G!==W){F[0]=G;e:for(var te=0,de=F.length,ye=de>>>1;te<ye;){var Ct=2*(te+1)-1,Zt=F[Ct],en=Ct+1,$t=F[en];if(0>i(Zt,G))en<de&&0>i($t,Zt)?(F[te]=$t,F[en]=G,te=en):(F[te]=Zt,F[Ct]=G,te=Ct);else if(en<de&&0>i($t,G))F[te]=$t,F[en]=G,te=en;else break e}}return W}function i(F,W){var G=F.sortIndex-W.sortIndex;return G!==0?G:F.id-W.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var u=[],c=[],h=1,f=null,m=3,_=!1,A=!1,g=!1,E=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function T(F){for(var W=n(c);W!==null;){if(W.callback===null)r(c);else if(W.startTime<=F)r(c),W.sortIndex=W.expirationTime,e(u,W);else break;W=n(c)}}function P(F){if(g=!1,T(F),!A)if(n(u)!==null)A=!0,re(O);else{var W=n(c);W!==null&&se(P,W.startTime-F)}}function O(F,W){A=!1,g&&(g=!1,v(w),w=-1),_=!0;var G=m;try{for(T(W),f=n(u);f!==null&&(!(f.expirationTime>W)||F&&!N());){var te=f.callback;if(typeof te=="function"){f.callback=null,m=f.priorityLevel;var de=te(f.expirationTime<=W);W=t.unstable_now(),typeof de=="function"?f.callback=de:f===n(u)&&r(u),T(W)}else r(u);f=n(u)}if(f!==null)var ye=!0;else{var Ct=n(c);Ct!==null&&se(P,Ct.startTime-W),ye=!1}return ye}finally{f=null,m=G,_=!1}}var V=!1,x=null,w=-1,R=5,I=-1;function N(){return!(t.unstable_now()-I<R)}function D(){if(x!==null){var F=t.unstable_now();I=F;var W=!0;try{W=x(!0,F)}finally{W?b():(V=!1,x=null)}}else V=!1}var b;if(typeof y=="function")b=function(){y(D)};else if(typeof MessageChannel<"u"){var H=new MessageChannel,ae=H.port2;H.port1.onmessage=D,b=function(){ae.postMessage(null)}}else b=function(){E(D,0)};function re(F){x=F,V||(V=!0,b())}function se(F,W){w=E(function(){F(t.unstable_now())},W)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(F){F.callback=null},t.unstable_continueExecution=function(){A||_||(A=!0,re(O))},t.unstable_forceFrameRate=function(F){0>F||125<F?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<F?Math.floor(1e3/F):5},t.unstable_getCurrentPriorityLevel=function(){return m},t.unstable_getFirstCallbackNode=function(){return n(u)},t.unstable_next=function(F){switch(m){case 1:case 2:case 3:var W=3;break;default:W=m}var G=m;m=W;try{return F()}finally{m=G}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(F,W){switch(F){case 1:case 2:case 3:case 4:case 5:break;default:F=3}var G=m;m=F;try{return W()}finally{m=G}},t.unstable_scheduleCallback=function(F,W,G){var te=t.unstable_now();switch(typeof G=="object"&&G!==null?(G=G.delay,G=typeof G=="number"&&0<G?te+G:te):G=te,F){case 1:var de=-1;break;case 2:de=250;break;case 5:de=1073741823;break;case 4:de=1e4;break;default:de=5e3}return de=G+de,F={id:h++,callback:W,priorityLevel:F,startTime:G,expirationTime:de,sortIndex:-1},G>te?(F.sortIndex=G,e(c,F),n(u)===null&&F===n(c)&&(g?(v(w),w=-1):g=!0,se(P,G-te))):(F.sortIndex=de,e(u,F),A||_||(A=!0,re(O))),F},t.unstable_shouldYield=N,t.unstable_wrapCallback=function(F){var W=m;return function(){var G=m;m=W;try{return F.apply(this,arguments)}finally{m=G}}}})(b0);P0.exports=b0;var hA=P0.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fA=C,Ut=hA;function B(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var k0=new Set,ia={};function Di(t,e){Os(t,e),Os(t+"Capture",e)}function Os(t,e){for(ia[t]=e,t=0;t<e.length;t++)k0.add(e[t])}var qn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Th=Object.prototype.hasOwnProperty,pA=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,ey={},ty={};function mA(t){return Th.call(ty,t)?!0:Th.call(ey,t)?!1:pA.test(t)?ty[t]=!0:(ey[t]=!0,!1)}function gA(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function yA(t,e,n,r){if(e===null||typeof e>"u"||gA(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function xt(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var tt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){tt[t]=new xt(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];tt[e]=new xt(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){tt[t]=new xt(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){tt[t]=new xt(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){tt[t]=new xt(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){tt[t]=new xt(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){tt[t]=new xt(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){tt[t]=new xt(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){tt[t]=new xt(t,5,!1,t.toLowerCase(),null,!1,!1)});var Jf=/[\-:]([a-z])/g;function Zf(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Jf,Zf);tt[e]=new xt(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Jf,Zf);tt[e]=new xt(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Jf,Zf);tt[e]=new xt(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){tt[t]=new xt(t,1,!1,t.toLowerCase(),null,!1,!1)});tt.xlinkHref=new xt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){tt[t]=new xt(t,1,!1,t.toLowerCase(),null,!0,!0)});function ep(t,e,n,r){var i=tt.hasOwnProperty(e)?tt[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(yA(e,n,i,r)&&(n=null),r||i===null?mA(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var nr=fA.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,yl=Symbol.for("react.element"),ns=Symbol.for("react.portal"),rs=Symbol.for("react.fragment"),tp=Symbol.for("react.strict_mode"),Sh=Symbol.for("react.profiler"),N0=Symbol.for("react.provider"),D0=Symbol.for("react.context"),np=Symbol.for("react.forward_ref"),xh=Symbol.for("react.suspense"),Ch=Symbol.for("react.suspense_list"),rp=Symbol.for("react.memo"),hr=Symbol.for("react.lazy"),O0=Symbol.for("react.offscreen"),ny=Symbol.iterator;function Co(t){return t===null||typeof t!="object"?null:(t=ny&&t[ny]||t["@@iterator"],typeof t=="function"?t:null)}var ke=Object.assign,Cd;function Mo(t){if(Cd===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Cd=e&&e[1]||""}return`
`+Cd+t}var Ad=!1;function Rd(t,e){if(!t||Ad)return"";Ad=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var u=`
`+i[o].replace(" at new "," at ");return t.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",t.displayName)),u}while(1<=o&&0<=a);break}}}finally{Ad=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Mo(t):""}function vA(t){switch(t.tag){case 5:return Mo(t.type);case 16:return Mo("Lazy");case 13:return Mo("Suspense");case 19:return Mo("SuspenseList");case 0:case 2:case 15:return t=Rd(t.type,!1),t;case 11:return t=Rd(t.type.render,!1),t;case 1:return t=Rd(t.type,!0),t;default:return""}}function Ah(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case rs:return"Fragment";case ns:return"Portal";case Sh:return"Profiler";case tp:return"StrictMode";case xh:return"Suspense";case Ch:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case D0:return(t.displayName||"Context")+".Consumer";case N0:return(t._context.displayName||"Context")+".Provider";case np:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case rp:return e=t.displayName||null,e!==null?e:Ah(t.type)||"Memo";case hr:e=t._payload,t=t._init;try{return Ah(t(e))}catch{}}return null}function _A(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ah(e);case 8:return e===tp?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function zr(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function V0(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function wA(t){var e=V0(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function vl(t){t._valueTracker||(t._valueTracker=wA(t))}function M0(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=V0(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function vu(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Rh(t,e){var n=e.checked;return ke({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function ry(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=zr(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function L0(t,e){e=e.checked,e!=null&&ep(t,"checked",e,!1)}function Ih(t,e){L0(t,e);var n=zr(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Ph(t,e.type,n):e.hasOwnProperty("defaultValue")&&Ph(t,e.type,zr(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function iy(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Ph(t,e,n){(e!=="number"||vu(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Lo=Array.isArray;function ps(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+zr(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function bh(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(B(91));return ke({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function sy(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(B(92));if(Lo(n)){if(1<n.length)throw Error(B(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:zr(n)}}function F0(t,e){var n=zr(e.value),r=zr(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function oy(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function j0(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function kh(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?j0(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var _l,U0=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(_l=_l||document.createElement("div"),_l.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=_l.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function sa(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var $o={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},EA=["Webkit","ms","Moz","O"];Object.keys($o).forEach(function(t){EA.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),$o[e]=$o[t]})});function z0(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||$o.hasOwnProperty(t)&&$o[t]?(""+e).trim():e+"px"}function B0(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=z0(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var TA=ke({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Nh(t,e){if(e){if(TA[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(B(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(B(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(B(61))}if(e.style!=null&&typeof e.style!="object")throw Error(B(62))}}function Dh(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Oh=null;function ip(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Vh=null,ms=null,gs=null;function ay(t){if(t=Ua(t)){if(typeof Vh!="function")throw Error(B(280));var e=t.stateNode;e&&(e=mc(e),Vh(t.stateNode,t.type,e))}}function $0(t){ms?gs?gs.push(t):gs=[t]:ms=t}function H0(){if(ms){var t=ms,e=gs;if(gs=ms=null,ay(t),e)for(t=0;t<e.length;t++)ay(e[t])}}function W0(t,e){return t(e)}function q0(){}var Id=!1;function K0(t,e,n){if(Id)return t(e,n);Id=!0;try{return W0(t,e,n)}finally{Id=!1,(ms!==null||gs!==null)&&(q0(),H0())}}function oa(t,e){var n=t.stateNode;if(n===null)return null;var r=mc(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(B(231,e,typeof n));return n}var Mh=!1;if(qn)try{var Ao={};Object.defineProperty(Ao,"passive",{get:function(){Mh=!0}}),window.addEventListener("test",Ao,Ao),window.removeEventListener("test",Ao,Ao)}catch{Mh=!1}function SA(t,e,n,r,i,s,o,a,u){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(h){this.onError(h)}}var Ho=!1,_u=null,wu=!1,Lh=null,xA={onError:function(t){Ho=!0,_u=t}};function CA(t,e,n,r,i,s,o,a,u){Ho=!1,_u=null,SA.apply(xA,arguments)}function AA(t,e,n,r,i,s,o,a,u){if(CA.apply(this,arguments),Ho){if(Ho){var c=_u;Ho=!1,_u=null}else throw Error(B(198));wu||(wu=!0,Lh=c)}}function Oi(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function G0(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function ly(t){if(Oi(t)!==t)throw Error(B(188))}function RA(t){var e=t.alternate;if(!e){if(e=Oi(t),e===null)throw Error(B(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return ly(i),t;if(s===r)return ly(i),e;s=s.sibling}throw Error(B(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o)throw Error(B(189))}}if(n.alternate!==r)throw Error(B(190))}if(n.tag!==3)throw Error(B(188));return n.stateNode.current===n?t:e}function Q0(t){return t=RA(t),t!==null?Y0(t):null}function Y0(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=Y0(t);if(e!==null)return e;t=t.sibling}return null}var X0=Ut.unstable_scheduleCallback,uy=Ut.unstable_cancelCallback,IA=Ut.unstable_shouldYield,PA=Ut.unstable_requestPaint,je=Ut.unstable_now,bA=Ut.unstable_getCurrentPriorityLevel,sp=Ut.unstable_ImmediatePriority,J0=Ut.unstable_UserBlockingPriority,Eu=Ut.unstable_NormalPriority,kA=Ut.unstable_LowPriority,Z0=Ut.unstable_IdlePriority,dc=null,An=null;function NA(t){if(An&&typeof An.onCommitFiberRoot=="function")try{An.onCommitFiberRoot(dc,t,void 0,(t.current.flags&128)===128)}catch{}}var cn=Math.clz32?Math.clz32:VA,DA=Math.log,OA=Math.LN2;function VA(t){return t>>>=0,t===0?32:31-(DA(t)/OA|0)|0}var wl=64,El=4194304;function Fo(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Tu(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~i;a!==0?r=Fo(a):(s&=o,s!==0&&(r=Fo(s)))}else o=n&~i,o!==0?r=Fo(o):s!==0&&(r=Fo(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-cn(e),i=1<<n,r|=t[n],e&=~i;return r}function MA(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function LA(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-cn(s),a=1<<o,u=i[o];u===-1?(!(a&n)||a&r)&&(i[o]=MA(a,e)):u<=e&&(t.expiredLanes|=a),s&=~a}}function Fh(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function ew(){var t=wl;return wl<<=1,!(wl&4194240)&&(wl=64),t}function Pd(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Fa(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-cn(e),t[e]=n}function FA(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-cn(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function op(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-cn(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var ge=0;function tw(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var nw,ap,rw,iw,sw,jh=!1,Tl=[],Cr=null,Ar=null,Rr=null,aa=new Map,la=new Map,pr=[],jA="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function cy(t,e){switch(t){case"focusin":case"focusout":Cr=null;break;case"dragenter":case"dragleave":Ar=null;break;case"mouseover":case"mouseout":Rr=null;break;case"pointerover":case"pointerout":aa.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":la.delete(e.pointerId)}}function Ro(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=Ua(e),e!==null&&ap(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function UA(t,e,n,r,i){switch(e){case"focusin":return Cr=Ro(Cr,t,e,n,r,i),!0;case"dragenter":return Ar=Ro(Ar,t,e,n,r,i),!0;case"mouseover":return Rr=Ro(Rr,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return aa.set(s,Ro(aa.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,la.set(s,Ro(la.get(s)||null,t,e,n,r,i)),!0}return!1}function ow(t){var e=hi(t.target);if(e!==null){var n=Oi(e);if(n!==null){if(e=n.tag,e===13){if(e=G0(n),e!==null){t.blockedOn=e,sw(t.priority,function(){rw(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Xl(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Uh(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Oh=r,n.target.dispatchEvent(r),Oh=null}else return e=Ua(n),e!==null&&ap(e),t.blockedOn=n,!1;e.shift()}return!0}function dy(t,e,n){Xl(t)&&n.delete(e)}function zA(){jh=!1,Cr!==null&&Xl(Cr)&&(Cr=null),Ar!==null&&Xl(Ar)&&(Ar=null),Rr!==null&&Xl(Rr)&&(Rr=null),aa.forEach(dy),la.forEach(dy)}function Io(t,e){t.blockedOn===e&&(t.blockedOn=null,jh||(jh=!0,Ut.unstable_scheduleCallback(Ut.unstable_NormalPriority,zA)))}function ua(t){function e(i){return Io(i,t)}if(0<Tl.length){Io(Tl[0],t);for(var n=1;n<Tl.length;n++){var r=Tl[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Cr!==null&&Io(Cr,t),Ar!==null&&Io(Ar,t),Rr!==null&&Io(Rr,t),aa.forEach(e),la.forEach(e),n=0;n<pr.length;n++)r=pr[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<pr.length&&(n=pr[0],n.blockedOn===null);)ow(n),n.blockedOn===null&&pr.shift()}var ys=nr.ReactCurrentBatchConfig,Su=!0;function BA(t,e,n,r){var i=ge,s=ys.transition;ys.transition=null;try{ge=1,lp(t,e,n,r)}finally{ge=i,ys.transition=s}}function $A(t,e,n,r){var i=ge,s=ys.transition;ys.transition=null;try{ge=4,lp(t,e,n,r)}finally{ge=i,ys.transition=s}}function lp(t,e,n,r){if(Su){var i=Uh(t,e,n,r);if(i===null)jd(t,e,r,xu,n),cy(t,r);else if(UA(i,t,e,n,r))r.stopPropagation();else if(cy(t,r),e&4&&-1<jA.indexOf(t)){for(;i!==null;){var s=Ua(i);if(s!==null&&nw(s),s=Uh(t,e,n,r),s===null&&jd(t,e,r,xu,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else jd(t,e,r,null,n)}}var xu=null;function Uh(t,e,n,r){if(xu=null,t=ip(r),t=hi(t),t!==null)if(e=Oi(t),e===null)t=null;else if(n=e.tag,n===13){if(t=G0(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return xu=t,null}function aw(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(bA()){case sp:return 1;case J0:return 4;case Eu:case kA:return 16;case Z0:return 536870912;default:return 16}default:return 16}}var Tr=null,up=null,Jl=null;function lw(){if(Jl)return Jl;var t,e=up,n=e.length,r,i="value"in Tr?Tr.value:Tr.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return Jl=i.slice(t,1<r?1-r:void 0)}function Zl(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Sl(){return!0}function hy(){return!1}function Bt(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Sl:hy,this.isPropagationStopped=hy,this}return ke(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Sl)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Sl)},persist:function(){},isPersistent:Sl}),e}var eo={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},cp=Bt(eo),ja=ke({},eo,{view:0,detail:0}),HA=Bt(ja),bd,kd,Po,hc=ke({},ja,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:dp,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Po&&(Po&&t.type==="mousemove"?(bd=t.screenX-Po.screenX,kd=t.screenY-Po.screenY):kd=bd=0,Po=t),bd)},movementY:function(t){return"movementY"in t?t.movementY:kd}}),fy=Bt(hc),WA=ke({},hc,{dataTransfer:0}),qA=Bt(WA),KA=ke({},ja,{relatedTarget:0}),Nd=Bt(KA),GA=ke({},eo,{animationName:0,elapsedTime:0,pseudoElement:0}),QA=Bt(GA),YA=ke({},eo,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),XA=Bt(YA),JA=ke({},eo,{data:0}),py=Bt(JA),ZA={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},eR={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},tR={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function nR(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=tR[t])?!!e[t]:!1}function dp(){return nR}var rR=ke({},ja,{key:function(t){if(t.key){var e=ZA[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Zl(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?eR[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:dp,charCode:function(t){return t.type==="keypress"?Zl(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Zl(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),iR=Bt(rR),sR=ke({},hc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),my=Bt(sR),oR=ke({},ja,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:dp}),aR=Bt(oR),lR=ke({},eo,{propertyName:0,elapsedTime:0,pseudoElement:0}),uR=Bt(lR),cR=ke({},hc,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),dR=Bt(cR),hR=[9,13,27,32],hp=qn&&"CompositionEvent"in window,Wo=null;qn&&"documentMode"in document&&(Wo=document.documentMode);var fR=qn&&"TextEvent"in window&&!Wo,uw=qn&&(!hp||Wo&&8<Wo&&11>=Wo),gy=" ",yy=!1;function cw(t,e){switch(t){case"keyup":return hR.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function dw(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var is=!1;function pR(t,e){switch(t){case"compositionend":return dw(e);case"keypress":return e.which!==32?null:(yy=!0,gy);case"textInput":return t=e.data,t===gy&&yy?null:t;default:return null}}function mR(t,e){if(is)return t==="compositionend"||!hp&&cw(t,e)?(t=lw(),Jl=up=Tr=null,is=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return uw&&e.locale!=="ko"?null:e.data;default:return null}}var gR={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function vy(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!gR[t.type]:e==="textarea"}function hw(t,e,n,r){$0(r),e=Cu(e,"onChange"),0<e.length&&(n=new cp("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var qo=null,ca=null;function yR(t){Sw(t,0)}function fc(t){var e=as(t);if(M0(e))return t}function vR(t,e){if(t==="change")return e}var fw=!1;if(qn){var Dd;if(qn){var Od="oninput"in document;if(!Od){var _y=document.createElement("div");_y.setAttribute("oninput","return;"),Od=typeof _y.oninput=="function"}Dd=Od}else Dd=!1;fw=Dd&&(!document.documentMode||9<document.documentMode)}function wy(){qo&&(qo.detachEvent("onpropertychange",pw),ca=qo=null)}function pw(t){if(t.propertyName==="value"&&fc(ca)){var e=[];hw(e,ca,t,ip(t)),K0(yR,e)}}function _R(t,e,n){t==="focusin"?(wy(),qo=e,ca=n,qo.attachEvent("onpropertychange",pw)):t==="focusout"&&wy()}function wR(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return fc(ca)}function ER(t,e){if(t==="click")return fc(e)}function TR(t,e){if(t==="input"||t==="change")return fc(e)}function SR(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var fn=typeof Object.is=="function"?Object.is:SR;function da(t,e){if(fn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Th.call(e,i)||!fn(t[i],e[i]))return!1}return!0}function Ey(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Ty(t,e){var n=Ey(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Ey(n)}}function mw(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?mw(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function gw(){for(var t=window,e=vu();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=vu(t.document)}return e}function fp(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function xR(t){var e=gw(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&mw(n.ownerDocument.documentElement,n)){if(r!==null&&fp(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=Ty(n,s);var o=Ty(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var CR=qn&&"documentMode"in document&&11>=document.documentMode,ss=null,zh=null,Ko=null,Bh=!1;function Sy(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Bh||ss==null||ss!==vu(r)||(r=ss,"selectionStart"in r&&fp(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Ko&&da(Ko,r)||(Ko=r,r=Cu(zh,"onSelect"),0<r.length&&(e=new cp("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=ss)))}function xl(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var os={animationend:xl("Animation","AnimationEnd"),animationiteration:xl("Animation","AnimationIteration"),animationstart:xl("Animation","AnimationStart"),transitionend:xl("Transition","TransitionEnd")},Vd={},yw={};qn&&(yw=document.createElement("div").style,"AnimationEvent"in window||(delete os.animationend.animation,delete os.animationiteration.animation,delete os.animationstart.animation),"TransitionEvent"in window||delete os.transitionend.transition);function pc(t){if(Vd[t])return Vd[t];if(!os[t])return t;var e=os[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in yw)return Vd[t]=e[n];return t}var vw=pc("animationend"),_w=pc("animationiteration"),ww=pc("animationstart"),Ew=pc("transitionend"),Tw=new Map,xy="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Zr(t,e){Tw.set(t,e),Di(e,[t])}for(var Md=0;Md<xy.length;Md++){var Ld=xy[Md],AR=Ld.toLowerCase(),RR=Ld[0].toUpperCase()+Ld.slice(1);Zr(AR,"on"+RR)}Zr(vw,"onAnimationEnd");Zr(_w,"onAnimationIteration");Zr(ww,"onAnimationStart");Zr("dblclick","onDoubleClick");Zr("focusin","onFocus");Zr("focusout","onBlur");Zr(Ew,"onTransitionEnd");Os("onMouseEnter",["mouseout","mouseover"]);Os("onMouseLeave",["mouseout","mouseover"]);Os("onPointerEnter",["pointerout","pointerover"]);Os("onPointerLeave",["pointerout","pointerover"]);Di("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Di("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Di("onBeforeInput",["compositionend","keypress","textInput","paste"]);Di("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Di("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Di("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var jo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),IR=new Set("cancel close invalid load scroll toggle".split(" ").concat(jo));function Cy(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,AA(r,e,void 0,t),t.currentTarget=null}function Sw(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],u=a.instance,c=a.currentTarget;if(a=a.listener,u!==s&&i.isPropagationStopped())break e;Cy(i,a,c),s=u}else for(o=0;o<r.length;o++){if(a=r[o],u=a.instance,c=a.currentTarget,a=a.listener,u!==s&&i.isPropagationStopped())break e;Cy(i,a,c),s=u}}}if(wu)throw t=Lh,wu=!1,Lh=null,t}function Se(t,e){var n=e[Kh];n===void 0&&(n=e[Kh]=new Set);var r=t+"__bubble";n.has(r)||(xw(e,t,2,!1),n.add(r))}function Fd(t,e,n){var r=0;e&&(r|=4),xw(n,t,r,e)}var Cl="_reactListening"+Math.random().toString(36).slice(2);function ha(t){if(!t[Cl]){t[Cl]=!0,k0.forEach(function(n){n!=="selectionchange"&&(IR.has(n)||Fd(n,!1,t),Fd(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Cl]||(e[Cl]=!0,Fd("selectionchange",!1,e))}}function xw(t,e,n,r){switch(aw(e)){case 1:var i=BA;break;case 4:i=$A;break;default:i=lp}n=i.bind(null,e,n,t),i=void 0,!Mh||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function jd(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var u=o.tag;if((u===3||u===4)&&(u=o.stateNode.containerInfo,u===i||u.nodeType===8&&u.parentNode===i))return;o=o.return}for(;a!==null;){if(o=hi(a),o===null)return;if(u=o.tag,u===5||u===6){r=s=o;continue e}a=a.parentNode}}r=r.return}K0(function(){var c=s,h=ip(n),f=[];e:{var m=Tw.get(t);if(m!==void 0){var _=cp,A=t;switch(t){case"keypress":if(Zl(n)===0)break e;case"keydown":case"keyup":_=iR;break;case"focusin":A="focus",_=Nd;break;case"focusout":A="blur",_=Nd;break;case"beforeblur":case"afterblur":_=Nd;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":_=fy;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":_=qA;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":_=aR;break;case vw:case _w:case ww:_=QA;break;case Ew:_=uR;break;case"scroll":_=HA;break;case"wheel":_=dR;break;case"copy":case"cut":case"paste":_=XA;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":_=my}var g=(e&4)!==0,E=!g&&t==="scroll",v=g?m!==null?m+"Capture":null:m;g=[];for(var y=c,T;y!==null;){T=y;var P=T.stateNode;if(T.tag===5&&P!==null&&(T=P,v!==null&&(P=oa(y,v),P!=null&&g.push(fa(y,P,T)))),E)break;y=y.return}0<g.length&&(m=new _(m,A,null,n,h),f.push({event:m,listeners:g}))}}if(!(e&7)){e:{if(m=t==="mouseover"||t==="pointerover",_=t==="mouseout"||t==="pointerout",m&&n!==Oh&&(A=n.relatedTarget||n.fromElement)&&(hi(A)||A[Kn]))break e;if((_||m)&&(m=h.window===h?h:(m=h.ownerDocument)?m.defaultView||m.parentWindow:window,_?(A=n.relatedTarget||n.toElement,_=c,A=A?hi(A):null,A!==null&&(E=Oi(A),A!==E||A.tag!==5&&A.tag!==6)&&(A=null)):(_=null,A=c),_!==A)){if(g=fy,P="onMouseLeave",v="onMouseEnter",y="mouse",(t==="pointerout"||t==="pointerover")&&(g=my,P="onPointerLeave",v="onPointerEnter",y="pointer"),E=_==null?m:as(_),T=A==null?m:as(A),m=new g(P,y+"leave",_,n,h),m.target=E,m.relatedTarget=T,P=null,hi(h)===c&&(g=new g(v,y+"enter",A,n,h),g.target=T,g.relatedTarget=E,P=g),E=P,_&&A)t:{for(g=_,v=A,y=0,T=g;T;T=Gi(T))y++;for(T=0,P=v;P;P=Gi(P))T++;for(;0<y-T;)g=Gi(g),y--;for(;0<T-y;)v=Gi(v),T--;for(;y--;){if(g===v||v!==null&&g===v.alternate)break t;g=Gi(g),v=Gi(v)}g=null}else g=null;_!==null&&Ay(f,m,_,g,!1),A!==null&&E!==null&&Ay(f,E,A,g,!0)}}e:{if(m=c?as(c):window,_=m.nodeName&&m.nodeName.toLowerCase(),_==="select"||_==="input"&&m.type==="file")var O=vR;else if(vy(m))if(fw)O=TR;else{O=wR;var V=_R}else(_=m.nodeName)&&_.toLowerCase()==="input"&&(m.type==="checkbox"||m.type==="radio")&&(O=ER);if(O&&(O=O(t,c))){hw(f,O,n,h);break e}V&&V(t,m,c),t==="focusout"&&(V=m._wrapperState)&&V.controlled&&m.type==="number"&&Ph(m,"number",m.value)}switch(V=c?as(c):window,t){case"focusin":(vy(V)||V.contentEditable==="true")&&(ss=V,zh=c,Ko=null);break;case"focusout":Ko=zh=ss=null;break;case"mousedown":Bh=!0;break;case"contextmenu":case"mouseup":case"dragend":Bh=!1,Sy(f,n,h);break;case"selectionchange":if(CR)break;case"keydown":case"keyup":Sy(f,n,h)}var x;if(hp)e:{switch(t){case"compositionstart":var w="onCompositionStart";break e;case"compositionend":w="onCompositionEnd";break e;case"compositionupdate":w="onCompositionUpdate";break e}w=void 0}else is?cw(t,n)&&(w="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(w="onCompositionStart");w&&(uw&&n.locale!=="ko"&&(is||w!=="onCompositionStart"?w==="onCompositionEnd"&&is&&(x=lw()):(Tr=h,up="value"in Tr?Tr.value:Tr.textContent,is=!0)),V=Cu(c,w),0<V.length&&(w=new py(w,t,null,n,h),f.push({event:w,listeners:V}),x?w.data=x:(x=dw(n),x!==null&&(w.data=x)))),(x=fR?pR(t,n):mR(t,n))&&(c=Cu(c,"onBeforeInput"),0<c.length&&(h=new py("onBeforeInput","beforeinput",null,n,h),f.push({event:h,listeners:c}),h.data=x))}Sw(f,e)})}function fa(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Cu(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=oa(t,n),s!=null&&r.unshift(fa(t,s,i)),s=oa(t,e),s!=null&&r.push(fa(t,s,i))),t=t.return}return r}function Gi(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Ay(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var a=n,u=a.alternate,c=a.stateNode;if(u!==null&&u===r)break;a.tag===5&&c!==null&&(a=c,i?(u=oa(n,s),u!=null&&o.unshift(fa(n,u,a))):i||(u=oa(n,s),u!=null&&o.push(fa(n,u,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var PR=/\r\n?/g,bR=/\u0000|\uFFFD/g;function Ry(t){return(typeof t=="string"?t:""+t).replace(PR,`
`).replace(bR,"")}function Al(t,e,n){if(e=Ry(e),Ry(t)!==e&&n)throw Error(B(425))}function Au(){}var $h=null,Hh=null;function Wh(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var qh=typeof setTimeout=="function"?setTimeout:void 0,kR=typeof clearTimeout=="function"?clearTimeout:void 0,Iy=typeof Promise=="function"?Promise:void 0,NR=typeof queueMicrotask=="function"?queueMicrotask:typeof Iy<"u"?function(t){return Iy.resolve(null).then(t).catch(DR)}:qh;function DR(t){setTimeout(function(){throw t})}function Ud(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),ua(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);ua(e)}function Ir(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Py(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var to=Math.random().toString(36).slice(2),Sn="__reactFiber$"+to,pa="__reactProps$"+to,Kn="__reactContainer$"+to,Kh="__reactEvents$"+to,OR="__reactListeners$"+to,VR="__reactHandles$"+to;function hi(t){var e=t[Sn];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Kn]||n[Sn]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Py(t);t!==null;){if(n=t[Sn])return n;t=Py(t)}return e}t=n,n=t.parentNode}return null}function Ua(t){return t=t[Sn]||t[Kn],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function as(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(B(33))}function mc(t){return t[pa]||null}var Gh=[],ls=-1;function ei(t){return{current:t}}function xe(t){0>ls||(t.current=Gh[ls],Gh[ls]=null,ls--)}function we(t,e){ls++,Gh[ls]=t.current,t.current=e}var Br={},pt=ei(Br),Pt=ei(!1),Si=Br;function Vs(t,e){var n=t.type.contextTypes;if(!n)return Br;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function bt(t){return t=t.childContextTypes,t!=null}function Ru(){xe(Pt),xe(pt)}function by(t,e,n){if(pt.current!==Br)throw Error(B(168));we(pt,e),we(Pt,n)}function Cw(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(B(108,_A(t)||"Unknown",i));return ke({},n,r)}function Iu(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Br,Si=pt.current,we(pt,t),we(Pt,Pt.current),!0}function ky(t,e,n){var r=t.stateNode;if(!r)throw Error(B(169));n?(t=Cw(t,e,Si),r.__reactInternalMemoizedMergedChildContext=t,xe(Pt),xe(pt),we(pt,t)):xe(Pt),we(Pt,n)}var Bn=null,gc=!1,zd=!1;function Aw(t){Bn===null?Bn=[t]:Bn.push(t)}function MR(t){gc=!0,Aw(t)}function ti(){if(!zd&&Bn!==null){zd=!0;var t=0,e=ge;try{var n=Bn;for(ge=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Bn=null,gc=!1}catch(i){throw Bn!==null&&(Bn=Bn.slice(t+1)),X0(sp,ti),i}finally{ge=e,zd=!1}}return null}var us=[],cs=0,Pu=null,bu=0,Wt=[],qt=0,xi=null,$n=1,Hn="";function ui(t,e){us[cs++]=bu,us[cs++]=Pu,Pu=t,bu=e}function Rw(t,e,n){Wt[qt++]=$n,Wt[qt++]=Hn,Wt[qt++]=xi,xi=t;var r=$n;t=Hn;var i=32-cn(r)-1;r&=~(1<<i),n+=1;var s=32-cn(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,$n=1<<32-cn(e)+i|n<<i|r,Hn=s+t}else $n=1<<s|n<<i|r,Hn=t}function pp(t){t.return!==null&&(ui(t,1),Rw(t,1,0))}function mp(t){for(;t===Pu;)Pu=us[--cs],us[cs]=null,bu=us[--cs],us[cs]=null;for(;t===xi;)xi=Wt[--qt],Wt[qt]=null,Hn=Wt[--qt],Wt[qt]=null,$n=Wt[--qt],Wt[qt]=null}var Ft=null,Mt=null,Ae=!1,ln=null;function Iw(t,e){var n=Gt(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function Ny(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Ft=t,Mt=Ir(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Ft=t,Mt=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=xi!==null?{id:$n,overflow:Hn}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Gt(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Ft=t,Mt=null,!0):!1;default:return!1}}function Qh(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Yh(t){if(Ae){var e=Mt;if(e){var n=e;if(!Ny(t,e)){if(Qh(t))throw Error(B(418));e=Ir(n.nextSibling);var r=Ft;e&&Ny(t,e)?Iw(r,n):(t.flags=t.flags&-4097|2,Ae=!1,Ft=t)}}else{if(Qh(t))throw Error(B(418));t.flags=t.flags&-4097|2,Ae=!1,Ft=t}}}function Dy(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Ft=t}function Rl(t){if(t!==Ft)return!1;if(!Ae)return Dy(t),Ae=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Wh(t.type,t.memoizedProps)),e&&(e=Mt)){if(Qh(t))throw Pw(),Error(B(418));for(;e;)Iw(t,e),e=Ir(e.nextSibling)}if(Dy(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(B(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Mt=Ir(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Mt=null}}else Mt=Ft?Ir(t.stateNode.nextSibling):null;return!0}function Pw(){for(var t=Mt;t;)t=Ir(t.nextSibling)}function Ms(){Mt=Ft=null,Ae=!1}function gp(t){ln===null?ln=[t]:ln.push(t)}var LR=nr.ReactCurrentBatchConfig;function bo(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(B(309));var r=n.stateNode}if(!r)throw Error(B(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(B(284));if(!n._owner)throw Error(B(290,t))}return t}function Il(t,e){throw t=Object.prototype.toString.call(e),Error(B(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Oy(t){var e=t._init;return e(t._payload)}function bw(t){function e(v,y){if(t){var T=v.deletions;T===null?(v.deletions=[y],v.flags|=16):T.push(y)}}function n(v,y){if(!t)return null;for(;y!==null;)e(v,y),y=y.sibling;return null}function r(v,y){for(v=new Map;y!==null;)y.key!==null?v.set(y.key,y):v.set(y.index,y),y=y.sibling;return v}function i(v,y){return v=Nr(v,y),v.index=0,v.sibling=null,v}function s(v,y,T){return v.index=T,t?(T=v.alternate,T!==null?(T=T.index,T<y?(v.flags|=2,y):T):(v.flags|=2,y)):(v.flags|=1048576,y)}function o(v){return t&&v.alternate===null&&(v.flags|=2),v}function a(v,y,T,P){return y===null||y.tag!==6?(y=Gd(T,v.mode,P),y.return=v,y):(y=i(y,T),y.return=v,y)}function u(v,y,T,P){var O=T.type;return O===rs?h(v,y,T.props.children,P,T.key):y!==null&&(y.elementType===O||typeof O=="object"&&O!==null&&O.$$typeof===hr&&Oy(O)===y.type)?(P=i(y,T.props),P.ref=bo(v,y,T),P.return=v,P):(P=ou(T.type,T.key,T.props,null,v.mode,P),P.ref=bo(v,y,T),P.return=v,P)}function c(v,y,T,P){return y===null||y.tag!==4||y.stateNode.containerInfo!==T.containerInfo||y.stateNode.implementation!==T.implementation?(y=Qd(T,v.mode,P),y.return=v,y):(y=i(y,T.children||[]),y.return=v,y)}function h(v,y,T,P,O){return y===null||y.tag!==7?(y=Ei(T,v.mode,P,O),y.return=v,y):(y=i(y,T),y.return=v,y)}function f(v,y,T){if(typeof y=="string"&&y!==""||typeof y=="number")return y=Gd(""+y,v.mode,T),y.return=v,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case yl:return T=ou(y.type,y.key,y.props,null,v.mode,T),T.ref=bo(v,null,y),T.return=v,T;case ns:return y=Qd(y,v.mode,T),y.return=v,y;case hr:var P=y._init;return f(v,P(y._payload),T)}if(Lo(y)||Co(y))return y=Ei(y,v.mode,T,null),y.return=v,y;Il(v,y)}return null}function m(v,y,T,P){var O=y!==null?y.key:null;if(typeof T=="string"&&T!==""||typeof T=="number")return O!==null?null:a(v,y,""+T,P);if(typeof T=="object"&&T!==null){switch(T.$$typeof){case yl:return T.key===O?u(v,y,T,P):null;case ns:return T.key===O?c(v,y,T,P):null;case hr:return O=T._init,m(v,y,O(T._payload),P)}if(Lo(T)||Co(T))return O!==null?null:h(v,y,T,P,null);Il(v,T)}return null}function _(v,y,T,P,O){if(typeof P=="string"&&P!==""||typeof P=="number")return v=v.get(T)||null,a(y,v,""+P,O);if(typeof P=="object"&&P!==null){switch(P.$$typeof){case yl:return v=v.get(P.key===null?T:P.key)||null,u(y,v,P,O);case ns:return v=v.get(P.key===null?T:P.key)||null,c(y,v,P,O);case hr:var V=P._init;return _(v,y,T,V(P._payload),O)}if(Lo(P)||Co(P))return v=v.get(T)||null,h(y,v,P,O,null);Il(y,P)}return null}function A(v,y,T,P){for(var O=null,V=null,x=y,w=y=0,R=null;x!==null&&w<T.length;w++){x.index>w?(R=x,x=null):R=x.sibling;var I=m(v,x,T[w],P);if(I===null){x===null&&(x=R);break}t&&x&&I.alternate===null&&e(v,x),y=s(I,y,w),V===null?O=I:V.sibling=I,V=I,x=R}if(w===T.length)return n(v,x),Ae&&ui(v,w),O;if(x===null){for(;w<T.length;w++)x=f(v,T[w],P),x!==null&&(y=s(x,y,w),V===null?O=x:V.sibling=x,V=x);return Ae&&ui(v,w),O}for(x=r(v,x);w<T.length;w++)R=_(x,v,w,T[w],P),R!==null&&(t&&R.alternate!==null&&x.delete(R.key===null?w:R.key),y=s(R,y,w),V===null?O=R:V.sibling=R,V=R);return t&&x.forEach(function(N){return e(v,N)}),Ae&&ui(v,w),O}function g(v,y,T,P){var O=Co(T);if(typeof O!="function")throw Error(B(150));if(T=O.call(T),T==null)throw Error(B(151));for(var V=O=null,x=y,w=y=0,R=null,I=T.next();x!==null&&!I.done;w++,I=T.next()){x.index>w?(R=x,x=null):R=x.sibling;var N=m(v,x,I.value,P);if(N===null){x===null&&(x=R);break}t&&x&&N.alternate===null&&e(v,x),y=s(N,y,w),V===null?O=N:V.sibling=N,V=N,x=R}if(I.done)return n(v,x),Ae&&ui(v,w),O;if(x===null){for(;!I.done;w++,I=T.next())I=f(v,I.value,P),I!==null&&(y=s(I,y,w),V===null?O=I:V.sibling=I,V=I);return Ae&&ui(v,w),O}for(x=r(v,x);!I.done;w++,I=T.next())I=_(x,v,w,I.value,P),I!==null&&(t&&I.alternate!==null&&x.delete(I.key===null?w:I.key),y=s(I,y,w),V===null?O=I:V.sibling=I,V=I);return t&&x.forEach(function(D){return e(v,D)}),Ae&&ui(v,w),O}function E(v,y,T,P){if(typeof T=="object"&&T!==null&&T.type===rs&&T.key===null&&(T=T.props.children),typeof T=="object"&&T!==null){switch(T.$$typeof){case yl:e:{for(var O=T.key,V=y;V!==null;){if(V.key===O){if(O=T.type,O===rs){if(V.tag===7){n(v,V.sibling),y=i(V,T.props.children),y.return=v,v=y;break e}}else if(V.elementType===O||typeof O=="object"&&O!==null&&O.$$typeof===hr&&Oy(O)===V.type){n(v,V.sibling),y=i(V,T.props),y.ref=bo(v,V,T),y.return=v,v=y;break e}n(v,V);break}else e(v,V);V=V.sibling}T.type===rs?(y=Ei(T.props.children,v.mode,P,T.key),y.return=v,v=y):(P=ou(T.type,T.key,T.props,null,v.mode,P),P.ref=bo(v,y,T),P.return=v,v=P)}return o(v);case ns:e:{for(V=T.key;y!==null;){if(y.key===V)if(y.tag===4&&y.stateNode.containerInfo===T.containerInfo&&y.stateNode.implementation===T.implementation){n(v,y.sibling),y=i(y,T.children||[]),y.return=v,v=y;break e}else{n(v,y);break}else e(v,y);y=y.sibling}y=Qd(T,v.mode,P),y.return=v,v=y}return o(v);case hr:return V=T._init,E(v,y,V(T._payload),P)}if(Lo(T))return A(v,y,T,P);if(Co(T))return g(v,y,T,P);Il(v,T)}return typeof T=="string"&&T!==""||typeof T=="number"?(T=""+T,y!==null&&y.tag===6?(n(v,y.sibling),y=i(y,T),y.return=v,v=y):(n(v,y),y=Gd(T,v.mode,P),y.return=v,v=y),o(v)):n(v,y)}return E}var Ls=bw(!0),kw=bw(!1),ku=ei(null),Nu=null,ds=null,yp=null;function vp(){yp=ds=Nu=null}function _p(t){var e=ku.current;xe(ku),t._currentValue=e}function Xh(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function vs(t,e){Nu=t,yp=ds=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(It=!0),t.firstContext=null)}function Yt(t){var e=t._currentValue;if(yp!==t)if(t={context:t,memoizedValue:e,next:null},ds===null){if(Nu===null)throw Error(B(308));ds=t,Nu.dependencies={lanes:0,firstContext:t}}else ds=ds.next=t;return e}var fi=null;function wp(t){fi===null?fi=[t]:fi.push(t)}function Nw(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,wp(e)):(n.next=i.next,i.next=n),e.interleaved=n,Gn(t,r)}function Gn(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var fr=!1;function Ep(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Dw(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Wn(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Pr(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,he&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,Gn(t,n)}return i=r.interleaved,i===null?(e.next=e,wp(r)):(e.next=i.next,i.next=e),r.interleaved=e,Gn(t,n)}function eu(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,op(t,n)}}function Vy(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Du(t,e,n,r){var i=t.updateQueue;fr=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var u=a,c=u.next;u.next=null,o===null?s=c:o.next=c,o=u;var h=t.alternate;h!==null&&(h=h.updateQueue,a=h.lastBaseUpdate,a!==o&&(a===null?h.firstBaseUpdate=c:a.next=c,h.lastBaseUpdate=u))}if(s!==null){var f=i.baseState;o=0,h=c=u=null,a=s;do{var m=a.lane,_=a.eventTime;if((r&m)===m){h!==null&&(h=h.next={eventTime:_,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var A=t,g=a;switch(m=e,_=n,g.tag){case 1:if(A=g.payload,typeof A=="function"){f=A.call(_,f,m);break e}f=A;break e;case 3:A.flags=A.flags&-65537|128;case 0:if(A=g.payload,m=typeof A=="function"?A.call(_,f,m):A,m==null)break e;f=ke({},f,m);break e;case 2:fr=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,m=i.effects,m===null?i.effects=[a]:m.push(a))}else _={eventTime:_,lane:m,tag:a.tag,payload:a.payload,callback:a.callback,next:null},h===null?(c=h=_,u=f):h=h.next=_,o|=m;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;m=a,a=m.next,m.next=null,i.lastBaseUpdate=m,i.shared.pending=null}}while(!0);if(h===null&&(u=f),i.baseState=u,i.firstBaseUpdate=c,i.lastBaseUpdate=h,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);Ai|=o,t.lanes=o,t.memoizedState=f}}function My(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(B(191,i));i.call(r)}}}var za={},Rn=ei(za),ma=ei(za),ga=ei(za);function pi(t){if(t===za)throw Error(B(174));return t}function Tp(t,e){switch(we(ga,e),we(ma,t),we(Rn,za),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:kh(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=kh(e,t)}xe(Rn),we(Rn,e)}function Fs(){xe(Rn),xe(ma),xe(ga)}function Ow(t){pi(ga.current);var e=pi(Rn.current),n=kh(e,t.type);e!==n&&(we(ma,t),we(Rn,n))}function Sp(t){ma.current===t&&(xe(Rn),xe(ma))}var Pe=ei(0);function Ou(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Bd=[];function xp(){for(var t=0;t<Bd.length;t++)Bd[t]._workInProgressVersionPrimary=null;Bd.length=0}var tu=nr.ReactCurrentDispatcher,$d=nr.ReactCurrentBatchConfig,Ci=0,be=null,Be=null,Ge=null,Vu=!1,Go=!1,ya=0,FR=0;function at(){throw Error(B(321))}function Cp(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!fn(t[n],e[n]))return!1;return!0}function Ap(t,e,n,r,i,s){if(Ci=s,be=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,tu.current=t===null||t.memoizedState===null?BR:$R,t=n(r,i),Go){s=0;do{if(Go=!1,ya=0,25<=s)throw Error(B(301));s+=1,Ge=Be=null,e.updateQueue=null,tu.current=HR,t=n(r,i)}while(Go)}if(tu.current=Mu,e=Be!==null&&Be.next!==null,Ci=0,Ge=Be=be=null,Vu=!1,e)throw Error(B(300));return t}function Rp(){var t=ya!==0;return ya=0,t}function vn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ge===null?be.memoizedState=Ge=t:Ge=Ge.next=t,Ge}function Xt(){if(Be===null){var t=be.alternate;t=t!==null?t.memoizedState:null}else t=Be.next;var e=Ge===null?be.memoizedState:Ge.next;if(e!==null)Ge=e,Be=t;else{if(t===null)throw Error(B(310));Be=t,t={memoizedState:Be.memoizedState,baseState:Be.baseState,baseQueue:Be.baseQueue,queue:Be.queue,next:null},Ge===null?be.memoizedState=Ge=t:Ge=Ge.next=t}return Ge}function va(t,e){return typeof e=="function"?e(t):e}function Hd(t){var e=Xt(),n=e.queue;if(n===null)throw Error(B(311));n.lastRenderedReducer=t;var r=Be,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,u=null,c=s;do{var h=c.lane;if((Ci&h)===h)u!==null&&(u=u.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var f={lane:h,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};u===null?(a=u=f,o=r):u=u.next=f,be.lanes|=h,Ai|=h}c=c.next}while(c!==null&&c!==s);u===null?o=r:u.next=a,fn(r,e.memoizedState)||(It=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=u,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,be.lanes|=s,Ai|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Wd(t){var e=Xt(),n=e.queue;if(n===null)throw Error(B(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);fn(s,e.memoizedState)||(It=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function Vw(){}function Mw(t,e){var n=be,r=Xt(),i=e(),s=!fn(r.memoizedState,i);if(s&&(r.memoizedState=i,It=!0),r=r.queue,Ip(jw.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||Ge!==null&&Ge.memoizedState.tag&1){if(n.flags|=2048,_a(9,Fw.bind(null,n,r,i,e),void 0,null),Qe===null)throw Error(B(349));Ci&30||Lw(n,e,i)}return i}function Lw(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=be.updateQueue,e===null?(e={lastEffect:null,stores:null},be.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function Fw(t,e,n,r){e.value=n,e.getSnapshot=r,Uw(e)&&zw(t)}function jw(t,e,n){return n(function(){Uw(e)&&zw(t)})}function Uw(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!fn(t,n)}catch{return!0}}function zw(t){var e=Gn(t,1);e!==null&&dn(e,t,1,-1)}function Ly(t){var e=vn();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:va,lastRenderedState:t},e.queue=t,t=t.dispatch=zR.bind(null,be,t),[e.memoizedState,t]}function _a(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=be.updateQueue,e===null?(e={lastEffect:null,stores:null},be.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function Bw(){return Xt().memoizedState}function nu(t,e,n,r){var i=vn();be.flags|=t,i.memoizedState=_a(1|e,n,void 0,r===void 0?null:r)}function yc(t,e,n,r){var i=Xt();r=r===void 0?null:r;var s=void 0;if(Be!==null){var o=Be.memoizedState;if(s=o.destroy,r!==null&&Cp(r,o.deps)){i.memoizedState=_a(e,n,s,r);return}}be.flags|=t,i.memoizedState=_a(1|e,n,s,r)}function Fy(t,e){return nu(8390656,8,t,e)}function Ip(t,e){return yc(2048,8,t,e)}function $w(t,e){return yc(4,2,t,e)}function Hw(t,e){return yc(4,4,t,e)}function Ww(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function qw(t,e,n){return n=n!=null?n.concat([t]):null,yc(4,4,Ww.bind(null,e,t),n)}function Pp(){}function Kw(t,e){var n=Xt();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Cp(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function Gw(t,e){var n=Xt();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Cp(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function Qw(t,e,n){return Ci&21?(fn(n,e)||(n=ew(),be.lanes|=n,Ai|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,It=!0),t.memoizedState=n)}function jR(t,e){var n=ge;ge=n!==0&&4>n?n:4,t(!0);var r=$d.transition;$d.transition={};try{t(!1),e()}finally{ge=n,$d.transition=r}}function Yw(){return Xt().memoizedState}function UR(t,e,n){var r=kr(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Xw(t))Jw(e,n);else if(n=Nw(t,e,n,r),n!==null){var i=Tt();dn(n,t,r,i),Zw(n,e,r)}}function zR(t,e,n){var r=kr(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Xw(t))Jw(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,fn(a,o)){var u=e.interleaved;u===null?(i.next=i,wp(e)):(i.next=u.next,u.next=i),e.interleaved=i;return}}catch{}finally{}n=Nw(t,e,i,r),n!==null&&(i=Tt(),dn(n,t,r,i),Zw(n,e,r))}}function Xw(t){var e=t.alternate;return t===be||e!==null&&e===be}function Jw(t,e){Go=Vu=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function Zw(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,op(t,n)}}var Mu={readContext:Yt,useCallback:at,useContext:at,useEffect:at,useImperativeHandle:at,useInsertionEffect:at,useLayoutEffect:at,useMemo:at,useReducer:at,useRef:at,useState:at,useDebugValue:at,useDeferredValue:at,useTransition:at,useMutableSource:at,useSyncExternalStore:at,useId:at,unstable_isNewReconciler:!1},BR={readContext:Yt,useCallback:function(t,e){return vn().memoizedState=[t,e===void 0?null:e],t},useContext:Yt,useEffect:Fy,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,nu(4194308,4,Ww.bind(null,e,t),n)},useLayoutEffect:function(t,e){return nu(4194308,4,t,e)},useInsertionEffect:function(t,e){return nu(4,2,t,e)},useMemo:function(t,e){var n=vn();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=vn();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=UR.bind(null,be,t),[r.memoizedState,t]},useRef:function(t){var e=vn();return t={current:t},e.memoizedState=t},useState:Ly,useDebugValue:Pp,useDeferredValue:function(t){return vn().memoizedState=t},useTransition:function(){var t=Ly(!1),e=t[0];return t=jR.bind(null,t[1]),vn().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=be,i=vn();if(Ae){if(n===void 0)throw Error(B(407));n=n()}else{if(n=e(),Qe===null)throw Error(B(349));Ci&30||Lw(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,Fy(jw.bind(null,r,s,t),[t]),r.flags|=2048,_a(9,Fw.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=vn(),e=Qe.identifierPrefix;if(Ae){var n=Hn,r=$n;n=(r&~(1<<32-cn(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=ya++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=FR++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},$R={readContext:Yt,useCallback:Kw,useContext:Yt,useEffect:Ip,useImperativeHandle:qw,useInsertionEffect:$w,useLayoutEffect:Hw,useMemo:Gw,useReducer:Hd,useRef:Bw,useState:function(){return Hd(va)},useDebugValue:Pp,useDeferredValue:function(t){var e=Xt();return Qw(e,Be.memoizedState,t)},useTransition:function(){var t=Hd(va)[0],e=Xt().memoizedState;return[t,e]},useMutableSource:Vw,useSyncExternalStore:Mw,useId:Yw,unstable_isNewReconciler:!1},HR={readContext:Yt,useCallback:Kw,useContext:Yt,useEffect:Ip,useImperativeHandle:qw,useInsertionEffect:$w,useLayoutEffect:Hw,useMemo:Gw,useReducer:Wd,useRef:Bw,useState:function(){return Wd(va)},useDebugValue:Pp,useDeferredValue:function(t){var e=Xt();return Be===null?e.memoizedState=t:Qw(e,Be.memoizedState,t)},useTransition:function(){var t=Wd(va)[0],e=Xt().memoizedState;return[t,e]},useMutableSource:Vw,useSyncExternalStore:Mw,useId:Yw,unstable_isNewReconciler:!1};function rn(t,e){if(t&&t.defaultProps){e=ke({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function Jh(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:ke({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var vc={isMounted:function(t){return(t=t._reactInternals)?Oi(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Tt(),i=kr(t),s=Wn(r,i);s.payload=e,n!=null&&(s.callback=n),e=Pr(t,s,i),e!==null&&(dn(e,t,i,r),eu(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Tt(),i=kr(t),s=Wn(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=Pr(t,s,i),e!==null&&(dn(e,t,i,r),eu(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Tt(),r=kr(t),i=Wn(n,r);i.tag=2,e!=null&&(i.callback=e),e=Pr(t,i,r),e!==null&&(dn(e,t,r,n),eu(e,t,r))}};function jy(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!da(n,r)||!da(i,s):!0}function eE(t,e,n){var r=!1,i=Br,s=e.contextType;return typeof s=="object"&&s!==null?s=Yt(s):(i=bt(e)?Si:pt.current,r=e.contextTypes,s=(r=r!=null)?Vs(t,i):Br),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=vc,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function Uy(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&vc.enqueueReplaceState(e,e.state,null)}function Zh(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},Ep(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=Yt(s):(s=bt(e)?Si:pt.current,i.context=Vs(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(Jh(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&vc.enqueueReplaceState(i,i.state,null),Du(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function js(t,e){try{var n="",r=e;do n+=vA(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function qd(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function ef(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var WR=typeof WeakMap=="function"?WeakMap:Map;function tE(t,e,n){n=Wn(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Fu||(Fu=!0,df=r),ef(t,e)},n}function nE(t,e,n){n=Wn(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){ef(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){ef(t,e),typeof r!="function"&&(br===null?br=new Set([this]):br.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function zy(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new WR;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=sI.bind(null,t,e,n),e.then(t,t))}function By(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function $y(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Wn(-1,1),e.tag=2,Pr(n,e,1))),n.lanes|=1),t)}var qR=nr.ReactCurrentOwner,It=!1;function wt(t,e,n,r){e.child=t===null?kw(e,null,n,r):Ls(e,t.child,n,r)}function Hy(t,e,n,r,i){n=n.render;var s=e.ref;return vs(e,i),r=Ap(t,e,n,r,s,i),n=Rp(),t!==null&&!It?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Qn(t,e,i)):(Ae&&n&&pp(e),e.flags|=1,wt(t,e,r,i),e.child)}function Wy(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!Lp(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,rE(t,e,s,r,i)):(t=ou(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:da,n(o,r)&&t.ref===e.ref)return Qn(t,e,i)}return e.flags|=1,t=Nr(s,r),t.ref=e.ref,t.return=e,e.child=t}function rE(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(da(s,r)&&t.ref===e.ref)if(It=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(It=!0);else return e.lanes=t.lanes,Qn(t,e,i)}return tf(t,e,n,r,i)}function iE(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},we(fs,Ot),Ot|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,we(fs,Ot),Ot|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,we(fs,Ot),Ot|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,we(fs,Ot),Ot|=r;return wt(t,e,i,n),e.child}function sE(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function tf(t,e,n,r,i){var s=bt(n)?Si:pt.current;return s=Vs(e,s),vs(e,i),n=Ap(t,e,n,r,s,i),r=Rp(),t!==null&&!It?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Qn(t,e,i)):(Ae&&r&&pp(e),e.flags|=1,wt(t,e,n,i),e.child)}function qy(t,e,n,r,i){if(bt(n)){var s=!0;Iu(e)}else s=!1;if(vs(e,i),e.stateNode===null)ru(t,e),eE(e,n,r),Zh(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var u=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=Yt(c):(c=bt(n)?Si:pt.current,c=Vs(e,c));var h=n.getDerivedStateFromProps,f=typeof h=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||u!==c)&&Uy(e,o,r,c),fr=!1;var m=e.memoizedState;o.state=m,Du(e,r,o,i),u=e.memoizedState,a!==r||m!==u||Pt.current||fr?(typeof h=="function"&&(Jh(e,n,h,r),u=e.memoizedState),(a=fr||jy(e,n,a,r,m,u,c))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=u),o.props=r,o.state=u,o.context=c,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,Dw(t,e),a=e.memoizedProps,c=e.type===e.elementType?a:rn(e.type,a),o.props=c,f=e.pendingProps,m=o.context,u=n.contextType,typeof u=="object"&&u!==null?u=Yt(u):(u=bt(n)?Si:pt.current,u=Vs(e,u));var _=n.getDerivedStateFromProps;(h=typeof _=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==f||m!==u)&&Uy(e,o,r,u),fr=!1,m=e.memoizedState,o.state=m,Du(e,r,o,i);var A=e.memoizedState;a!==f||m!==A||Pt.current||fr?(typeof _=="function"&&(Jh(e,n,_,r),A=e.memoizedState),(c=fr||jy(e,n,c,r,m,A,u)||!1)?(h||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,A,u),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,A,u)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=A),o.props=r,o.state=A,o.context=u,r=c):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),r=!1)}return nf(t,e,n,r,s,i)}function nf(t,e,n,r,i,s){sE(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&ky(e,n,!1),Qn(t,e,s);r=e.stateNode,qR.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=Ls(e,t.child,null,s),e.child=Ls(e,null,a,s)):wt(t,e,a,s),e.memoizedState=r.state,i&&ky(e,n,!0),e.child}function oE(t){var e=t.stateNode;e.pendingContext?by(t,e.pendingContext,e.pendingContext!==e.context):e.context&&by(t,e.context,!1),Tp(t,e.containerInfo)}function Ky(t,e,n,r,i){return Ms(),gp(i),e.flags|=256,wt(t,e,n,r),e.child}var rf={dehydrated:null,treeContext:null,retryLane:0};function sf(t){return{baseLanes:t,cachePool:null,transitions:null}}function aE(t,e,n){var r=e.pendingProps,i=Pe.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),we(Pe,i&1),t===null)return Yh(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=Ec(o,r,0,null),t=Ei(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=sf(n),e.memoizedState=rf,t):bp(e,o));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return KR(t,e,o,r,a,i,n);if(s){s=r.fallback,o=e.mode,i=t.child,a=i.sibling;var u={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=u,e.deletions=null):(r=Nr(i,u),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=Nr(a,s):(s=Ei(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?sf(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=rf,r}return s=t.child,t=s.sibling,r=Nr(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function bp(t,e){return e=Ec({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Pl(t,e,n,r){return r!==null&&gp(r),Ls(e,t.child,null,n),t=bp(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function KR(t,e,n,r,i,s,o){if(n)return e.flags&256?(e.flags&=-257,r=qd(Error(B(422))),Pl(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=Ec({mode:"visible",children:r.children},i,0,null),s=Ei(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&Ls(e,t.child,null,o),e.child.memoizedState=sf(o),e.memoizedState=rf,s);if(!(e.mode&1))return Pl(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(B(419)),r=qd(s,r,void 0),Pl(t,e,o,r)}if(a=(o&t.childLanes)!==0,It||a){if(r=Qe,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,Gn(t,i),dn(r,t,i,-1))}return Mp(),r=qd(Error(B(421))),Pl(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=oI.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,Mt=Ir(i.nextSibling),Ft=e,Ae=!0,ln=null,t!==null&&(Wt[qt++]=$n,Wt[qt++]=Hn,Wt[qt++]=xi,$n=t.id,Hn=t.overflow,xi=e),e=bp(e,r.children),e.flags|=4096,e)}function Gy(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Xh(t.return,e,n)}function Kd(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function lE(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(wt(t,e,r.children,n),r=Pe.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Gy(t,n,e);else if(t.tag===19)Gy(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(we(Pe,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&Ou(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),Kd(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Ou(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}Kd(e,!0,n,null,s);break;case"together":Kd(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function ru(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Qn(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Ai|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(B(153));if(e.child!==null){for(t=e.child,n=Nr(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Nr(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function GR(t,e,n){switch(e.tag){case 3:oE(e),Ms();break;case 5:Ow(e);break;case 1:bt(e.type)&&Iu(e);break;case 4:Tp(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;we(ku,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(we(Pe,Pe.current&1),e.flags|=128,null):n&e.child.childLanes?aE(t,e,n):(we(Pe,Pe.current&1),t=Qn(t,e,n),t!==null?t.sibling:null);we(Pe,Pe.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return lE(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),we(Pe,Pe.current),r)break;return null;case 22:case 23:return e.lanes=0,iE(t,e,n)}return Qn(t,e,n)}var uE,of,cE,dE;uE=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};of=function(){};cE=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,pi(Rn.current);var s=null;switch(n){case"input":i=Rh(t,i),r=Rh(t,r),s=[];break;case"select":i=ke({},i,{value:void 0}),r=ke({},r,{value:void 0}),s=[];break;case"textarea":i=bh(t,i),r=bh(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Au)}Nh(n,r);var o;n=null;for(c in i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var a=i[c];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(ia.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null));for(c in r){var u=r[c];if(a=i!=null?i[c]:void 0,r.hasOwnProperty(c)&&u!==a&&(u!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||u&&u.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in u)u.hasOwnProperty(o)&&a[o]!==u[o]&&(n||(n={}),n[o]=u[o])}else n||(s||(s=[]),s.push(c,n)),n=u;else c==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,a=a?a.__html:void 0,u!=null&&a!==u&&(s=s||[]).push(c,u)):c==="children"?typeof u!="string"&&typeof u!="number"||(s=s||[]).push(c,""+u):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(ia.hasOwnProperty(c)?(u!=null&&c==="onScroll"&&Se("scroll",t),s||a===u||(s=[])):(s=s||[]).push(c,u))}n&&(s=s||[]).push("style",n);var c=s;(e.updateQueue=c)&&(e.flags|=4)}};dE=function(t,e,n,r){n!==r&&(e.flags|=4)};function ko(t,e){if(!Ae)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function lt(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function QR(t,e,n){var r=e.pendingProps;switch(mp(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return lt(e),null;case 1:return bt(e.type)&&Ru(),lt(e),null;case 3:return r=e.stateNode,Fs(),xe(Pt),xe(pt),xp(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Rl(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,ln!==null&&(pf(ln),ln=null))),of(t,e),lt(e),null;case 5:Sp(e);var i=pi(ga.current);if(n=e.type,t!==null&&e.stateNode!=null)cE(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(B(166));return lt(e),null}if(t=pi(Rn.current),Rl(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[Sn]=e,r[pa]=s,t=(e.mode&1)!==0,n){case"dialog":Se("cancel",r),Se("close",r);break;case"iframe":case"object":case"embed":Se("load",r);break;case"video":case"audio":for(i=0;i<jo.length;i++)Se(jo[i],r);break;case"source":Se("error",r);break;case"img":case"image":case"link":Se("error",r),Se("load",r);break;case"details":Se("toggle",r);break;case"input":ry(r,s),Se("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Se("invalid",r);break;case"textarea":sy(r,s),Se("invalid",r)}Nh(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&Al(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&Al(r.textContent,a,t),i=["children",""+a]):ia.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&Se("scroll",r)}switch(n){case"input":vl(r),iy(r,s,!0);break;case"textarea":vl(r),oy(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=Au)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=j0(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[Sn]=e,t[pa]=r,uE(t,e,!1,!1),e.stateNode=t;e:{switch(o=Dh(n,r),n){case"dialog":Se("cancel",t),Se("close",t),i=r;break;case"iframe":case"object":case"embed":Se("load",t),i=r;break;case"video":case"audio":for(i=0;i<jo.length;i++)Se(jo[i],t);i=r;break;case"source":Se("error",t),i=r;break;case"img":case"image":case"link":Se("error",t),Se("load",t),i=r;break;case"details":Se("toggle",t),i=r;break;case"input":ry(t,r),i=Rh(t,r),Se("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=ke({},r,{value:void 0}),Se("invalid",t);break;case"textarea":sy(t,r),i=bh(t,r),Se("invalid",t);break;default:i=r}Nh(n,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var u=a[s];s==="style"?B0(t,u):s==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,u!=null&&U0(t,u)):s==="children"?typeof u=="string"?(n!=="textarea"||u!=="")&&sa(t,u):typeof u=="number"&&sa(t,""+u):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(ia.hasOwnProperty(s)?u!=null&&s==="onScroll"&&Se("scroll",t):u!=null&&ep(t,s,u,o))}switch(n){case"input":vl(t),iy(t,r,!1);break;case"textarea":vl(t),oy(t);break;case"option":r.value!=null&&t.setAttribute("value",""+zr(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?ps(t,!!r.multiple,s,!1):r.defaultValue!=null&&ps(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=Au)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return lt(e),null;case 6:if(t&&e.stateNode!=null)dE(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(B(166));if(n=pi(ga.current),pi(Rn.current),Rl(e)){if(r=e.stateNode,n=e.memoizedProps,r[Sn]=e,(s=r.nodeValue!==n)&&(t=Ft,t!==null))switch(t.tag){case 3:Al(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Al(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Sn]=e,e.stateNode=r}return lt(e),null;case 13:if(xe(Pe),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Ae&&Mt!==null&&e.mode&1&&!(e.flags&128))Pw(),Ms(),e.flags|=98560,s=!1;else if(s=Rl(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(B(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(B(317));s[Sn]=e}else Ms(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;lt(e),s=!1}else ln!==null&&(pf(ln),ln=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Pe.current&1?He===0&&(He=3):Mp())),e.updateQueue!==null&&(e.flags|=4),lt(e),null);case 4:return Fs(),of(t,e),t===null&&ha(e.stateNode.containerInfo),lt(e),null;case 10:return _p(e.type._context),lt(e),null;case 17:return bt(e.type)&&Ru(),lt(e),null;case 19:if(xe(Pe),s=e.memoizedState,s===null)return lt(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)ko(s,!1);else{if(He!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Ou(t),o!==null){for(e.flags|=128,ko(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return we(Pe,Pe.current&1|2),e.child}t=t.sibling}s.tail!==null&&je()>Us&&(e.flags|=128,r=!0,ko(s,!1),e.lanes=4194304)}else{if(!r)if(t=Ou(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),ko(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!Ae)return lt(e),null}else 2*je()-s.renderingStartTime>Us&&n!==1073741824&&(e.flags|=128,r=!0,ko(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=je(),e.sibling=null,n=Pe.current,we(Pe,r?n&1|2:n&1),e):(lt(e),null);case 22:case 23:return Vp(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Ot&1073741824&&(lt(e),e.subtreeFlags&6&&(e.flags|=8192)):lt(e),null;case 24:return null;case 25:return null}throw Error(B(156,e.tag))}function YR(t,e){switch(mp(e),e.tag){case 1:return bt(e.type)&&Ru(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Fs(),xe(Pt),xe(pt),xp(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Sp(e),null;case 13:if(xe(Pe),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(B(340));Ms()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return xe(Pe),null;case 4:return Fs(),null;case 10:return _p(e.type._context),null;case 22:case 23:return Vp(),null;case 24:return null;default:return null}}var bl=!1,ht=!1,XR=typeof WeakSet=="function"?WeakSet:Set,K=null;function hs(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Ve(t,e,r)}else n.current=null}function af(t,e,n){try{n()}catch(r){Ve(t,e,r)}}var Qy=!1;function JR(t,e){if($h=Su,t=gw(),fp(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,u=-1,c=0,h=0,f=t,m=null;t:for(;;){for(var _;f!==n||i!==0&&f.nodeType!==3||(a=o+i),f!==s||r!==0&&f.nodeType!==3||(u=o+r),f.nodeType===3&&(o+=f.nodeValue.length),(_=f.firstChild)!==null;)m=f,f=_;for(;;){if(f===t)break t;if(m===n&&++c===i&&(a=o),m===s&&++h===r&&(u=o),(_=f.nextSibling)!==null)break;f=m,m=f.parentNode}f=_}n=a===-1||u===-1?null:{start:a,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(Hh={focusedElem:t,selectionRange:n},Su=!1,K=e;K!==null;)if(e=K,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,K=t;else for(;K!==null;){e=K;try{var A=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(A!==null){var g=A.memoizedProps,E=A.memoizedState,v=e.stateNode,y=v.getSnapshotBeforeUpdate(e.elementType===e.type?g:rn(e.type,g),E);v.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var T=e.stateNode.containerInfo;T.nodeType===1?T.textContent="":T.nodeType===9&&T.documentElement&&T.removeChild(T.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(B(163))}}catch(P){Ve(e,e.return,P)}if(t=e.sibling,t!==null){t.return=e.return,K=t;break}K=e.return}return A=Qy,Qy=!1,A}function Qo(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&af(e,n,s)}i=i.next}while(i!==r)}}function _c(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function lf(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function hE(t){var e=t.alternate;e!==null&&(t.alternate=null,hE(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Sn],delete e[pa],delete e[Kh],delete e[OR],delete e[VR])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function fE(t){return t.tag===5||t.tag===3||t.tag===4}function Yy(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||fE(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function uf(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Au));else if(r!==4&&(t=t.child,t!==null))for(uf(t,e,n),t=t.sibling;t!==null;)uf(t,e,n),t=t.sibling}function cf(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(cf(t,e,n),t=t.sibling;t!==null;)cf(t,e,n),t=t.sibling}var Xe=null,an=!1;function or(t,e,n){for(n=n.child;n!==null;)pE(t,e,n),n=n.sibling}function pE(t,e,n){if(An&&typeof An.onCommitFiberUnmount=="function")try{An.onCommitFiberUnmount(dc,n)}catch{}switch(n.tag){case 5:ht||hs(n,e);case 6:var r=Xe,i=an;Xe=null,or(t,e,n),Xe=r,an=i,Xe!==null&&(an?(t=Xe,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Xe.removeChild(n.stateNode));break;case 18:Xe!==null&&(an?(t=Xe,n=n.stateNode,t.nodeType===8?Ud(t.parentNode,n):t.nodeType===1&&Ud(t,n),ua(t)):Ud(Xe,n.stateNode));break;case 4:r=Xe,i=an,Xe=n.stateNode.containerInfo,an=!0,or(t,e,n),Xe=r,an=i;break;case 0:case 11:case 14:case 15:if(!ht&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&af(n,e,o),i=i.next}while(i!==r)}or(t,e,n);break;case 1:if(!ht&&(hs(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Ve(n,e,a)}or(t,e,n);break;case 21:or(t,e,n);break;case 22:n.mode&1?(ht=(r=ht)||n.memoizedState!==null,or(t,e,n),ht=r):or(t,e,n);break;default:or(t,e,n)}}function Xy(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new XR),e.forEach(function(r){var i=aI.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function nn(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:Xe=a.stateNode,an=!1;break e;case 3:Xe=a.stateNode.containerInfo,an=!0;break e;case 4:Xe=a.stateNode.containerInfo,an=!0;break e}a=a.return}if(Xe===null)throw Error(B(160));pE(s,o,i),Xe=null,an=!1;var u=i.alternate;u!==null&&(u.return=null),i.return=null}catch(c){Ve(i,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)mE(e,t),e=e.sibling}function mE(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(nn(e,t),yn(t),r&4){try{Qo(3,t,t.return),_c(3,t)}catch(g){Ve(t,t.return,g)}try{Qo(5,t,t.return)}catch(g){Ve(t,t.return,g)}}break;case 1:nn(e,t),yn(t),r&512&&n!==null&&hs(n,n.return);break;case 5:if(nn(e,t),yn(t),r&512&&n!==null&&hs(n,n.return),t.flags&32){var i=t.stateNode;try{sa(i,"")}catch(g){Ve(t,t.return,g)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,a=t.type,u=t.updateQueue;if(t.updateQueue=null,u!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&L0(i,s),Dh(a,o);var c=Dh(a,s);for(o=0;o<u.length;o+=2){var h=u[o],f=u[o+1];h==="style"?B0(i,f):h==="dangerouslySetInnerHTML"?U0(i,f):h==="children"?sa(i,f):ep(i,h,f,c)}switch(a){case"input":Ih(i,s);break;case"textarea":F0(i,s);break;case"select":var m=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var _=s.value;_!=null?ps(i,!!s.multiple,_,!1):m!==!!s.multiple&&(s.defaultValue!=null?ps(i,!!s.multiple,s.defaultValue,!0):ps(i,!!s.multiple,s.multiple?[]:"",!1))}i[pa]=s}catch(g){Ve(t,t.return,g)}}break;case 6:if(nn(e,t),yn(t),r&4){if(t.stateNode===null)throw Error(B(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(g){Ve(t,t.return,g)}}break;case 3:if(nn(e,t),yn(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{ua(e.containerInfo)}catch(g){Ve(t,t.return,g)}break;case 4:nn(e,t),yn(t);break;case 13:nn(e,t),yn(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(Dp=je())),r&4&&Xy(t);break;case 22:if(h=n!==null&&n.memoizedState!==null,t.mode&1?(ht=(c=ht)||h,nn(e,t),ht=c):nn(e,t),yn(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!h&&t.mode&1)for(K=t,h=t.child;h!==null;){for(f=K=h;K!==null;){switch(m=K,_=m.child,m.tag){case 0:case 11:case 14:case 15:Qo(4,m,m.return);break;case 1:hs(m,m.return);var A=m.stateNode;if(typeof A.componentWillUnmount=="function"){r=m,n=m.return;try{e=r,A.props=e.memoizedProps,A.state=e.memoizedState,A.componentWillUnmount()}catch(g){Ve(r,n,g)}}break;case 5:hs(m,m.return);break;case 22:if(m.memoizedState!==null){Zy(f);continue}}_!==null?(_.return=m,K=_):Zy(f)}h=h.sibling}e:for(h=null,f=t;;){if(f.tag===5){if(h===null){h=f;try{i=f.stateNode,c?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=f.stateNode,u=f.memoizedProps.style,o=u!=null&&u.hasOwnProperty("display")?u.display:null,a.style.display=z0("display",o))}catch(g){Ve(t,t.return,g)}}}else if(f.tag===6){if(h===null)try{f.stateNode.nodeValue=c?"":f.memoizedProps}catch(g){Ve(t,t.return,g)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;h===f&&(h=null),f=f.return}h===f&&(h=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:nn(e,t),yn(t),r&4&&Xy(t);break;case 21:break;default:nn(e,t),yn(t)}}function yn(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(fE(n)){var r=n;break e}n=n.return}throw Error(B(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(sa(i,""),r.flags&=-33);var s=Yy(t);cf(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=Yy(t);uf(t,a,o);break;default:throw Error(B(161))}}catch(u){Ve(t,t.return,u)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function ZR(t,e,n){K=t,gE(t)}function gE(t,e,n){for(var r=(t.mode&1)!==0;K!==null;){var i=K,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||bl;if(!o){var a=i.alternate,u=a!==null&&a.memoizedState!==null||ht;a=bl;var c=ht;if(bl=o,(ht=u)&&!c)for(K=i;K!==null;)o=K,u=o.child,o.tag===22&&o.memoizedState!==null?ev(i):u!==null?(u.return=o,K=u):ev(i);for(;s!==null;)K=s,gE(s),s=s.sibling;K=i,bl=a,ht=c}Jy(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,K=s):Jy(t)}}function Jy(t){for(;K!==null;){var e=K;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:ht||_c(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!ht)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:rn(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&My(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}My(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var u=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&n.focus();break;case"img":u.src&&(n.src=u.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var h=c.memoizedState;if(h!==null){var f=h.dehydrated;f!==null&&ua(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(B(163))}ht||e.flags&512&&lf(e)}catch(m){Ve(e,e.return,m)}}if(e===t){K=null;break}if(n=e.sibling,n!==null){n.return=e.return,K=n;break}K=e.return}}function Zy(t){for(;K!==null;){var e=K;if(e===t){K=null;break}var n=e.sibling;if(n!==null){n.return=e.return,K=n;break}K=e.return}}function ev(t){for(;K!==null;){var e=K;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{_c(4,e)}catch(u){Ve(e,n,u)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(u){Ve(e,i,u)}}var s=e.return;try{lf(e)}catch(u){Ve(e,s,u)}break;case 5:var o=e.return;try{lf(e)}catch(u){Ve(e,o,u)}}}catch(u){Ve(e,e.return,u)}if(e===t){K=null;break}var a=e.sibling;if(a!==null){a.return=e.return,K=a;break}K=e.return}}var eI=Math.ceil,Lu=nr.ReactCurrentDispatcher,kp=nr.ReactCurrentOwner,Qt=nr.ReactCurrentBatchConfig,he=0,Qe=null,ze=null,et=0,Ot=0,fs=ei(0),He=0,wa=null,Ai=0,wc=0,Np=0,Yo=null,Rt=null,Dp=0,Us=1/0,zn=null,Fu=!1,df=null,br=null,kl=!1,Sr=null,ju=0,Xo=0,hf=null,iu=-1,su=0;function Tt(){return he&6?je():iu!==-1?iu:iu=je()}function kr(t){return t.mode&1?he&2&&et!==0?et&-et:LR.transition!==null?(su===0&&(su=ew()),su):(t=ge,t!==0||(t=window.event,t=t===void 0?16:aw(t.type)),t):1}function dn(t,e,n,r){if(50<Xo)throw Xo=0,hf=null,Error(B(185));Fa(t,n,r),(!(he&2)||t!==Qe)&&(t===Qe&&(!(he&2)&&(wc|=n),He===4&&mr(t,et)),kt(t,r),n===1&&he===0&&!(e.mode&1)&&(Us=je()+500,gc&&ti()))}function kt(t,e){var n=t.callbackNode;LA(t,e);var r=Tu(t,t===Qe?et:0);if(r===0)n!==null&&uy(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&uy(n),e===1)t.tag===0?MR(tv.bind(null,t)):Aw(tv.bind(null,t)),NR(function(){!(he&6)&&ti()}),n=null;else{switch(tw(r)){case 1:n=sp;break;case 4:n=J0;break;case 16:n=Eu;break;case 536870912:n=Z0;break;default:n=Eu}n=xE(n,yE.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function yE(t,e){if(iu=-1,su=0,he&6)throw Error(B(327));var n=t.callbackNode;if(_s()&&t.callbackNode!==n)return null;var r=Tu(t,t===Qe?et:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Uu(t,r);else{e=r;var i=he;he|=2;var s=_E();(Qe!==t||et!==e)&&(zn=null,Us=je()+500,wi(t,e));do try{rI();break}catch(a){vE(t,a)}while(!0);vp(),Lu.current=s,he=i,ze!==null?e=0:(Qe=null,et=0,e=He)}if(e!==0){if(e===2&&(i=Fh(t),i!==0&&(r=i,e=ff(t,i))),e===1)throw n=wa,wi(t,0),mr(t,r),kt(t,je()),n;if(e===6)mr(t,r);else{if(i=t.current.alternate,!(r&30)&&!tI(i)&&(e=Uu(t,r),e===2&&(s=Fh(t),s!==0&&(r=s,e=ff(t,s))),e===1))throw n=wa,wi(t,0),mr(t,r),kt(t,je()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(B(345));case 2:ci(t,Rt,zn);break;case 3:if(mr(t,r),(r&130023424)===r&&(e=Dp+500-je(),10<e)){if(Tu(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){Tt(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=qh(ci.bind(null,t,Rt,zn),e);break}ci(t,Rt,zn);break;case 4:if(mr(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-cn(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=je()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*eI(r/1960))-r,10<r){t.timeoutHandle=qh(ci.bind(null,t,Rt,zn),r);break}ci(t,Rt,zn);break;case 5:ci(t,Rt,zn);break;default:throw Error(B(329))}}}return kt(t,je()),t.callbackNode===n?yE.bind(null,t):null}function ff(t,e){var n=Yo;return t.current.memoizedState.isDehydrated&&(wi(t,e).flags|=256),t=Uu(t,e),t!==2&&(e=Rt,Rt=n,e!==null&&pf(e)),t}function pf(t){Rt===null?Rt=t:Rt.push.apply(Rt,t)}function tI(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!fn(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function mr(t,e){for(e&=~Np,e&=~wc,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-cn(e),r=1<<n;t[n]=-1,e&=~r}}function tv(t){if(he&6)throw Error(B(327));_s();var e=Tu(t,0);if(!(e&1))return kt(t,je()),null;var n=Uu(t,e);if(t.tag!==0&&n===2){var r=Fh(t);r!==0&&(e=r,n=ff(t,r))}if(n===1)throw n=wa,wi(t,0),mr(t,e),kt(t,je()),n;if(n===6)throw Error(B(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,ci(t,Rt,zn),kt(t,je()),null}function Op(t,e){var n=he;he|=1;try{return t(e)}finally{he=n,he===0&&(Us=je()+500,gc&&ti())}}function Ri(t){Sr!==null&&Sr.tag===0&&!(he&6)&&_s();var e=he;he|=1;var n=Qt.transition,r=ge;try{if(Qt.transition=null,ge=1,t)return t()}finally{ge=r,Qt.transition=n,he=e,!(he&6)&&ti()}}function Vp(){Ot=fs.current,xe(fs)}function wi(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,kR(n)),ze!==null)for(n=ze.return;n!==null;){var r=n;switch(mp(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Ru();break;case 3:Fs(),xe(Pt),xe(pt),xp();break;case 5:Sp(r);break;case 4:Fs();break;case 13:xe(Pe);break;case 19:xe(Pe);break;case 10:_p(r.type._context);break;case 22:case 23:Vp()}n=n.return}if(Qe=t,ze=t=Nr(t.current,null),et=Ot=e,He=0,wa=null,Np=wc=Ai=0,Rt=Yo=null,fi!==null){for(e=0;e<fi.length;e++)if(n=fi[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}fi=null}return t}function vE(t,e){do{var n=ze;try{if(vp(),tu.current=Mu,Vu){for(var r=be.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Vu=!1}if(Ci=0,Ge=Be=be=null,Go=!1,ya=0,kp.current=null,n===null||n.return===null){He=1,wa=e,ze=null;break}e:{var s=t,o=n.return,a=n,u=e;if(e=et,a.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){var c=u,h=a,f=h.tag;if(!(h.mode&1)&&(f===0||f===11||f===15)){var m=h.alternate;m?(h.updateQueue=m.updateQueue,h.memoizedState=m.memoizedState,h.lanes=m.lanes):(h.updateQueue=null,h.memoizedState=null)}var _=By(o);if(_!==null){_.flags&=-257,$y(_,o,a,s,e),_.mode&1&&zy(s,c,e),e=_,u=c;var A=e.updateQueue;if(A===null){var g=new Set;g.add(u),e.updateQueue=g}else A.add(u);break e}else{if(!(e&1)){zy(s,c,e),Mp();break e}u=Error(B(426))}}else if(Ae&&a.mode&1){var E=By(o);if(E!==null){!(E.flags&65536)&&(E.flags|=256),$y(E,o,a,s,e),gp(js(u,a));break e}}s=u=js(u,a),He!==4&&(He=2),Yo===null?Yo=[s]:Yo.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var v=tE(s,u,e);Vy(s,v);break e;case 1:a=u;var y=s.type,T=s.stateNode;if(!(s.flags&128)&&(typeof y.getDerivedStateFromError=="function"||T!==null&&typeof T.componentDidCatch=="function"&&(br===null||!br.has(T)))){s.flags|=65536,e&=-e,s.lanes|=e;var P=nE(s,a,e);Vy(s,P);break e}}s=s.return}while(s!==null)}EE(n)}catch(O){e=O,ze===n&&n!==null&&(ze=n=n.return);continue}break}while(!0)}function _E(){var t=Lu.current;return Lu.current=Mu,t===null?Mu:t}function Mp(){(He===0||He===3||He===2)&&(He=4),Qe===null||!(Ai&268435455)&&!(wc&268435455)||mr(Qe,et)}function Uu(t,e){var n=he;he|=2;var r=_E();(Qe!==t||et!==e)&&(zn=null,wi(t,e));do try{nI();break}catch(i){vE(t,i)}while(!0);if(vp(),he=n,Lu.current=r,ze!==null)throw Error(B(261));return Qe=null,et=0,He}function nI(){for(;ze!==null;)wE(ze)}function rI(){for(;ze!==null&&!IA();)wE(ze)}function wE(t){var e=SE(t.alternate,t,Ot);t.memoizedProps=t.pendingProps,e===null?EE(t):ze=e,kp.current=null}function EE(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=YR(n,e),n!==null){n.flags&=32767,ze=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{He=6,ze=null;return}}else if(n=QR(n,e,Ot),n!==null){ze=n;return}if(e=e.sibling,e!==null){ze=e;return}ze=e=t}while(e!==null);He===0&&(He=5)}function ci(t,e,n){var r=ge,i=Qt.transition;try{Qt.transition=null,ge=1,iI(t,e,n,r)}finally{Qt.transition=i,ge=r}return null}function iI(t,e,n,r){do _s();while(Sr!==null);if(he&6)throw Error(B(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(B(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(FA(t,s),t===Qe&&(ze=Qe=null,et=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||kl||(kl=!0,xE(Eu,function(){return _s(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=Qt.transition,Qt.transition=null;var o=ge;ge=1;var a=he;he|=4,kp.current=null,JR(t,n),mE(n,t),xR(Hh),Su=!!$h,Hh=$h=null,t.current=n,ZR(n),PA(),he=a,ge=o,Qt.transition=s}else t.current=n;if(kl&&(kl=!1,Sr=t,ju=i),s=t.pendingLanes,s===0&&(br=null),NA(n.stateNode),kt(t,je()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Fu)throw Fu=!1,t=df,df=null,t;return ju&1&&t.tag!==0&&_s(),s=t.pendingLanes,s&1?t===hf?Xo++:(Xo=0,hf=t):Xo=0,ti(),null}function _s(){if(Sr!==null){var t=tw(ju),e=Qt.transition,n=ge;try{if(Qt.transition=null,ge=16>t?16:t,Sr===null)var r=!1;else{if(t=Sr,Sr=null,ju=0,he&6)throw Error(B(331));var i=he;for(he|=4,K=t.current;K!==null;){var s=K,o=s.child;if(K.flags&16){var a=s.deletions;if(a!==null){for(var u=0;u<a.length;u++){var c=a[u];for(K=c;K!==null;){var h=K;switch(h.tag){case 0:case 11:case 15:Qo(8,h,s)}var f=h.child;if(f!==null)f.return=h,K=f;else for(;K!==null;){h=K;var m=h.sibling,_=h.return;if(hE(h),h===c){K=null;break}if(m!==null){m.return=_,K=m;break}K=_}}}var A=s.alternate;if(A!==null){var g=A.child;if(g!==null){A.child=null;do{var E=g.sibling;g.sibling=null,g=E}while(g!==null)}}K=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,K=o;else e:for(;K!==null;){if(s=K,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Qo(9,s,s.return)}var v=s.sibling;if(v!==null){v.return=s.return,K=v;break e}K=s.return}}var y=t.current;for(K=y;K!==null;){o=K;var T=o.child;if(o.subtreeFlags&2064&&T!==null)T.return=o,K=T;else e:for(o=y;K!==null;){if(a=K,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:_c(9,a)}}catch(O){Ve(a,a.return,O)}if(a===o){K=null;break e}var P=a.sibling;if(P!==null){P.return=a.return,K=P;break e}K=a.return}}if(he=i,ti(),An&&typeof An.onPostCommitFiberRoot=="function")try{An.onPostCommitFiberRoot(dc,t)}catch{}r=!0}return r}finally{ge=n,Qt.transition=e}}return!1}function nv(t,e,n){e=js(n,e),e=tE(t,e,1),t=Pr(t,e,1),e=Tt(),t!==null&&(Fa(t,1,e),kt(t,e))}function Ve(t,e,n){if(t.tag===3)nv(t,t,n);else for(;e!==null;){if(e.tag===3){nv(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(br===null||!br.has(r))){t=js(n,t),t=nE(e,t,1),e=Pr(e,t,1),t=Tt(),e!==null&&(Fa(e,1,t),kt(e,t));break}}e=e.return}}function sI(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Tt(),t.pingedLanes|=t.suspendedLanes&n,Qe===t&&(et&n)===n&&(He===4||He===3&&(et&130023424)===et&&500>je()-Dp?wi(t,0):Np|=n),kt(t,e)}function TE(t,e){e===0&&(t.mode&1?(e=El,El<<=1,!(El&130023424)&&(El=4194304)):e=1);var n=Tt();t=Gn(t,e),t!==null&&(Fa(t,e,n),kt(t,n))}function oI(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),TE(t,n)}function aI(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(B(314))}r!==null&&r.delete(e),TE(t,n)}var SE;SE=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Pt.current)It=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return It=!1,GR(t,e,n);It=!!(t.flags&131072)}else It=!1,Ae&&e.flags&1048576&&Rw(e,bu,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;ru(t,e),t=e.pendingProps;var i=Vs(e,pt.current);vs(e,n),i=Ap(null,e,r,t,i,n);var s=Rp();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,bt(r)?(s=!0,Iu(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Ep(e),i.updater=vc,e.stateNode=i,i._reactInternals=e,Zh(e,r,t,n),e=nf(null,e,r,!0,s,n)):(e.tag=0,Ae&&s&&pp(e),wt(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(ru(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=uI(r),t=rn(r,t),i){case 0:e=tf(null,e,r,t,n);break e;case 1:e=qy(null,e,r,t,n);break e;case 11:e=Hy(null,e,r,t,n);break e;case 14:e=Wy(null,e,r,rn(r.type,t),n);break e}throw Error(B(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:rn(r,i),tf(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:rn(r,i),qy(t,e,r,i,n);case 3:e:{if(oE(e),t===null)throw Error(B(387));r=e.pendingProps,s=e.memoizedState,i=s.element,Dw(t,e),Du(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=js(Error(B(423)),e),e=Ky(t,e,r,n,i);break e}else if(r!==i){i=js(Error(B(424)),e),e=Ky(t,e,r,n,i);break e}else for(Mt=Ir(e.stateNode.containerInfo.firstChild),Ft=e,Ae=!0,ln=null,n=kw(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Ms(),r===i){e=Qn(t,e,n);break e}wt(t,e,r,n)}e=e.child}return e;case 5:return Ow(e),t===null&&Yh(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,Wh(r,i)?o=null:s!==null&&Wh(r,s)&&(e.flags|=32),sE(t,e),wt(t,e,o,n),e.child;case 6:return t===null&&Yh(e),null;case 13:return aE(t,e,n);case 4:return Tp(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Ls(e,null,r,n):wt(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:rn(r,i),Hy(t,e,r,i,n);case 7:return wt(t,e,e.pendingProps,n),e.child;case 8:return wt(t,e,e.pendingProps.children,n),e.child;case 12:return wt(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,we(ku,r._currentValue),r._currentValue=o,s!==null)if(fn(s.value,o)){if(s.children===i.children&&!Pt.current){e=Qn(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var u=a.firstContext;u!==null;){if(u.context===r){if(s.tag===1){u=Wn(-1,n&-n),u.tag=2;var c=s.updateQueue;if(c!==null){c=c.shared;var h=c.pending;h===null?u.next=u:(u.next=h.next,h.next=u),c.pending=u}}s.lanes|=n,u=s.alternate,u!==null&&(u.lanes|=n),Xh(s.return,n,e),a.lanes|=n;break}u=u.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(B(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),Xh(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}wt(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,vs(e,n),i=Yt(i),r=r(i),e.flags|=1,wt(t,e,r,n),e.child;case 14:return r=e.type,i=rn(r,e.pendingProps),i=rn(r.type,i),Wy(t,e,r,i,n);case 15:return rE(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:rn(r,i),ru(t,e),e.tag=1,bt(r)?(t=!0,Iu(e)):t=!1,vs(e,n),eE(e,r,i),Zh(e,r,i,n),nf(null,e,r,!0,t,n);case 19:return lE(t,e,n);case 22:return iE(t,e,n)}throw Error(B(156,e.tag))};function xE(t,e){return X0(t,e)}function lI(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Gt(t,e,n,r){return new lI(t,e,n,r)}function Lp(t){return t=t.prototype,!(!t||!t.isReactComponent)}function uI(t){if(typeof t=="function")return Lp(t)?1:0;if(t!=null){if(t=t.$$typeof,t===np)return 11;if(t===rp)return 14}return 2}function Nr(t,e){var n=t.alternate;return n===null?(n=Gt(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function ou(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")Lp(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case rs:return Ei(n.children,i,s,e);case tp:o=8,i|=8;break;case Sh:return t=Gt(12,n,e,i|2),t.elementType=Sh,t.lanes=s,t;case xh:return t=Gt(13,n,e,i),t.elementType=xh,t.lanes=s,t;case Ch:return t=Gt(19,n,e,i),t.elementType=Ch,t.lanes=s,t;case O0:return Ec(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case N0:o=10;break e;case D0:o=9;break e;case np:o=11;break e;case rp:o=14;break e;case hr:o=16,r=null;break e}throw Error(B(130,t==null?t:typeof t,""))}return e=Gt(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function Ei(t,e,n,r){return t=Gt(7,t,r,e),t.lanes=n,t}function Ec(t,e,n,r){return t=Gt(22,t,r,e),t.elementType=O0,t.lanes=n,t.stateNode={isHidden:!1},t}function Gd(t,e,n){return t=Gt(6,t,null,e),t.lanes=n,t}function Qd(t,e,n){return e=Gt(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function cI(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Pd(0),this.expirationTimes=Pd(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Pd(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Fp(t,e,n,r,i,s,o,a,u){return t=new cI(t,e,n,a,u),e===1?(e=1,s===!0&&(e|=8)):e=0,s=Gt(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ep(s),t}function dI(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ns,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function CE(t){if(!t)return Br;t=t._reactInternals;e:{if(Oi(t)!==t||t.tag!==1)throw Error(B(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(bt(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(B(171))}if(t.tag===1){var n=t.type;if(bt(n))return Cw(t,n,e)}return e}function AE(t,e,n,r,i,s,o,a,u){return t=Fp(n,r,!0,t,i,s,o,a,u),t.context=CE(null),n=t.current,r=Tt(),i=kr(n),s=Wn(r,i),s.callback=e??null,Pr(n,s,i),t.current.lanes=i,Fa(t,i,r),kt(t,r),t}function Tc(t,e,n,r){var i=e.current,s=Tt(),o=kr(i);return n=CE(n),e.context===null?e.context=n:e.pendingContext=n,e=Wn(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Pr(i,e,o),t!==null&&(dn(t,i,o,s),eu(t,i,o)),o}function zu(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function rv(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function jp(t,e){rv(t,e),(t=t.alternate)&&rv(t,e)}function hI(){return null}var RE=typeof reportError=="function"?reportError:function(t){console.error(t)};function Up(t){this._internalRoot=t}Sc.prototype.render=Up.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(B(409));Tc(t,e,null,null)};Sc.prototype.unmount=Up.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Ri(function(){Tc(null,t,null,null)}),e[Kn]=null}};function Sc(t){this._internalRoot=t}Sc.prototype.unstable_scheduleHydration=function(t){if(t){var e=iw();t={blockedOn:null,target:t,priority:e};for(var n=0;n<pr.length&&e!==0&&e<pr[n].priority;n++);pr.splice(n,0,t),n===0&&ow(t)}};function zp(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function xc(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function iv(){}function fI(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var c=zu(o);s.call(c)}}var o=AE(e,r,t,0,null,!1,!1,"",iv);return t._reactRootContainer=o,t[Kn]=o.current,ha(t.nodeType===8?t.parentNode:t),Ri(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var c=zu(u);a.call(c)}}var u=Fp(t,0,!1,null,null,!1,!1,"",iv);return t._reactRootContainer=u,t[Kn]=u.current,ha(t.nodeType===8?t.parentNode:t),Ri(function(){Tc(e,u,n,r)}),u}function Cc(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var u=zu(o);a.call(u)}}Tc(e,o,t,i)}else o=fI(n,e,t,i,r);return zu(o)}nw=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Fo(e.pendingLanes);n!==0&&(op(e,n|1),kt(e,je()),!(he&6)&&(Us=je()+500,ti()))}break;case 13:Ri(function(){var r=Gn(t,1);if(r!==null){var i=Tt();dn(r,t,1,i)}}),jp(t,1)}};ap=function(t){if(t.tag===13){var e=Gn(t,134217728);if(e!==null){var n=Tt();dn(e,t,134217728,n)}jp(t,134217728)}};rw=function(t){if(t.tag===13){var e=kr(t),n=Gn(t,e);if(n!==null){var r=Tt();dn(n,t,e,r)}jp(t,e)}};iw=function(){return ge};sw=function(t,e){var n=ge;try{return ge=t,e()}finally{ge=n}};Vh=function(t,e,n){switch(e){case"input":if(Ih(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=mc(r);if(!i)throw Error(B(90));M0(r),Ih(r,i)}}}break;case"textarea":F0(t,n);break;case"select":e=n.value,e!=null&&ps(t,!!n.multiple,e,!1)}};W0=Op;q0=Ri;var pI={usingClientEntryPoint:!1,Events:[Ua,as,mc,$0,H0,Op]},No={findFiberByHostInstance:hi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},mI={bundleType:No.bundleType,version:No.version,rendererPackageName:No.rendererPackageName,rendererConfig:No.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:nr.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Q0(t),t===null?null:t.stateNode},findFiberByHostInstance:No.findFiberByHostInstance||hI,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Nl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Nl.isDisabled&&Nl.supportsFiber)try{dc=Nl.inject(mI),An=Nl}catch{}}zt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=pI;zt.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!zp(e))throw Error(B(200));return dI(t,e,null,n)};zt.createRoot=function(t,e){if(!zp(t))throw Error(B(299));var n=!1,r="",i=RE;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=Fp(t,1,!1,null,null,n,!1,r,i),t[Kn]=e.current,ha(t.nodeType===8?t.parentNode:t),new Up(e)};zt.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(B(188)):(t=Object.keys(t).join(","),Error(B(268,t)));return t=Q0(e),t=t===null?null:t.stateNode,t};zt.flushSync=function(t){return Ri(t)};zt.hydrate=function(t,e,n){if(!xc(e))throw Error(B(200));return Cc(null,t,e,!0,n)};zt.hydrateRoot=function(t,e,n){if(!zp(t))throw Error(B(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=RE;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=AE(e,null,t,1,n??null,i,!1,s,o),t[Kn]=e.current,ha(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new Sc(e)};zt.render=function(t,e,n){if(!xc(e))throw Error(B(200));return Cc(null,t,e,!1,n)};zt.unmountComponentAtNode=function(t){if(!xc(t))throw Error(B(40));return t._reactRootContainer?(Ri(function(){Cc(null,null,t,!1,function(){t._reactRootContainer=null,t[Kn]=null})}),!0):!1};zt.unstable_batchedUpdates=Op;zt.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!xc(n))throw Error(B(200));if(t==null||t._reactInternals===void 0)throw Error(B(38));return Cc(t,e,n,!1,r)};zt.version="18.3.1-next-f1338f8080-20240426";function IE(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(IE)}catch(t){console.error(t)}}IE(),I0.exports=zt;var Ba=I0.exports;const gI=m0(Ba);var PE,sv=Ba;PE=sv.createRoot,sv.hydrateRoot;function yI(t,e){if(t instanceof RegExp)return{keys:!1,pattern:t};var n,r,i,s,o=[],a="",u=t.split("/");for(u[0]||u.shift();i=u.shift();)n=i[0],n==="*"?(o.push(n),a+=i[1]==="?"?"(?:/(.*))?":"/(.*)"):n===":"?(r=i.indexOf("?",1),s=i.indexOf(".",1),o.push(i.substring(1,~r?r:~s?s:i.length)),a+=~r&&!~s?"(?:/([^/]+?))?":"/([^/]+?)",~s&&(a+=(~r?"?":"")+"\\"+i.substring(s))):a+="/"+i;return{keys:o,pattern:new RegExp("^"+a+(e?"(?=$|/)":"/?$"),"i")}}var bE={exports:{}},kE={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zs=C;function vI(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var _I=typeof Object.is=="function"?Object.is:vI,wI=zs.useState,EI=zs.useEffect,TI=zs.useLayoutEffect,SI=zs.useDebugValue;function xI(t,e){var n=e(),r=wI({inst:{value:n,getSnapshot:e}}),i=r[0].inst,s=r[1];return TI(function(){i.value=n,i.getSnapshot=e,Yd(i)&&s({inst:i})},[t,n,e]),EI(function(){return Yd(i)&&s({inst:i}),t(function(){Yd(i)&&s({inst:i})})},[t]),SI(n),n}function Yd(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!_I(t,n)}catch{return!0}}function CI(t,e){return e()}var AI=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?CI:xI;kE.useSyncExternalStore=zs.useSyncExternalStore!==void 0?zs.useSyncExternalStore:AI;bE.exports=kE;var RI=bE.exports;const II=A0.useInsertionEffect,PI=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",bI=PI?C.useLayoutEffect:C.useEffect,kI=II||bI,NE=t=>{const e=C.useRef([t,(...n)=>e[0](...n)]).current;return kI(()=>{e[0]=t}),e[1]},NI="popstate",Bp="pushState",$p="replaceState",DI="hashchange",ov=[NI,Bp,$p,DI],OI=t=>{for(const e of ov)addEventListener(e,t);return()=>{for(const e of ov)removeEventListener(e,t)}},DE=(t,e)=>RI.useSyncExternalStore(OI,t,e),VI=()=>location.search,MI=({ssrSearch:t=""}={})=>DE(VI,()=>t),av=()=>location.pathname,LI=({ssrPath:t}={})=>DE(av,t?()=>t:av),FI=(t,{replace:e=!1,state:n=null}={})=>history[e?$p:Bp](n,"",t),jI=(t={})=>[LI(t),FI],lv=Symbol.for("wouter_v3");if(typeof history<"u"&&typeof window[lv]>"u"){for(const t of[Bp,$p]){const e=history[t];history[t]=function(){const n=e.apply(this,arguments),r=new Event(t);return r.arguments=arguments,dispatchEvent(r),n}}Object.defineProperty(window,lv,{value:!0})}const UI=(t,e)=>e.toLowerCase().indexOf(t.toLowerCase())?"~"+e:e.slice(t.length)||"/",OE=(t="")=>t==="/"?"":t,zI=(t,e)=>t[0]==="~"?t.slice(1):OE(e)+t,BI=(t="",e)=>UI(uv(OE(t)),uv(e)),uv=t=>{try{return decodeURI(t)}catch{return t}},VE={hook:jI,searchHook:MI,parser:yI,base:"",ssrPath:void 0,ssrSearch:void 0,hrefs:t=>t},ME=C.createContext(VE),Ac=()=>C.useContext(ME),LE={},FE=C.createContext(LE),$I=()=>C.useContext(FE),Hp=t=>{const[e,n]=t.hook(t);return[BI(t.base,e),NE((r,i)=>n(zI(r,t.base),i))]},jE=(t,e,n,r)=>{const{pattern:i,keys:s}=e instanceof RegExp?{keys:!1,pattern:e}:t(e||"*",r),o=i.exec(n)||[],[a,...u]=o;return a!==void 0?[!0,(()=>{const c=s!==!1?Object.fromEntries(s.map((f,m)=>[f,u[m]])):o.groups;let h={...u};return c&&Object.assign(h,c),h})(),...r?[a]:[]]:[!1,null]},HI=({children:t,...e})=>{var h,f;const n=Ac(),r=e.hook?VE:n;let i=r;const[s,o]=((h=e.ssrPath)==null?void 0:h.split("?"))??[];o&&(e.ssrSearch=o,e.ssrPath=s),e.hrefs=e.hrefs??((f=e.hook)==null?void 0:f.hrefs);let a=C.useRef({}),u=a.current,c=u;for(let m in r){const _=m==="base"?r[m]+(e[m]||""):e[m]||r[m];u===c&&_!==c[m]&&(a.current=c={...c}),c[m]=_,_!==r[m]&&(i=c)}return C.createElement(ME.Provider,{value:i,children:t})},cv=({children:t,component:e},n)=>e?C.createElement(e,{params:n}):typeof t=="function"?t(n):t,WI=t=>{let e=C.useRef(LE),n=e.current;for(const r in t)t[r]!==n[r]&&(n=t);return Object.keys(t).length===0&&(n=t),e.current=n},dv=({path:t,nest:e,match:n,...r})=>{const i=Ac(),[s]=Hp(i),[o,a,u]=n??jE(i.parser,t,s,e),c=WI({...$I(),...a});if(!o)return null;const h=u?C.createElement(HI,{base:u},cv(r,c)):cv(r,c);return C.createElement(FE.Provider,{value:c,children:h})};C.forwardRef((t,e)=>{const n=Ac(),[r,i]=Hp(n),{to:s="",href:o=s,onClick:a,asChild:u,children:c,className:h,replace:f,state:m,..._}=t,A=NE(E=>{E.ctrlKey||E.metaKey||E.altKey||E.shiftKey||E.button!==0||(a==null||a(E),E.defaultPrevented||(E.preventDefault(),i(o,t)))}),g=n.hrefs(o[0]==="~"?o.slice(1):n.base+o,n);return u&&C.isValidElement(c)?C.cloneElement(c,{onClick:A,href:g}):C.createElement("a",{..._,onClick:A,href:g,className:h!=null&&h.call?h(r===o):h,children:c,ref:e})});const UE=t=>Array.isArray(t)?t.flatMap(e=>UE(e&&e.type===C.Fragment?e.props.children:e)):[t],qI=({children:t,location:e})=>{const n=Ac(),[r]=Hp(n);for(const i of UE(t)){let s=0;if(C.isValidElement(i)&&(s=jE(n.parser,i.props.path,e||r,i.props.nest))[0])return C.cloneElement(i,{match:s})}return null};var Rc=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Ic=typeof window>"u"||"Deno"in globalThis;function sn(){}function KI(t,e){return typeof t=="function"?t(e):t}function GI(t){return typeof t=="number"&&t>=0&&t!==1/0}function QI(t,e){return Math.max(t+(e||0)-Date.now(),0)}function hv(t,e){return typeof t=="function"?t(e):t}function YI(t,e){return typeof t=="function"?t(e):t}function fv(t,e){const{type:n="all",exact:r,fetchStatus:i,predicate:s,queryKey:o,stale:a}=t;if(o){if(r){if(e.queryHash!==Wp(o,e.options))return!1}else if(!Ta(e.queryKey,o))return!1}if(n!=="all"){const u=e.isActive();if(n==="active"&&!u||n==="inactive"&&u)return!1}return!(typeof a=="boolean"&&e.isStale()!==a||i&&i!==e.state.fetchStatus||s&&!s(e))}function pv(t,e){const{exact:n,status:r,predicate:i,mutationKey:s}=t;if(s){if(!e.options.mutationKey)return!1;if(n){if(Ea(e.options.mutationKey)!==Ea(s))return!1}else if(!Ta(e.options.mutationKey,s))return!1}return!(r&&e.state.status!==r||i&&!i(e))}function Wp(t,e){return((e==null?void 0:e.queryKeyHashFn)||Ea)(t)}function Ea(t){return JSON.stringify(t,(e,n)=>mf(n)?Object.keys(n).sort().reduce((r,i)=>(r[i]=n[i],r),{}):n)}function Ta(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?!Object.keys(e).some(n=>!Ta(t[n],e[n])):!1}function zE(t,e){if(t===e)return t;const n=mv(t)&&mv(e);if(n||mf(t)&&mf(e)){const r=n?t:Object.keys(t),i=r.length,s=n?e:Object.keys(e),o=s.length,a=n?[]:{};let u=0;for(let c=0;c<o;c++){const h=n?c:s[c];(!n&&r.includes(h)||n)&&t[h]===void 0&&e[h]===void 0?(a[h]=void 0,u++):(a[h]=zE(t[h],e[h]),a[h]===t[h]&&t[h]!==void 0&&u++)}return i===o&&u===i?t:a}return e}function mv(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function mf(t){if(!gv(t))return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(!gv(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function gv(t){return Object.prototype.toString.call(t)==="[object Object]"}function XI(t){return new Promise(e=>{setTimeout(e,t)})}function JI(t,e,n){return typeof n.structuralSharing=="function"?n.structuralSharing(t,e):n.structuralSharing!==!1?zE(t,e):e}function ZI(t,e,n=0){const r=[...t,e];return n&&r.length>n?r.slice(1):r}function eP(t,e,n=0){const r=[e,...t];return n&&r.length>n?r.slice(0,-1):r}var qp=Symbol();function BE(t,e){return!t.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!t.queryFn||t.queryFn===qp?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}var gi,yr,Cs,a0,tP=(a0=class extends Rc{constructor(){super();pe(this,gi);pe(this,yr);pe(this,Cs);ne(this,Cs,e=>{if(!Ic&&window.addEventListener){const n=()=>e();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){U(this,yr)||this.setEventListener(U(this,Cs))}onUnsubscribe(){var e;this.hasListeners()||((e=U(this,yr))==null||e.call(this),ne(this,yr,void 0))}setEventListener(e){var n;ne(this,Cs,e),(n=U(this,yr))==null||n.call(this),ne(this,yr,e(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(e){U(this,gi)!==e&&(ne(this,gi,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(n=>{n(e)})}isFocused(){var e;return typeof U(this,gi)=="boolean"?U(this,gi):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},gi=new WeakMap,yr=new WeakMap,Cs=new WeakMap,a0),$E=new tP,As,vr,Rs,l0,nP=(l0=class extends Rc{constructor(){super();pe(this,As,!0);pe(this,vr);pe(this,Rs);ne(this,Rs,e=>{if(!Ic&&window.addEventListener){const n=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){U(this,vr)||this.setEventListener(U(this,Rs))}onUnsubscribe(){var e;this.hasListeners()||((e=U(this,vr))==null||e.call(this),ne(this,vr,void 0))}setEventListener(e){var n;ne(this,Rs,e),(n=U(this,vr))==null||n.call(this),ne(this,vr,e(this.setOnline.bind(this)))}setOnline(e){U(this,As)!==e&&(ne(this,As,e),this.listeners.forEach(r=>{r(e)}))}isOnline(){return U(this,As)}},As=new WeakMap,vr=new WeakMap,Rs=new WeakMap,l0),Bu=new nP;function rP(){let t,e;const n=new Promise((i,s)=>{t=i,e=s});n.status="pending",n.catch(()=>{});function r(i){Object.assign(n,i),delete n.resolve,delete n.reject}return n.resolve=i=>{r({status:"fulfilled",value:i}),t(i)},n.reject=i=>{r({status:"rejected",reason:i}),e(i)},n}function iP(t){return Math.min(1e3*2**t,3e4)}function HE(t){return(t??"online")==="online"?Bu.isOnline():!0}var WE=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function Xd(t){return t instanceof WE}function qE(t){let e=!1,n=0,r=!1,i;const s=rP(),o=g=>{var E;r||(m(new WE(g)),(E=t.abort)==null||E.call(t))},a=()=>{e=!0},u=()=>{e=!1},c=()=>$E.isFocused()&&(t.networkMode==="always"||Bu.isOnline())&&t.canRun(),h=()=>HE(t.networkMode)&&t.canRun(),f=g=>{var E;r||(r=!0,(E=t.onSuccess)==null||E.call(t,g),i==null||i(),s.resolve(g))},m=g=>{var E;r||(r=!0,(E=t.onError)==null||E.call(t,g),i==null||i(),s.reject(g))},_=()=>new Promise(g=>{var E;i=v=>{(r||c())&&g(v)},(E=t.onPause)==null||E.call(t)}).then(()=>{var g;i=void 0,r||(g=t.onContinue)==null||g.call(t)}),A=()=>{if(r)return;let g;const E=n===0?t.initialPromise:void 0;try{g=E??t.fn()}catch(v){g=Promise.reject(v)}Promise.resolve(g).then(f).catch(v=>{var V;if(r)return;const y=t.retry??(Ic?0:3),T=t.retryDelay??iP,P=typeof T=="function"?T(n,v):T,O=y===!0||typeof y=="number"&&n<y||typeof y=="function"&&y(n,v);if(e||!O){m(v);return}n++,(V=t.onFail)==null||V.call(t,n,v),XI(P).then(()=>c()?void 0:_()).then(()=>{e?m(v):A()})})};return{promise:s,cancel:o,continue:()=>(i==null||i(),s),cancelRetry:a,continueRetry:u,canStart:h,start:()=>(h()?A():_().then(A),s)}}function sP(){let t=[],e=0,n=a=>{a()},r=a=>{a()},i=a=>setTimeout(a,0);const s=a=>{e?t.push(a):i(()=>{n(a)})},o=()=>{const a=t;t=[],a.length&&i(()=>{r(()=>{a.forEach(u=>{n(u)})})})};return{batch:a=>{let u;e++;try{u=a()}finally{e--,e||o()}return u},batchCalls:a=>(...u)=>{s(()=>{a(...u)})},schedule:s,setNotifyFunction:a=>{n=a},setBatchNotifyFunction:a=>{r=a},setScheduler:a=>{i=a}}}var Et=sP(),yi,u0,KE=(u0=class{constructor(){pe(this,yi)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),GI(this.gcTime)&&ne(this,yi,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(Ic?1/0:5*60*1e3))}clearGcTimeout(){U(this,yi)&&(clearTimeout(U(this,yi)),ne(this,yi,void 0))}},yi=new WeakMap,u0),Is,Ps,Ht,ct,Va,vi,on,Un,c0,oP=(c0=class extends KE{constructor(n){super();pe(this,on);pe(this,Is);pe(this,Ps);pe(this,Ht);pe(this,ct);pe(this,Va);pe(this,vi);ne(this,vi,!1),ne(this,Va,n.defaultOptions),this.setOptions(n.options),this.observers=[],ne(this,Ht,n.cache),this.queryKey=n.queryKey,this.queryHash=n.queryHash,ne(this,Is,lP(this.options)),this.state=n.state??U(this,Is),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var n;return(n=U(this,ct))==null?void 0:n.promise}setOptions(n){this.options={...U(this,Va),...n},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&U(this,Ht).remove(this)}setData(n,r){const i=JI(this.state.data,n,this.options);return ot(this,on,Un).call(this,{data:i,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),i}setState(n,r){ot(this,on,Un).call(this,{type:"setState",state:n,setStateOptions:r})}cancel(n){var i,s;const r=(i=U(this,ct))==null?void 0:i.promise;return(s=U(this,ct))==null||s.cancel(n),r?r.then(sn).catch(sn):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(U(this,Is))}isActive(){return this.observers.some(n=>YI(n.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===qp||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(n=>n.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(n=0){return this.state.isInvalidated||this.state.data===void 0||!QI(this.state.dataUpdatedAt,n)}onFocus(){var r;const n=this.observers.find(i=>i.shouldFetchOnWindowFocus());n==null||n.refetch({cancelRefetch:!1}),(r=U(this,ct))==null||r.continue()}onOnline(){var r;const n=this.observers.find(i=>i.shouldFetchOnReconnect());n==null||n.refetch({cancelRefetch:!1}),(r=U(this,ct))==null||r.continue()}addObserver(n){this.observers.includes(n)||(this.observers.push(n),this.clearGcTimeout(),U(this,Ht).notify({type:"observerAdded",query:this,observer:n}))}removeObserver(n){this.observers.includes(n)&&(this.observers=this.observers.filter(r=>r!==n),this.observers.length||(U(this,ct)&&(U(this,vi)?U(this,ct).cancel({revert:!0}):U(this,ct).cancelRetry()),this.scheduleGc()),U(this,Ht).notify({type:"observerRemoved",query:this,observer:n}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||ot(this,on,Un).call(this,{type:"invalidate"})}fetch(n,r){var c,h,f;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(U(this,ct))return U(this,ct).continueRetry(),U(this,ct).promise}if(n&&this.setOptions(n),!this.options.queryFn){const m=this.observers.find(_=>_.options.queryFn);m&&this.setOptions(m.options)}const i=new AbortController,s=m=>{Object.defineProperty(m,"signal",{enumerable:!0,get:()=>(ne(this,vi,!0),i.signal)})},o=()=>{const m=BE(this.options,r),_={queryKey:this.queryKey,meta:this.meta};return s(_),ne(this,vi,!1),this.options.persister?this.options.persister(m,_,this):m(_)},a={fetchOptions:r,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:o};s(a),(c=this.options.behavior)==null||c.onFetch(a,this),ne(this,Ps,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((h=a.fetchOptions)==null?void 0:h.meta))&&ot(this,on,Un).call(this,{type:"fetch",meta:(f=a.fetchOptions)==null?void 0:f.meta});const u=m=>{var _,A,g,E;Xd(m)&&m.silent||ot(this,on,Un).call(this,{type:"error",error:m}),Xd(m)||((A=(_=U(this,Ht).config).onError)==null||A.call(_,m,this),(E=(g=U(this,Ht).config).onSettled)==null||E.call(g,this.state.data,m,this)),this.scheduleGc()};return ne(this,ct,qE({initialPromise:r==null?void 0:r.initialPromise,fn:a.fetchFn,abort:i.abort.bind(i),onSuccess:m=>{var _,A,g,E;if(m===void 0){u(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(m)}catch(v){u(v);return}(A=(_=U(this,Ht).config).onSuccess)==null||A.call(_,m,this),(E=(g=U(this,Ht).config).onSettled)==null||E.call(g,m,this.state.error,this),this.scheduleGc()},onError:u,onFail:(m,_)=>{ot(this,on,Un).call(this,{type:"failed",failureCount:m,error:_})},onPause:()=>{ot(this,on,Un).call(this,{type:"pause"})},onContinue:()=>{ot(this,on,Un).call(this,{type:"continue"})},retry:a.options.retry,retryDelay:a.options.retryDelay,networkMode:a.options.networkMode,canRun:()=>!0})),U(this,ct).start()}},Is=new WeakMap,Ps=new WeakMap,Ht=new WeakMap,ct=new WeakMap,Va=new WeakMap,vi=new WeakMap,on=new WeakSet,Un=function(n){const r=i=>{switch(n.type){case"failed":return{...i,fetchFailureCount:n.failureCount,fetchFailureReason:n.error};case"pause":return{...i,fetchStatus:"paused"};case"continue":return{...i,fetchStatus:"fetching"};case"fetch":return{...i,...aP(i.data,this.options),fetchMeta:n.meta??null};case"success":return{...i,data:n.data,dataUpdateCount:i.dataUpdateCount+1,dataUpdatedAt:n.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!n.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const s=n.error;return Xd(s)&&s.revert&&U(this,Ps)?{...U(this,Ps),fetchStatus:"idle"}:{...i,error:s,errorUpdateCount:i.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:i.fetchFailureCount+1,fetchFailureReason:s,fetchStatus:"idle",status:"error"};case"invalidate":return{...i,isInvalidated:!0};case"setState":return{...i,...n.state}}};this.state=r(this.state),Et.batch(()=>{this.observers.forEach(i=>{i.onQueryUpdate()}),U(this,Ht).notify({query:this,type:"updated",action:n})})},c0);function aP(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:HE(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function lP(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,n=e!==void 0,r=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var wn,d0,uP=(d0=class extends Rc{constructor(e={}){super();pe(this,wn);this.config=e,ne(this,wn,new Map)}build(e,n,r){const i=n.queryKey,s=n.queryHash??Wp(i,n);let o=this.get(s);return o||(o=new oP({cache:this,queryKey:i,queryHash:s,options:e.defaultQueryOptions(n),state:r,defaultOptions:e.getQueryDefaults(i)}),this.add(o)),o}add(e){U(this,wn).has(e.queryHash)||(U(this,wn).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const n=U(this,wn).get(e.queryHash);n&&(e.destroy(),n===e&&U(this,wn).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){Et.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return U(this,wn).get(e)}getAll(){return[...U(this,wn).values()]}find(e){const n={exact:!0,...e};return this.getAll().find(r=>fv(n,r))}findAll(e={}){const n=this.getAll();return Object.keys(e).length>0?n.filter(r=>fv(e,r)):n}notify(e){Et.batch(()=>{this.listeners.forEach(n=>{n(e)})})}onFocus(){Et.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){Et.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},wn=new WeakMap,d0),En,_t,_i,Tn,cr,h0,cP=(h0=class extends KE{constructor(n){super();pe(this,Tn);pe(this,En);pe(this,_t);pe(this,_i);this.mutationId=n.mutationId,ne(this,_t,n.mutationCache),ne(this,En,[]),this.state=n.state||dP(),this.setOptions(n.options),this.scheduleGc()}setOptions(n){this.options=n,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(n){U(this,En).includes(n)||(U(this,En).push(n),this.clearGcTimeout(),U(this,_t).notify({type:"observerAdded",mutation:this,observer:n}))}removeObserver(n){ne(this,En,U(this,En).filter(r=>r!==n)),this.scheduleGc(),U(this,_t).notify({type:"observerRemoved",mutation:this,observer:n})}optionalRemove(){U(this,En).length||(this.state.status==="pending"?this.scheduleGc():U(this,_t).remove(this))}continue(){var n;return((n=U(this,_i))==null?void 0:n.continue())??this.execute(this.state.variables)}async execute(n){var s,o,a,u,c,h,f,m,_,A,g,E,v,y,T,P,O,V,x,w;ne(this,_i,qE({fn:()=>this.options.mutationFn?this.options.mutationFn(n):Promise.reject(new Error("No mutationFn found")),onFail:(R,I)=>{ot(this,Tn,cr).call(this,{type:"failed",failureCount:R,error:I})},onPause:()=>{ot(this,Tn,cr).call(this,{type:"pause"})},onContinue:()=>{ot(this,Tn,cr).call(this,{type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>U(this,_t).canRun(this)}));const r=this.state.status==="pending",i=!U(this,_i).canStart();try{if(!r){ot(this,Tn,cr).call(this,{type:"pending",variables:n,isPaused:i}),await((o=(s=U(this,_t).config).onMutate)==null?void 0:o.call(s,n,this));const I=await((u=(a=this.options).onMutate)==null?void 0:u.call(a,n));I!==this.state.context&&ot(this,Tn,cr).call(this,{type:"pending",context:I,variables:n,isPaused:i})}const R=await U(this,_i).start();return await((h=(c=U(this,_t).config).onSuccess)==null?void 0:h.call(c,R,n,this.state.context,this)),await((m=(f=this.options).onSuccess)==null?void 0:m.call(f,R,n,this.state.context)),await((A=(_=U(this,_t).config).onSettled)==null?void 0:A.call(_,R,null,this.state.variables,this.state.context,this)),await((E=(g=this.options).onSettled)==null?void 0:E.call(g,R,null,n,this.state.context)),ot(this,Tn,cr).call(this,{type:"success",data:R}),R}catch(R){try{throw await((y=(v=U(this,_t).config).onError)==null?void 0:y.call(v,R,n,this.state.context,this)),await((P=(T=this.options).onError)==null?void 0:P.call(T,R,n,this.state.context)),await((V=(O=U(this,_t).config).onSettled)==null?void 0:V.call(O,void 0,R,this.state.variables,this.state.context,this)),await((w=(x=this.options).onSettled)==null?void 0:w.call(x,void 0,R,n,this.state.context)),R}finally{ot(this,Tn,cr).call(this,{type:"error",error:R})}}finally{U(this,_t).runNext(this)}}},En=new WeakMap,_t=new WeakMap,_i=new WeakMap,Tn=new WeakSet,cr=function(n){const r=i=>{switch(n.type){case"failed":return{...i,failureCount:n.failureCount,failureReason:n.error};case"pause":return{...i,isPaused:!0};case"continue":return{...i,isPaused:!1};case"pending":return{...i,context:n.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:n.isPaused,status:"pending",variables:n.variables,submittedAt:Date.now()};case"success":return{...i,data:n.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...i,data:void 0,error:n.error,failureCount:i.failureCount+1,failureReason:n.error,isPaused:!1,status:"error"}}};this.state=r(this.state),Et.batch(()=>{U(this,En).forEach(i=>{i.onMutationUpdate(n)}),U(this,_t).notify({mutation:this,type:"updated",action:n})})},h0);function dP(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Dt,Ma,f0,hP=(f0=class extends Rc{constructor(e={}){super();pe(this,Dt);pe(this,Ma);this.config=e,ne(this,Dt,new Map),ne(this,Ma,Date.now())}build(e,n,r){const i=new cP({mutationCache:this,mutationId:++ml(this,Ma)._,options:e.defaultMutationOptions(n),state:r});return this.add(i),i}add(e){const n=Dl(e),r=U(this,Dt).get(n)??[];r.push(e),U(this,Dt).set(n,r),this.notify({type:"added",mutation:e})}remove(e){var r;const n=Dl(e);if(U(this,Dt).has(n)){const i=(r=U(this,Dt).get(n))==null?void 0:r.filter(s=>s!==e);i&&(i.length===0?U(this,Dt).delete(n):U(this,Dt).set(n,i))}this.notify({type:"removed",mutation:e})}canRun(e){var r;const n=(r=U(this,Dt).get(Dl(e)))==null?void 0:r.find(i=>i.state.status==="pending");return!n||n===e}runNext(e){var r;const n=(r=U(this,Dt).get(Dl(e)))==null?void 0:r.find(i=>i!==e&&i.state.isPaused);return(n==null?void 0:n.continue())??Promise.resolve()}clear(){Et.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}getAll(){return[...U(this,Dt).values()].flat()}find(e){const n={exact:!0,...e};return this.getAll().find(r=>pv(n,r))}findAll(e={}){return this.getAll().filter(n=>pv(e,n))}notify(e){Et.batch(()=>{this.listeners.forEach(n=>{n(e)})})}resumePausedMutations(){const e=this.getAll().filter(n=>n.state.isPaused);return Et.batch(()=>Promise.all(e.map(n=>n.continue().catch(sn))))}},Dt=new WeakMap,Ma=new WeakMap,f0);function Dl(t){var e;return((e=t.options.scope)==null?void 0:e.id)??String(t.mutationId)}function yv(t){return{onFetch:(e,n)=>{var h,f,m,_,A;const r=e.options,i=(m=(f=(h=e.fetchOptions)==null?void 0:h.meta)==null?void 0:f.fetchMore)==null?void 0:m.direction,s=((_=e.state.data)==null?void 0:_.pages)||[],o=((A=e.state.data)==null?void 0:A.pageParams)||[];let a={pages:[],pageParams:[]},u=0;const c=async()=>{let g=!1;const E=T=>{Object.defineProperty(T,"signal",{enumerable:!0,get:()=>(e.signal.aborted?g=!0:e.signal.addEventListener("abort",()=>{g=!0}),e.signal)})},v=BE(e.options,e.fetchOptions),y=async(T,P,O)=>{if(g)return Promise.reject();if(P==null&&T.pages.length)return Promise.resolve(T);const V={queryKey:e.queryKey,pageParam:P,direction:O?"backward":"forward",meta:e.options.meta};E(V);const x=await v(V),{maxPages:w}=e.options,R=O?eP:ZI;return{pages:R(T.pages,x,w),pageParams:R(T.pageParams,P,w)}};if(i&&s.length){const T=i==="backward",P=T?fP:vv,O={pages:s,pageParams:o},V=P(r,O);a=await y(O,V,T)}else{const T=t??s.length;do{const P=u===0?o[0]??r.initialPageParam:vv(r,a);if(u>0&&P==null)break;a=await y(a,P),u++}while(u<T)}return a};e.options.persister?e.fetchFn=()=>{var g,E;return(E=(g=e.options).persister)==null?void 0:E.call(g,c,{queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},n)}:e.fetchFn=c}}}function vv(t,{pages:e,pageParams:n}){const r=e.length-1;return e.length>0?t.getNextPageParam(e[r],e,n[r],n):void 0}function fP(t,{pages:e,pageParams:n}){var r;return e.length>0?(r=t.getPreviousPageParam)==null?void 0:r.call(t,e[0],e,n[0],n):void 0}var Oe,_r,wr,bs,ks,Er,Ns,Ds,p0,pP=(p0=class{constructor(t={}){pe(this,Oe);pe(this,_r);pe(this,wr);pe(this,bs);pe(this,ks);pe(this,Er);pe(this,Ns);pe(this,Ds);ne(this,Oe,t.queryCache||new uP),ne(this,_r,t.mutationCache||new hP),ne(this,wr,t.defaultOptions||{}),ne(this,bs,new Map),ne(this,ks,new Map),ne(this,Er,0)}mount(){ml(this,Er)._++,U(this,Er)===1&&(ne(this,Ns,$E.subscribe(async t=>{t&&(await this.resumePausedMutations(),U(this,Oe).onFocus())})),ne(this,Ds,Bu.subscribe(async t=>{t&&(await this.resumePausedMutations(),U(this,Oe).onOnline())})))}unmount(){var t,e;ml(this,Er)._--,U(this,Er)===0&&((t=U(this,Ns))==null||t.call(this),ne(this,Ns,void 0),(e=U(this,Ds))==null||e.call(this),ne(this,Ds,void 0))}isFetching(t){return U(this,Oe).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return U(this,_r).findAll({...t,status:"pending"}).length}getQueryData(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=U(this,Oe).get(e.queryHash))==null?void 0:n.state.data}ensureQueryData(t){const e=this.getQueryData(t.queryKey);if(e===void 0)return this.fetchQuery(t);{const n=this.defaultQueryOptions(t),r=U(this,Oe).build(this,n);return t.revalidateIfStale&&r.isStaleByTime(hv(n.staleTime,r))&&this.prefetchQuery(n),Promise.resolve(e)}}getQueriesData(t){return U(this,Oe).findAll(t).map(({queryKey:e,state:n})=>{const r=n.data;return[e,r]})}setQueryData(t,e,n){const r=this.defaultQueryOptions({queryKey:t}),i=U(this,Oe).get(r.queryHash),s=i==null?void 0:i.state.data,o=KI(e,s);if(o!==void 0)return U(this,Oe).build(this,r).setData(o,{...n,manual:!0})}setQueriesData(t,e,n){return Et.batch(()=>U(this,Oe).findAll(t).map(({queryKey:r})=>[r,this.setQueryData(r,e,n)]))}getQueryState(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=U(this,Oe).get(e.queryHash))==null?void 0:n.state}removeQueries(t){const e=U(this,Oe);Et.batch(()=>{e.findAll(t).forEach(n=>{e.remove(n)})})}resetQueries(t,e){const n=U(this,Oe),r={type:"active",...t};return Et.batch(()=>(n.findAll(t).forEach(i=>{i.reset()}),this.refetchQueries(r,e)))}cancelQueries(t={},e={}){const n={revert:!0,...e},r=Et.batch(()=>U(this,Oe).findAll(t).map(i=>i.cancel(n)));return Promise.all(r).then(sn).catch(sn)}invalidateQueries(t={},e={}){return Et.batch(()=>{if(U(this,Oe).findAll(t).forEach(r=>{r.invalidate()}),t.refetchType==="none")return Promise.resolve();const n={...t,type:t.refetchType??t.type??"active"};return this.refetchQueries(n,e)})}refetchQueries(t={},e){const n={...e,cancelRefetch:(e==null?void 0:e.cancelRefetch)??!0},r=Et.batch(()=>U(this,Oe).findAll(t).filter(i=>!i.isDisabled()).map(i=>{let s=i.fetch(void 0,n);return n.throwOnError||(s=s.catch(sn)),i.state.fetchStatus==="paused"?Promise.resolve():s}));return Promise.all(r).then(sn)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const n=U(this,Oe).build(this,e);return n.isStaleByTime(hv(e.staleTime,n))?n.fetch(e):Promise.resolve(n.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(sn).catch(sn)}fetchInfiniteQuery(t){return t.behavior=yv(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(sn).catch(sn)}ensureInfiniteQueryData(t){return t.behavior=yv(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return Bu.isOnline()?U(this,_r).resumePausedMutations():Promise.resolve()}getQueryCache(){return U(this,Oe)}getMutationCache(){return U(this,_r)}getDefaultOptions(){return U(this,wr)}setDefaultOptions(t){ne(this,wr,t)}setQueryDefaults(t,e){U(this,bs).set(Ea(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...U(this,bs).values()];let n={};return e.forEach(r=>{Ta(t,r.queryKey)&&(n={...n,...r.defaultOptions})}),n}setMutationDefaults(t,e){U(this,ks).set(Ea(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...U(this,ks).values()];let n={};return e.forEach(r=>{Ta(t,r.mutationKey)&&(n={...n,...r.defaultOptions})}),n}defaultQueryOptions(t){if(t._defaulted)return t;const e={...U(this,wr).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=Wp(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.enabled!==!0&&e.queryFn===qp&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...U(this,wr).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){U(this,Oe).clear(),U(this,_r).clear()}},Oe=new WeakMap,_r=new WeakMap,wr=new WeakMap,bs=new WeakMap,ks=new WeakMap,Er=new WeakMap,Ns=new WeakMap,Ds=new WeakMap,p0),mP=C.createContext(void 0),gP=({client:t,children:e})=>(C.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),k.jsx(mP.Provider,{value:t,children:e}));async function yP(t){if(!t.ok){const e=await t.text()||t.statusText;throw new Error(`${t.status}: ${e}`)}}const vP=({on401:t})=>async({queryKey:e})=>{const n=await fetch(e[0],{credentials:"include"});return t==="returnNull"&&n.status===401?null:(await yP(n),await n.json())},_P=new pP({defaultOptions:{queries:{queryFn:vP({on401:"throw"}),refetchInterval:!1,refetchOnWindowFocus:!1,staleTime:1/0,retry:!1},mutations:{retry:!1}}}),wP=1,EP=1e6;let Jd=0;function TP(){return Jd=(Jd+1)%Number.MAX_SAFE_INTEGER,Jd.toString()}const Zd=new Map,_v=t=>{if(Zd.has(t))return;const e=setTimeout(()=>{Zd.delete(t),Jo({type:"REMOVE_TOAST",toastId:t})},EP);Zd.set(t,e)},SP=(t,e)=>{switch(e.type){case"ADD_TOAST":return{...t,toasts:[e.toast,...t.toasts].slice(0,wP)};case"UPDATE_TOAST":return{...t,toasts:t.toasts.map(n=>n.id===e.toast.id?{...n,...e.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=e;return n?_v(n):t.toasts.forEach(r=>{_v(r.id)}),{...t,toasts:t.toasts.map(r=>r.id===n||n===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(n=>n.id!==e.toastId)}}},au=[];let lu={toasts:[]};function Jo(t){lu=SP(lu,t),au.forEach(e=>{e(lu)})}function xP({...t}){const e=TP(),n=i=>Jo({type:"UPDATE_TOAST",toast:{...i,id:e}}),r=()=>Jo({type:"DISMISS_TOAST",toastId:e});return Jo({type:"ADD_TOAST",toast:{...t,id:e,open:!0,onOpenChange:i=>{i||r()}}}),{id:e,dismiss:r,update:n}}function Pc(){const[t,e]=C.useState(lu);return C.useEffect(()=>(au.push(e),()=>{const n=au.indexOf(e);n>-1&&au.splice(n,1)}),[t]),{...t,toast:xP,dismiss:n=>Jo({type:"DISMISS_TOAST",toastId:n})}}function _e(t,e,{checkForDefaultPrevented:n=!0}={}){return function(i){if(t==null||t(i),n===!1||!i.defaultPrevented)return e==null?void 0:e(i)}}function wv(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function GE(...t){return e=>{let n=!1;const r=t.map(i=>{const s=wv(i,e);return!n&&typeof s=="function"&&(n=!0),s});if(n)return()=>{for(let i=0;i<r.length;i++){const s=r[i];typeof s=="function"?s():wv(t[i],null)}}}}function mt(...t){return C.useCallback(GE(...t),t)}function CP(t,e){const n=C.createContext(e),r=s=>{const{children:o,...a}=s,u=C.useMemo(()=>a,Object.values(a));return k.jsx(n.Provider,{value:u,children:o})};r.displayName=t+"Provider";function i(s){const o=C.useContext(n);if(o)return o;if(e!==void 0)return e;throw new Error(`\`${s}\` must be used within \`${t}\``)}return[r,i]}function no(t,e=[]){let n=[];function r(s,o){const a=C.createContext(o),u=n.length;n=[...n,o];const c=f=>{var v;const{scope:m,children:_,...A}=f,g=((v=m==null?void 0:m[t])==null?void 0:v[u])||a,E=C.useMemo(()=>A,Object.values(A));return k.jsx(g.Provider,{value:E,children:_})};c.displayName=s+"Provider";function h(f,m){var g;const _=((g=m==null?void 0:m[t])==null?void 0:g[u])||a,A=C.useContext(_);if(A)return A;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${s}\``)}return[c,h]}const i=()=>{const s=n.map(o=>C.createContext(o));return function(a){const u=(a==null?void 0:a[t])||s;return C.useMemo(()=>({[`__scope${t}`]:{...a,[t]:u}}),[a,u])}};return i.scopeName=t,[r,AP(i,...e)]}function AP(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(s){const o=r.reduce((a,{useScope:u,scopeName:c})=>{const f=u(s)[`__scope${c}`];return{...a,...f}},{});return C.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}function Sa(t){const e=IP(t),n=C.forwardRef((r,i)=>{const{children:s,...o}=r,a=C.Children.toArray(s),u=a.find(bP);if(u){const c=u.props.children,h=a.map(f=>f===u?C.Children.count(c)>1?C.Children.only(null):C.isValidElement(c)?c.props.children:null:f);return k.jsx(e,{...o,ref:i,children:C.isValidElement(c)?C.cloneElement(c,void 0,h):null})}return k.jsx(e,{...o,ref:i,children:s})});return n.displayName=`${t}.Slot`,n}var RP=Sa("Slot");function IP(t){const e=C.forwardRef((n,r)=>{const{children:i,...s}=n;if(C.isValidElement(i)){const o=NP(i),a=kP(s,i.props);return i.type!==C.Fragment&&(a.ref=r?GE(r,o):o),C.cloneElement(i,a)}return C.Children.count(i)>1?C.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var QE=Symbol("radix.slottable");function PP(t){const e=({children:n})=>k.jsx(k.Fragment,{children:n});return e.displayName=`${t}.Slottable`,e.__radixId=QE,e}function bP(t){return C.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===QE}function kP(t,e){const n={...e};for(const r in e){const i=t[r],s=e[r];/^on[A-Z]/.test(r)?i&&s?n[r]=(...a)=>{s(...a),i(...a)}:i&&(n[r]=i):r==="style"?n[r]={...i,...s}:r==="className"&&(n[r]=[i,s].filter(Boolean).join(" "))}return{...t,...n}}function NP(t){var r,i;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function DP(t){const e=t+"CollectionProvider",[n,r]=no(e),[i,s]=n(e,{collectionRef:{current:null},itemMap:new Map}),o=g=>{const{scope:E,children:v}=g,y=ur.useRef(null),T=ur.useRef(new Map).current;return k.jsx(i,{scope:E,itemMap:T,collectionRef:y,children:v})};o.displayName=e;const a=t+"CollectionSlot",u=Sa(a),c=ur.forwardRef((g,E)=>{const{scope:v,children:y}=g,T=s(a,v),P=mt(E,T.collectionRef);return k.jsx(u,{ref:P,children:y})});c.displayName=a;const h=t+"CollectionItemSlot",f="data-radix-collection-item",m=Sa(h),_=ur.forwardRef((g,E)=>{const{scope:v,children:y,...T}=g,P=ur.useRef(null),O=mt(E,P),V=s(h,v);return ur.useEffect(()=>(V.itemMap.set(P,{ref:P,...T}),()=>void V.itemMap.delete(P))),k.jsx(m,{[f]:"",ref:O,children:y})});_.displayName=h;function A(g){const E=s(t+"CollectionConsumer",g);return ur.useCallback(()=>{const y=E.collectionRef.current;if(!y)return[];const T=Array.from(y.querySelectorAll(`[${f}]`));return Array.from(E.itemMap.values()).sort((V,x)=>T.indexOf(V.ref.current)-T.indexOf(x.ref.current))},[E.collectionRef,E.itemMap])}return[{Provider:o,Slot:c,ItemSlot:_},A,r]}var OP=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],Ie=OP.reduce((t,e)=>{const n=Sa(`Primitive.${e}`),r=C.forwardRef((i,s)=>{const{asChild:o,...a}=i,u=o?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),k.jsx(u,{...a,ref:s})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{});function YE(t,e){t&&Ba.flushSync(()=>t.dispatchEvent(e))}function Jt(t){const e=C.useRef(t);return C.useEffect(()=>{e.current=t}),C.useMemo(()=>(...n)=>{var r;return(r=e.current)==null?void 0:r.call(e,...n)},[])}function VP(t,e=globalThis==null?void 0:globalThis.document){const n=Jt(t);C.useEffect(()=>{const r=i=>{i.key==="Escape"&&n(i)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[n,e])}var MP="DismissableLayer",gf="dismissableLayer.update",LP="dismissableLayer.pointerDownOutside",FP="dismissableLayer.focusOutside",Ev,XE=C.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),bc=C.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:i,onFocusOutside:s,onInteractOutside:o,onDismiss:a,...u}=t,c=C.useContext(XE),[h,f]=C.useState(null),m=(h==null?void 0:h.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,_]=C.useState({}),A=mt(e,x=>f(x)),g=Array.from(c.layers),[E]=[...c.layersWithOutsidePointerEventsDisabled].slice(-1),v=g.indexOf(E),y=h?g.indexOf(h):-1,T=c.layersWithOutsidePointerEventsDisabled.size>0,P=y>=v,O=UP(x=>{const w=x.target,R=[...c.branches].some(I=>I.contains(w));!P||R||(i==null||i(x),o==null||o(x),x.defaultPrevented||a==null||a())},m),V=zP(x=>{const w=x.target;[...c.branches].some(I=>I.contains(w))||(s==null||s(x),o==null||o(x),x.defaultPrevented||a==null||a())},m);return VP(x=>{y===c.layers.size-1&&(r==null||r(x),!x.defaultPrevented&&a&&(x.preventDefault(),a()))},m),C.useEffect(()=>{if(h)return n&&(c.layersWithOutsidePointerEventsDisabled.size===0&&(Ev=m.body.style.pointerEvents,m.body.style.pointerEvents="none"),c.layersWithOutsidePointerEventsDisabled.add(h)),c.layers.add(h),Tv(),()=>{n&&c.layersWithOutsidePointerEventsDisabled.size===1&&(m.body.style.pointerEvents=Ev)}},[h,m,n,c]),C.useEffect(()=>()=>{h&&(c.layers.delete(h),c.layersWithOutsidePointerEventsDisabled.delete(h),Tv())},[h,c]),C.useEffect(()=>{const x=()=>_({});return document.addEventListener(gf,x),()=>document.removeEventListener(gf,x)},[]),k.jsx(Ie.div,{...u,ref:A,style:{pointerEvents:T?P?"auto":"none":void 0,...t.style},onFocusCapture:_e(t.onFocusCapture,V.onFocusCapture),onBlurCapture:_e(t.onBlurCapture,V.onBlurCapture),onPointerDownCapture:_e(t.onPointerDownCapture,O.onPointerDownCapture)})});bc.displayName=MP;var jP="DismissableLayerBranch",JE=C.forwardRef((t,e)=>{const n=C.useContext(XE),r=C.useRef(null),i=mt(e,r);return C.useEffect(()=>{const s=r.current;if(s)return n.branches.add(s),()=>{n.branches.delete(s)}},[n.branches]),k.jsx(Ie.div,{...t,ref:i})});JE.displayName=jP;function UP(t,e=globalThis==null?void 0:globalThis.document){const n=Jt(t),r=C.useRef(!1),i=C.useRef(()=>{});return C.useEffect(()=>{const s=a=>{if(a.target&&!r.current){let u=function(){ZE(LP,n,c,{discrete:!0})};const c={originalEvent:a};a.pointerType==="touch"?(e.removeEventListener("click",i.current),i.current=u,e.addEventListener("click",i.current,{once:!0})):u()}else e.removeEventListener("click",i.current);r.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",s)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",s),e.removeEventListener("click",i.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function zP(t,e=globalThis==null?void 0:globalThis.document){const n=Jt(t),r=C.useRef(!1);return C.useEffect(()=>{const i=s=>{s.target&&!r.current&&ZE(FP,n,{originalEvent:s},{discrete:!1})};return e.addEventListener("focusin",i),()=>e.removeEventListener("focusin",i)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function Tv(){const t=new CustomEvent(gf);document.dispatchEvent(t)}function ZE(t,e,n,{discrete:r}){const i=n.originalEvent.target,s=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&i.addEventListener(t,e,{once:!0}),r?YE(i,s):i.dispatchEvent(s)}var BP=bc,$P=JE,$r=globalThis!=null&&globalThis.document?C.useLayoutEffect:()=>{},HP="Portal",Kp=C.forwardRef((t,e)=>{var a;const{container:n,...r}=t,[i,s]=C.useState(!1);$r(()=>s(!0),[]);const o=n||i&&((a=globalThis==null?void 0:globalThis.document)==null?void 0:a.body);return o?gI.createPortal(k.jsx(Ie.div,{...r,ref:e}),o):null});Kp.displayName=HP;function WP(t,e){return C.useReducer((n,r)=>e[n][r]??n,t)}var Vi=t=>{const{present:e,children:n}=t,r=qP(e),i=typeof n=="function"?n({present:r.isPresent}):C.Children.only(n),s=mt(r.ref,KP(i));return typeof n=="function"||r.isPresent?C.cloneElement(i,{ref:s}):null};Vi.displayName="Presence";function qP(t){const[e,n]=C.useState(),r=C.useRef({}),i=C.useRef(t),s=C.useRef("none"),o=t?"mounted":"unmounted",[a,u]=WP(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return C.useEffect(()=>{const c=Ol(r.current);s.current=a==="mounted"?c:"none"},[a]),$r(()=>{const c=r.current,h=i.current;if(h!==t){const m=s.current,_=Ol(c);t?u("MOUNT"):_==="none"||(c==null?void 0:c.display)==="none"?u("UNMOUNT"):u(h&&m!==_?"ANIMATION_OUT":"UNMOUNT"),i.current=t}},[t,u]),$r(()=>{if(e){let c;const h=e.ownerDocument.defaultView??window,f=_=>{const g=Ol(r.current).includes(_.animationName);if(_.target===e&&g&&(u("ANIMATION_END"),!i.current)){const E=e.style.animationFillMode;e.style.animationFillMode="forwards",c=h.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=E)})}},m=_=>{_.target===e&&(s.current=Ol(r.current))};return e.addEventListener("animationstart",m),e.addEventListener("animationcancel",f),e.addEventListener("animationend",f),()=>{h.clearTimeout(c),e.removeEventListener("animationstart",m),e.removeEventListener("animationcancel",f),e.removeEventListener("animationend",f)}}else u("ANIMATION_END")},[e,u]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:C.useCallback(c=>{c&&(r.current=getComputedStyle(c)),n(c)},[])}}function Ol(t){return(t==null?void 0:t.animationName)||"none"}function KP(t){var r,i;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function Gp({prop:t,defaultProp:e,onChange:n=()=>{}}){const[r,i]=GP({defaultProp:e,onChange:n}),s=t!==void 0,o=s?t:r,a=Jt(n),u=C.useCallback(c=>{if(s){const f=typeof c=="function"?c(t):c;f!==t&&a(f)}else i(c)},[s,t,i,a]);return[o,u]}function GP({defaultProp:t,onChange:e}){const n=C.useState(t),[r]=n,i=C.useRef(r),s=Jt(e);return C.useEffect(()=>{i.current!==r&&(s(r),i.current=r)},[r,i,s]),n}var QP="VisuallyHidden",kc=C.forwardRef((t,e)=>k.jsx(Ie.span,{...t,ref:e,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...t.style}}));kc.displayName=QP;var YP=kc,Qp="ToastProvider",[Yp,XP,JP]=DP("Toast"),[eT,TF]=no("Toast",[JP]),[ZP,Nc]=eT(Qp),tT=t=>{const{__scopeToast:e,label:n="Notification",duration:r=5e3,swipeDirection:i="right",swipeThreshold:s=50,children:o}=t,[a,u]=C.useState(null),[c,h]=C.useState(0),f=C.useRef(!1),m=C.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${Qp}\`. Expected non-empty \`string\`.`),k.jsx(Yp.Provider,{scope:e,children:k.jsx(ZP,{scope:e,label:n,duration:r,swipeDirection:i,swipeThreshold:s,toastCount:c,viewport:a,onViewportChange:u,onToastAdd:C.useCallback(()=>h(_=>_+1),[]),onToastRemove:C.useCallback(()=>h(_=>_-1),[]),isFocusedToastEscapeKeyDownRef:f,isClosePausedRef:m,children:o})})};tT.displayName=Qp;var nT="ToastViewport",eb=["F8"],yf="toast.viewportPause",vf="toast.viewportResume",rT=C.forwardRef((t,e)=>{const{__scopeToast:n,hotkey:r=eb,label:i="Notifications ({hotkey})",...s}=t,o=Nc(nT,n),a=XP(n),u=C.useRef(null),c=C.useRef(null),h=C.useRef(null),f=C.useRef(null),m=mt(e,f,o.onViewportChange),_=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),A=o.toastCount>0;C.useEffect(()=>{const E=v=>{var T;r.length!==0&&r.every(P=>v[P]||v.code===P)&&((T=f.current)==null||T.focus())};return document.addEventListener("keydown",E),()=>document.removeEventListener("keydown",E)},[r]),C.useEffect(()=>{const E=u.current,v=f.current;if(A&&E&&v){const y=()=>{if(!o.isClosePausedRef.current){const V=new CustomEvent(yf);v.dispatchEvent(V),o.isClosePausedRef.current=!0}},T=()=>{if(o.isClosePausedRef.current){const V=new CustomEvent(vf);v.dispatchEvent(V),o.isClosePausedRef.current=!1}},P=V=>{!E.contains(V.relatedTarget)&&T()},O=()=>{E.contains(document.activeElement)||T()};return E.addEventListener("focusin",y),E.addEventListener("focusout",P),E.addEventListener("pointermove",y),E.addEventListener("pointerleave",O),window.addEventListener("blur",y),window.addEventListener("focus",T),()=>{E.removeEventListener("focusin",y),E.removeEventListener("focusout",P),E.removeEventListener("pointermove",y),E.removeEventListener("pointerleave",O),window.removeEventListener("blur",y),window.removeEventListener("focus",T)}}},[A,o.isClosePausedRef]);const g=C.useCallback(({tabbingDirection:E})=>{const y=a().map(T=>{const P=T.ref.current,O=[P,...fb(P)];return E==="forwards"?O:O.reverse()});return(E==="forwards"?y.reverse():y).flat()},[a]);return C.useEffect(()=>{const E=f.current;if(E){const v=y=>{var O,V,x;const T=y.altKey||y.ctrlKey||y.metaKey;if(y.key==="Tab"&&!T){const w=document.activeElement,R=y.shiftKey;if(y.target===E&&R){(O=c.current)==null||O.focus();return}const D=g({tabbingDirection:R?"backwards":"forwards"}),b=D.findIndex(H=>H===w);eh(D.slice(b+1))?y.preventDefault():R?(V=c.current)==null||V.focus():(x=h.current)==null||x.focus()}};return E.addEventListener("keydown",v),()=>E.removeEventListener("keydown",v)}},[a,g]),k.jsxs($P,{ref:u,role:"region","aria-label":i.replace("{hotkey}",_),tabIndex:-1,style:{pointerEvents:A?void 0:"none"},children:[A&&k.jsx(_f,{ref:c,onFocusFromOutsideViewport:()=>{const E=g({tabbingDirection:"forwards"});eh(E)}}),k.jsx(Yp.Slot,{scope:n,children:k.jsx(Ie.ol,{tabIndex:-1,...s,ref:m})}),A&&k.jsx(_f,{ref:h,onFocusFromOutsideViewport:()=>{const E=g({tabbingDirection:"backwards"});eh(E)}})]})});rT.displayName=nT;var iT="ToastFocusProxy",_f=C.forwardRef((t,e)=>{const{__scopeToast:n,onFocusFromOutsideViewport:r,...i}=t,s=Nc(iT,n);return k.jsx(kc,{"aria-hidden":!0,tabIndex:0,...i,ref:e,style:{position:"fixed"},onFocus:o=>{var c;const a=o.relatedTarget;!((c=s.viewport)!=null&&c.contains(a))&&r()}})});_f.displayName=iT;var Dc="Toast",tb="toast.swipeStart",nb="toast.swipeMove",rb="toast.swipeCancel",ib="toast.swipeEnd",sT=C.forwardRef((t,e)=>{const{forceMount:n,open:r,defaultOpen:i,onOpenChange:s,...o}=t,[a=!0,u]=Gp({prop:r,defaultProp:i,onChange:s});return k.jsx(Vi,{present:n||a,children:k.jsx(ab,{open:a,...o,ref:e,onClose:()=>u(!1),onPause:Jt(t.onPause),onResume:Jt(t.onResume),onSwipeStart:_e(t.onSwipeStart,c=>{c.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:_e(t.onSwipeMove,c=>{const{x:h,y:f}=c.detail.delta;c.currentTarget.setAttribute("data-swipe","move"),c.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${h}px`),c.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${f}px`)}),onSwipeCancel:_e(t.onSwipeCancel,c=>{c.currentTarget.setAttribute("data-swipe","cancel"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),c.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:_e(t.onSwipeEnd,c=>{const{x:h,y:f}=c.detail.delta;c.currentTarget.setAttribute("data-swipe","end"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),c.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${h}px`),c.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${f}px`),u(!1)})})})});sT.displayName=Dc;var[sb,ob]=eT(Dc,{onClose(){}}),ab=C.forwardRef((t,e)=>{const{__scopeToast:n,type:r="foreground",duration:i,open:s,onClose:o,onEscapeKeyDown:a,onPause:u,onResume:c,onSwipeStart:h,onSwipeMove:f,onSwipeCancel:m,onSwipeEnd:_,...A}=t,g=Nc(Dc,n),[E,v]=C.useState(null),y=mt(e,H=>v(H)),T=C.useRef(null),P=C.useRef(null),O=i||g.duration,V=C.useRef(0),x=C.useRef(O),w=C.useRef(0),{onToastAdd:R,onToastRemove:I}=g,N=Jt(()=>{var ae;(E==null?void 0:E.contains(document.activeElement))&&((ae=g.viewport)==null||ae.focus()),o()}),D=C.useCallback(H=>{!H||H===1/0||(window.clearTimeout(w.current),V.current=new Date().getTime(),w.current=window.setTimeout(N,H))},[N]);C.useEffect(()=>{const H=g.viewport;if(H){const ae=()=>{D(x.current),c==null||c()},re=()=>{const se=new Date().getTime()-V.current;x.current=x.current-se,window.clearTimeout(w.current),u==null||u()};return H.addEventListener(yf,re),H.addEventListener(vf,ae),()=>{H.removeEventListener(yf,re),H.removeEventListener(vf,ae)}}},[g.viewport,O,u,c,D]),C.useEffect(()=>{s&&!g.isClosePausedRef.current&&D(O)},[s,O,g.isClosePausedRef,D]),C.useEffect(()=>(R(),()=>I()),[R,I]);const b=C.useMemo(()=>E?hT(E):null,[E]);return g.viewport?k.jsxs(k.Fragment,{children:[b&&k.jsx(lb,{__scopeToast:n,role:"status","aria-live":r==="foreground"?"assertive":"polite","aria-atomic":!0,children:b}),k.jsx(sb,{scope:n,onClose:N,children:Ba.createPortal(k.jsx(Yp.ItemSlot,{scope:n,children:k.jsx(BP,{asChild:!0,onEscapeKeyDown:_e(a,()=>{g.isFocusedToastEscapeKeyDownRef.current||N(),g.isFocusedToastEscapeKeyDownRef.current=!1}),children:k.jsx(Ie.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":s?"open":"closed","data-swipe-direction":g.swipeDirection,...A,ref:y,style:{userSelect:"none",touchAction:"none",...t.style},onKeyDown:_e(t.onKeyDown,H=>{H.key==="Escape"&&(a==null||a(H.nativeEvent),H.nativeEvent.defaultPrevented||(g.isFocusedToastEscapeKeyDownRef.current=!0,N()))}),onPointerDown:_e(t.onPointerDown,H=>{H.button===0&&(T.current={x:H.clientX,y:H.clientY})}),onPointerMove:_e(t.onPointerMove,H=>{if(!T.current)return;const ae=H.clientX-T.current.x,re=H.clientY-T.current.y,se=!!P.current,F=["left","right"].includes(g.swipeDirection),W=["left","up"].includes(g.swipeDirection)?Math.min:Math.max,G=F?W(0,ae):0,te=F?0:W(0,re),de=H.pointerType==="touch"?10:2,ye={x:G,y:te},Ct={originalEvent:H,delta:ye};se?(P.current=ye,Vl(nb,f,Ct,{discrete:!1})):Sv(ye,g.swipeDirection,de)?(P.current=ye,Vl(tb,h,Ct,{discrete:!1}),H.target.setPointerCapture(H.pointerId)):(Math.abs(ae)>de||Math.abs(re)>de)&&(T.current=null)}),onPointerUp:_e(t.onPointerUp,H=>{const ae=P.current,re=H.target;if(re.hasPointerCapture(H.pointerId)&&re.releasePointerCapture(H.pointerId),P.current=null,T.current=null,ae){const se=H.currentTarget,F={originalEvent:H,delta:ae};Sv(ae,g.swipeDirection,g.swipeThreshold)?Vl(ib,_,F,{discrete:!0}):Vl(rb,m,F,{discrete:!0}),se.addEventListener("click",W=>W.preventDefault(),{once:!0})}})})})}),g.viewport)})]}):null}),lb=t=>{const{__scopeToast:e,children:n,...r}=t,i=Nc(Dc,e),[s,o]=C.useState(!1),[a,u]=C.useState(!1);return db(()=>o(!0)),C.useEffect(()=>{const c=window.setTimeout(()=>u(!0),1e3);return()=>window.clearTimeout(c)},[]),a?null:k.jsx(Kp,{asChild:!0,children:k.jsx(kc,{...r,children:s&&k.jsxs(k.Fragment,{children:[i.label," ",n]})})})},ub="ToastTitle",oT=C.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return k.jsx(Ie.div,{...r,ref:e})});oT.displayName=ub;var cb="ToastDescription",aT=C.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return k.jsx(Ie.div,{...r,ref:e})});aT.displayName=cb;var lT="ToastAction",uT=C.forwardRef((t,e)=>{const{altText:n,...r}=t;return n.trim()?k.jsx(dT,{altText:n,asChild:!0,children:k.jsx(Xp,{...r,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${lT}\`. Expected non-empty \`string\`.`),null)});uT.displayName=lT;var cT="ToastClose",Xp=C.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t,i=ob(cT,n);return k.jsx(dT,{asChild:!0,children:k.jsx(Ie.button,{type:"button",...r,ref:e,onClick:_e(t.onClick,i.onClose)})})});Xp.displayName=cT;var dT=C.forwardRef((t,e)=>{const{__scopeToast:n,altText:r,...i}=t;return k.jsx(Ie.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...i,ref:e})});function hT(t){const e=[];return Array.from(t.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&e.push(r.textContent),hb(r)){const i=r.ariaHidden||r.hidden||r.style.display==="none",s=r.dataset.radixToastAnnounceExclude==="";if(!i)if(s){const o=r.dataset.radixToastAnnounceAlt;o&&e.push(o)}else e.push(...hT(r))}}),e}function Vl(t,e,n,{discrete:r}){const i=n.originalEvent.currentTarget,s=new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:n});e&&i.addEventListener(t,e,{once:!0}),r?YE(i,s):i.dispatchEvent(s)}var Sv=(t,e,n=0)=>{const r=Math.abs(t.x),i=Math.abs(t.y),s=r>i;return e==="left"||e==="right"?s&&r>n:!s&&i>n};function db(t=()=>{}){const e=Jt(t);$r(()=>{let n=0,r=0;return n=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(r)}},[e])}function hb(t){return t.nodeType===t.ELEMENT_NODE}function fb(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function eh(t){const e=document.activeElement;return t.some(n=>n===e?!0:(n.focus(),document.activeElement!==e))}var pb=tT,fT=rT,pT=sT,mT=oT,gT=aT,yT=uT,vT=Xp;function _T(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=_T(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function wT(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=_T(t))&&(r&&(r+=" "),r+=e);return r}const xv=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,Cv=wT,Jp=(t,e)=>n=>{var r;if((e==null?void 0:e.variants)==null)return Cv(t,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:i,defaultVariants:s}=e,o=Object.keys(i).map(c=>{const h=n==null?void 0:n[c],f=s==null?void 0:s[c];if(h===null)return null;const m=xv(h)||xv(f);return i[c][m]}),a=n&&Object.entries(n).reduce((c,h)=>{let[f,m]=h;return m===void 0||(c[f]=m),c},{}),u=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((c,h)=>{let{class:f,className:m,..._}=h;return Object.entries(_).every(A=>{let[g,E]=A;return Array.isArray(E)?E.includes({...s,...a}[g]):{...s,...a}[g]===E})?[...c,f,m]:c},[]);return Cv(t,o,u,n==null?void 0:n.class,n==null?void 0:n.className)};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mb=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),ET=(...t)=>t.filter((e,n,r)=>!!e&&r.indexOf(e)===n).join(" ");/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var gb={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yb=C.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:s,iconNode:o,...a},u)=>C.createElement("svg",{ref:u,...gb,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:ET("lucide",i),...a},[...o.map(([c,h])=>C.createElement(c,h)),...Array.isArray(s)?s:[s]]));/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mi=(t,e)=>{const n=C.forwardRef(({className:r,...i},s)=>C.createElement(yb,{ref:s,iconNode:e,className:ET(`lucide-${mb(t)}`,r),...i}));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vb=Mi("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _b=Mi("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wb=Mi("CirclePlus",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Eb=Mi("FolderPlus",[["path",{d:"M12 10v6",key:"1bos4e"}],["path",{d:"M9 13h6",key:"1uhe8q"}],["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tb=Mi("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TT=Mi("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ST=Mi("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),Zp="-",Sb=t=>{const e=Cb(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:o=>{const a=o.split(Zp);return a[0]===""&&a.length!==1&&a.shift(),xT(a,e)||xb(o)},getConflictingClassGroupIds:(o,a)=>{const u=n[o]||[];return a&&r[o]?[...u,...r[o]]:u}}},xT=(t,e)=>{var o;if(t.length===0)return e.classGroupId;const n=t[0],r=e.nextPart.get(n),i=r?xT(t.slice(1),r):void 0;if(i)return i;if(e.validators.length===0)return;const s=t.join(Zp);return(o=e.validators.find(({validator:a})=>a(s)))==null?void 0:o.classGroupId},Av=/^\[(.+)\]$/,xb=t=>{if(Av.test(t)){const e=Av.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},Cb=t=>{const{theme:e,prefix:n}=t,r={nextPart:new Map,validators:[]};return Rb(Object.entries(t.classGroups),n).forEach(([s,o])=>{wf(o,r,s,e)}),r},wf=(t,e,n,r)=>{t.forEach(i=>{if(typeof i=="string"){const s=i===""?e:Rv(e,i);s.classGroupId=n;return}if(typeof i=="function"){if(Ab(i)){wf(i(r),e,n,r);return}e.validators.push({validator:i,classGroupId:n});return}Object.entries(i).forEach(([s,o])=>{wf(o,Rv(e,s),n,r)})})},Rv=(t,e)=>{let n=t;return e.split(Zp).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},Ab=t=>t.isThemeGetter,Rb=(t,e)=>e?t.map(([n,r])=>{const i=r.map(s=>typeof s=="string"?e+s:typeof s=="object"?Object.fromEntries(Object.entries(s).map(([o,a])=>[e+o,a])):s);return[n,i]}):t,Ib=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,r=new Map;const i=(s,o)=>{n.set(s,o),e++,e>t&&(e=0,r=n,n=new Map)};return{get(s){let o=n.get(s);if(o!==void 0)return o;if((o=r.get(s))!==void 0)return i(s,o),o},set(s,o){n.has(s)?n.set(s,o):i(s,o)}}},CT="!",Pb=t=>{const{separator:e,experimentalParseClassName:n}=t,r=e.length===1,i=e[0],s=e.length,o=a=>{const u=[];let c=0,h=0,f;for(let E=0;E<a.length;E++){let v=a[E];if(c===0){if(v===i&&(r||a.slice(E,E+s)===e)){u.push(a.slice(h,E)),h=E+s;continue}if(v==="/"){f=E;continue}}v==="["?c++:v==="]"&&c--}const m=u.length===0?a:a.substring(h),_=m.startsWith(CT),A=_?m.substring(1):m,g=f&&f>h?f-h:void 0;return{modifiers:u,hasImportantModifier:_,baseClassName:A,maybePostfixModifierPosition:g}};return n?a=>n({className:a,parseClassName:o}):o},bb=t=>{if(t.length<=1)return t;const e=[];let n=[];return t.forEach(r=>{r[0]==="["?(e.push(...n.sort(),r),n=[]):n.push(r)}),e.push(...n.sort()),e},kb=t=>({cache:Ib(t.cacheSize),parseClassName:Pb(t),...Sb(t)}),Nb=/\s+/,Db=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:i}=e,s=[],o=t.trim().split(Nb);let a="";for(let u=o.length-1;u>=0;u-=1){const c=o[u],{modifiers:h,hasImportantModifier:f,baseClassName:m,maybePostfixModifierPosition:_}=n(c);let A=!!_,g=r(A?m.substring(0,_):m);if(!g){if(!A){a=c+(a.length>0?" "+a:a);continue}if(g=r(m),!g){a=c+(a.length>0?" "+a:a);continue}A=!1}const E=bb(h).join(":"),v=f?E+CT:E,y=v+g;if(s.includes(y))continue;s.push(y);const T=i(g,A);for(let P=0;P<T.length;++P){const O=T[P];s.push(v+O)}a=c+(a.length>0?" "+a:a)}return a};function Ob(){let t=0,e,n,r="";for(;t<arguments.length;)(e=arguments[t++])&&(n=AT(e))&&(r&&(r+=" "),r+=n);return r}const AT=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=AT(t[r]))&&(n&&(n+=" "),n+=e);return n};function Vb(t,...e){let n,r,i,s=o;function o(u){const c=e.reduce((h,f)=>f(h),t());return n=kb(c),r=n.cache.get,i=n.cache.set,s=a,a(u)}function a(u){const c=r(u);if(c)return c;const h=Db(u,n);return i(u,h),h}return function(){return s(Ob.apply(null,arguments))}}const Te=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},RT=/^\[(?:([a-z-]+):)?(.+)\]$/i,Mb=/^\d+\/\d+$/,Lb=new Set(["px","full","screen"]),Fb=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,jb=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,Ub=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,zb=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,Bb=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,jn=t=>ws(t)||Lb.has(t)||Mb.test(t),ar=t=>ro(t,"length",Yb),ws=t=>!!t&&!Number.isNaN(Number(t)),th=t=>ro(t,"number",ws),Do=t=>!!t&&Number.isInteger(Number(t)),$b=t=>t.endsWith("%")&&ws(t.slice(0,-1)),ee=t=>RT.test(t),lr=t=>Fb.test(t),Hb=new Set(["length","size","percentage"]),Wb=t=>ro(t,Hb,IT),qb=t=>ro(t,"position",IT),Kb=new Set(["image","url"]),Gb=t=>ro(t,Kb,Jb),Qb=t=>ro(t,"",Xb),Oo=()=>!0,ro=(t,e,n)=>{const r=RT.exec(t);return r?r[1]?typeof e=="string"?r[1]===e:e.has(r[1]):n(r[2]):!1},Yb=t=>jb.test(t)&&!Ub.test(t),IT=()=>!1,Xb=t=>zb.test(t),Jb=t=>Bb.test(t),Zb=()=>{const t=Te("colors"),e=Te("spacing"),n=Te("blur"),r=Te("brightness"),i=Te("borderColor"),s=Te("borderRadius"),o=Te("borderSpacing"),a=Te("borderWidth"),u=Te("contrast"),c=Te("grayscale"),h=Te("hueRotate"),f=Te("invert"),m=Te("gap"),_=Te("gradientColorStops"),A=Te("gradientColorStopPositions"),g=Te("inset"),E=Te("margin"),v=Te("opacity"),y=Te("padding"),T=Te("saturate"),P=Te("scale"),O=Te("sepia"),V=Te("skew"),x=Te("space"),w=Te("translate"),R=()=>["auto","contain","none"],I=()=>["auto","hidden","clip","visible","scroll"],N=()=>["auto",ee,e],D=()=>[ee,e],b=()=>["",jn,ar],H=()=>["auto",ws,ee],ae=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],re=()=>["solid","dashed","dotted","double","none"],se=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],F=()=>["start","end","center","between","around","evenly","stretch"],W=()=>["","0",ee],G=()=>["auto","avoid","all","avoid-page","page","left","right","column"],te=()=>[ws,ee];return{cacheSize:500,separator:":",theme:{colors:[Oo],spacing:[jn,ar],blur:["none","",lr,ee],brightness:te(),borderColor:[t],borderRadius:["none","","full",lr,ee],borderSpacing:D(),borderWidth:b(),contrast:te(),grayscale:W(),hueRotate:te(),invert:W(),gap:D(),gradientColorStops:[t],gradientColorStopPositions:[$b,ar],inset:N(),margin:N(),opacity:te(),padding:D(),saturate:te(),scale:te(),sepia:W(),skew:te(),space:D(),translate:D()},classGroups:{aspect:[{aspect:["auto","square","video",ee]}],container:["container"],columns:[{columns:[lr]}],"break-after":[{"break-after":G()}],"break-before":[{"break-before":G()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...ae(),ee]}],overflow:[{overflow:I()}],"overflow-x":[{"overflow-x":I()}],"overflow-y":[{"overflow-y":I()}],overscroll:[{overscroll:R()}],"overscroll-x":[{"overscroll-x":R()}],"overscroll-y":[{"overscroll-y":R()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[g]}],"inset-x":[{"inset-x":[g]}],"inset-y":[{"inset-y":[g]}],start:[{start:[g]}],end:[{end:[g]}],top:[{top:[g]}],right:[{right:[g]}],bottom:[{bottom:[g]}],left:[{left:[g]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Do,ee]}],basis:[{basis:N()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",ee]}],grow:[{grow:W()}],shrink:[{shrink:W()}],order:[{order:["first","last","none",Do,ee]}],"grid-cols":[{"grid-cols":[Oo]}],"col-start-end":[{col:["auto",{span:["full",Do,ee]},ee]}],"col-start":[{"col-start":H()}],"col-end":[{"col-end":H()}],"grid-rows":[{"grid-rows":[Oo]}],"row-start-end":[{row:["auto",{span:[Do,ee]},ee]}],"row-start":[{"row-start":H()}],"row-end":[{"row-end":H()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",ee]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",ee]}],gap:[{gap:[m]}],"gap-x":[{"gap-x":[m]}],"gap-y":[{"gap-y":[m]}],"justify-content":[{justify:["normal",...F()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...F(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...F(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[y]}],px:[{px:[y]}],py:[{py:[y]}],ps:[{ps:[y]}],pe:[{pe:[y]}],pt:[{pt:[y]}],pr:[{pr:[y]}],pb:[{pb:[y]}],pl:[{pl:[y]}],m:[{m:[E]}],mx:[{mx:[E]}],my:[{my:[E]}],ms:[{ms:[E]}],me:[{me:[E]}],mt:[{mt:[E]}],mr:[{mr:[E]}],mb:[{mb:[E]}],ml:[{ml:[E]}],"space-x":[{"space-x":[x]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[x]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",ee,e]}],"min-w":[{"min-w":[ee,e,"min","max","fit"]}],"max-w":[{"max-w":[ee,e,"none","full","min","max","fit","prose",{screen:[lr]},lr]}],h:[{h:[ee,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[ee,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[ee,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[ee,e,"auto","min","max","fit"]}],"font-size":[{text:["base",lr,ar]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",th]}],"font-family":[{font:[Oo]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",ee]}],"line-clamp":[{"line-clamp":["none",ws,th]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",jn,ee]}],"list-image":[{"list-image":["none",ee]}],"list-style-type":[{list:["none","disc","decimal",ee]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[v]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[v]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...re(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",jn,ar]}],"underline-offset":[{"underline-offset":["auto",jn,ee]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:D()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",ee]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",ee]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[v]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...ae(),qb]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",Wb]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},Gb]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[A]}],"gradient-via-pos":[{via:[A]}],"gradient-to-pos":[{to:[A]}],"gradient-from":[{from:[_]}],"gradient-via":[{via:[_]}],"gradient-to":[{to:[_]}],rounded:[{rounded:[s]}],"rounded-s":[{"rounded-s":[s]}],"rounded-e":[{"rounded-e":[s]}],"rounded-t":[{"rounded-t":[s]}],"rounded-r":[{"rounded-r":[s]}],"rounded-b":[{"rounded-b":[s]}],"rounded-l":[{"rounded-l":[s]}],"rounded-ss":[{"rounded-ss":[s]}],"rounded-se":[{"rounded-se":[s]}],"rounded-ee":[{"rounded-ee":[s]}],"rounded-es":[{"rounded-es":[s]}],"rounded-tl":[{"rounded-tl":[s]}],"rounded-tr":[{"rounded-tr":[s]}],"rounded-br":[{"rounded-br":[s]}],"rounded-bl":[{"rounded-bl":[s]}],"border-w":[{border:[a]}],"border-w-x":[{"border-x":[a]}],"border-w-y":[{"border-y":[a]}],"border-w-s":[{"border-s":[a]}],"border-w-e":[{"border-e":[a]}],"border-w-t":[{"border-t":[a]}],"border-w-r":[{"border-r":[a]}],"border-w-b":[{"border-b":[a]}],"border-w-l":[{"border-l":[a]}],"border-opacity":[{"border-opacity":[v]}],"border-style":[{border:[...re(),"hidden"]}],"divide-x":[{"divide-x":[a]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[a]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[v]}],"divide-style":[{divide:re()}],"border-color":[{border:[i]}],"border-color-x":[{"border-x":[i]}],"border-color-y":[{"border-y":[i]}],"border-color-s":[{"border-s":[i]}],"border-color-e":[{"border-e":[i]}],"border-color-t":[{"border-t":[i]}],"border-color-r":[{"border-r":[i]}],"border-color-b":[{"border-b":[i]}],"border-color-l":[{"border-l":[i]}],"divide-color":[{divide:[i]}],"outline-style":[{outline:["",...re()]}],"outline-offset":[{"outline-offset":[jn,ee]}],"outline-w":[{outline:[jn,ar]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:b()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[v]}],"ring-offset-w":[{"ring-offset":[jn,ar]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",lr,Qb]}],"shadow-color":[{shadow:[Oo]}],opacity:[{opacity:[v]}],"mix-blend":[{"mix-blend":[...se(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":se()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[u]}],"drop-shadow":[{"drop-shadow":["","none",lr,ee]}],grayscale:[{grayscale:[c]}],"hue-rotate":[{"hue-rotate":[h]}],invert:[{invert:[f]}],saturate:[{saturate:[T]}],sepia:[{sepia:[O]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[u]}],"backdrop-grayscale":[{"backdrop-grayscale":[c]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[h]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[v]}],"backdrop-saturate":[{"backdrop-saturate":[T]}],"backdrop-sepia":[{"backdrop-sepia":[O]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",ee]}],duration:[{duration:te()}],ease:[{ease:["linear","in","out","in-out",ee]}],delay:[{delay:te()}],animate:[{animate:["none","spin","ping","pulse","bounce",ee]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[P]}],"scale-x":[{"scale-x":[P]}],"scale-y":[{"scale-y":[P]}],rotate:[{rotate:[Do,ee]}],"translate-x":[{"translate-x":[w]}],"translate-y":[{"translate-y":[w]}],"skew-x":[{"skew-x":[V]}],"skew-y":[{"skew-y":[V]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",ee]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",ee]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":D()}],"scroll-mx":[{"scroll-mx":D()}],"scroll-my":[{"scroll-my":D()}],"scroll-ms":[{"scroll-ms":D()}],"scroll-me":[{"scroll-me":D()}],"scroll-mt":[{"scroll-mt":D()}],"scroll-mr":[{"scroll-mr":D()}],"scroll-mb":[{"scroll-mb":D()}],"scroll-ml":[{"scroll-ml":D()}],"scroll-p":[{"scroll-p":D()}],"scroll-px":[{"scroll-px":D()}],"scroll-py":[{"scroll-py":D()}],"scroll-ps":[{"scroll-ps":D()}],"scroll-pe":[{"scroll-pe":D()}],"scroll-pt":[{"scroll-pt":D()}],"scroll-pr":[{"scroll-pr":D()}],"scroll-pb":[{"scroll-pb":D()}],"scroll-pl":[{"scroll-pl":D()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",ee]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[jn,ar,th]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},ek=Vb(Zb);function Ce(...t){return ek(wT(t))}const tk=pb,PT=C.forwardRef(({className:t,...e},n)=>k.jsx(fT,{ref:n,className:Ce("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",t),...e}));PT.displayName=fT.displayName;const nk=Jp("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),bT=C.forwardRef(({className:t,variant:e,...n},r)=>k.jsx(pT,{ref:r,className:Ce(nk({variant:e}),t),...n}));bT.displayName=pT.displayName;const rk=C.forwardRef(({className:t,...e},n)=>k.jsx(yT,{ref:n,className:Ce("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",t),...e}));rk.displayName=yT.displayName;const kT=C.forwardRef(({className:t,...e},n)=>k.jsx(vT,{ref:n,className:Ce("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),"toast-close":"",...e,children:k.jsx(ST,{className:"h-4 w-4"})}));kT.displayName=vT.displayName;const NT=C.forwardRef(({className:t,...e},n)=>k.jsx(mT,{ref:n,className:Ce("text-sm font-semibold",t),...e}));NT.displayName=mT.displayName;const DT=C.forwardRef(({className:t,...e},n)=>k.jsx(gT,{ref:n,className:Ce("text-sm opacity-90",t),...e}));DT.displayName=gT.displayName;function ik(){const{toasts:t}=Pc();return k.jsxs(tk,{children:[t.map(function({id:e,title:n,description:r,action:i,...s}){return k.jsxs(bT,{...s,children:[k.jsxs("div",{className:"grid gap-1",children:[n&&k.jsx(NT,{children:n}),r&&k.jsx(DT,{children:r})]}),i,k.jsx(kT,{})]},e)}),k.jsx(PT,{})]})}var sk=A0[" useId ".trim().toString()]||(()=>{}),ok=0;function nh(t){const[e,n]=C.useState(sk());return $r(()=>{t||n(r=>r??String(ok++))},[t]),t||(e?`radix-${e}`:"")}const ak=["top","right","bottom","left"],Hr=Math.min,Vt=Math.max,$u=Math.round,Ml=Math.floor,In=t=>({x:t,y:t}),lk={left:"right",right:"left",bottom:"top",top:"bottom"},uk={start:"end",end:"start"};function Ef(t,e,n){return Vt(t,Hr(e,n))}function Yn(t,e){return typeof t=="function"?t(e):t}function Xn(t){return t.split("-")[0]}function io(t){return t.split("-")[1]}function em(t){return t==="x"?"y":"x"}function tm(t){return t==="y"?"height":"width"}function Wr(t){return["top","bottom"].includes(Xn(t))?"y":"x"}function nm(t){return em(Wr(t))}function ck(t,e,n){n===void 0&&(n=!1);const r=io(t),i=nm(t),s=tm(i);let o=i==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[s]>e.floating[s]&&(o=Hu(o)),[o,Hu(o)]}function dk(t){const e=Hu(t);return[Tf(t),e,Tf(e)]}function Tf(t){return t.replace(/start|end/g,e=>uk[e])}function hk(t,e,n){const r=["left","right"],i=["right","left"],s=["top","bottom"],o=["bottom","top"];switch(t){case"top":case"bottom":return n?e?i:r:e?r:i;case"left":case"right":return e?s:o;default:return[]}}function fk(t,e,n,r){const i=io(t);let s=hk(Xn(t),n==="start",r);return i&&(s=s.map(o=>o+"-"+i),e&&(s=s.concat(s.map(Tf)))),s}function Hu(t){return t.replace(/left|right|bottom|top/g,e=>lk[e])}function pk(t){return{top:0,right:0,bottom:0,left:0,...t}}function OT(t){return typeof t!="number"?pk(t):{top:t,right:t,bottom:t,left:t}}function Wu(t){const{x:e,y:n,width:r,height:i}=t;return{width:r,height:i,top:n,left:e,right:e+r,bottom:n+i,x:e,y:n}}function Iv(t,e,n){let{reference:r,floating:i}=t;const s=Wr(e),o=nm(e),a=tm(o),u=Xn(e),c=s==="y",h=r.x+r.width/2-i.width/2,f=r.y+r.height/2-i.height/2,m=r[a]/2-i[a]/2;let _;switch(u){case"top":_={x:h,y:r.y-i.height};break;case"bottom":_={x:h,y:r.y+r.height};break;case"right":_={x:r.x+r.width,y:f};break;case"left":_={x:r.x-i.width,y:f};break;default:_={x:r.x,y:r.y}}switch(io(e)){case"start":_[o]-=m*(n&&c?-1:1);break;case"end":_[o]+=m*(n&&c?-1:1);break}return _}const mk=async(t,e,n)=>{const{placement:r="bottom",strategy:i="absolute",middleware:s=[],platform:o}=n,a=s.filter(Boolean),u=await(o.isRTL==null?void 0:o.isRTL(e));let c=await o.getElementRects({reference:t,floating:e,strategy:i}),{x:h,y:f}=Iv(c,r,u),m=r,_={},A=0;for(let g=0;g<a.length;g++){const{name:E,fn:v}=a[g],{x:y,y:T,data:P,reset:O}=await v({x:h,y:f,initialPlacement:r,placement:m,strategy:i,middlewareData:_,rects:c,platform:o,elements:{reference:t,floating:e}});h=y??h,f=T??f,_={..._,[E]:{..._[E],...P}},O&&A<=50&&(A++,typeof O=="object"&&(O.placement&&(m=O.placement),O.rects&&(c=O.rects===!0?await o.getElementRects({reference:t,floating:e,strategy:i}):O.rects),{x:h,y:f}=Iv(c,m,u)),g=-1)}return{x:h,y:f,placement:m,strategy:i,middlewareData:_}};async function xa(t,e){var n;e===void 0&&(e={});const{x:r,y:i,platform:s,rects:o,elements:a,strategy:u}=t,{boundary:c="clippingAncestors",rootBoundary:h="viewport",elementContext:f="floating",altBoundary:m=!1,padding:_=0}=Yn(e,t),A=OT(_),E=a[m?f==="floating"?"reference":"floating":f],v=Wu(await s.getClippingRect({element:(n=await(s.isElement==null?void 0:s.isElement(E)))==null||n?E:E.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(a.floating)),boundary:c,rootBoundary:h,strategy:u})),y=f==="floating"?{x:r,y:i,width:o.floating.width,height:o.floating.height}:o.reference,T=await(s.getOffsetParent==null?void 0:s.getOffsetParent(a.floating)),P=await(s.isElement==null?void 0:s.isElement(T))?await(s.getScale==null?void 0:s.getScale(T))||{x:1,y:1}:{x:1,y:1},O=Wu(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:y,offsetParent:T,strategy:u}):y);return{top:(v.top-O.top+A.top)/P.y,bottom:(O.bottom-v.bottom+A.bottom)/P.y,left:(v.left-O.left+A.left)/P.x,right:(O.right-v.right+A.right)/P.x}}const gk=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:i,rects:s,platform:o,elements:a,middlewareData:u}=e,{element:c,padding:h=0}=Yn(t,e)||{};if(c==null)return{};const f=OT(h),m={x:n,y:r},_=nm(i),A=tm(_),g=await o.getDimensions(c),E=_==="y",v=E?"top":"left",y=E?"bottom":"right",T=E?"clientHeight":"clientWidth",P=s.reference[A]+s.reference[_]-m[_]-s.floating[A],O=m[_]-s.reference[_],V=await(o.getOffsetParent==null?void 0:o.getOffsetParent(c));let x=V?V[T]:0;(!x||!await(o.isElement==null?void 0:o.isElement(V)))&&(x=a.floating[T]||s.floating[A]);const w=P/2-O/2,R=x/2-g[A]/2-1,I=Hr(f[v],R),N=Hr(f[y],R),D=I,b=x-g[A]-N,H=x/2-g[A]/2+w,ae=Ef(D,H,b),re=!u.arrow&&io(i)!=null&&H!==ae&&s.reference[A]/2-(H<D?I:N)-g[A]/2<0,se=re?H<D?H-D:H-b:0;return{[_]:m[_]+se,data:{[_]:ae,centerOffset:H-ae-se,...re&&{alignmentOffset:se}},reset:re}}}),yk=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:i,middlewareData:s,rects:o,initialPlacement:a,platform:u,elements:c}=e,{mainAxis:h=!0,crossAxis:f=!0,fallbackPlacements:m,fallbackStrategy:_="bestFit",fallbackAxisSideDirection:A="none",flipAlignment:g=!0,...E}=Yn(t,e);if((n=s.arrow)!=null&&n.alignmentOffset)return{};const v=Xn(i),y=Wr(a),T=Xn(a)===a,P=await(u.isRTL==null?void 0:u.isRTL(c.floating)),O=m||(T||!g?[Hu(a)]:dk(a)),V=A!=="none";!m&&V&&O.push(...fk(a,g,A,P));const x=[a,...O],w=await xa(e,E),R=[];let I=((r=s.flip)==null?void 0:r.overflows)||[];if(h&&R.push(w[v]),f){const H=ck(i,o,P);R.push(w[H[0]],w[H[1]])}if(I=[...I,{placement:i,overflows:R}],!R.every(H=>H<=0)){var N,D;const H=(((N=s.flip)==null?void 0:N.index)||0)+1,ae=x[H];if(ae)return{data:{index:H,overflows:I},reset:{placement:ae}};let re=(D=I.filter(se=>se.overflows[0]<=0).sort((se,F)=>se.overflows[1]-F.overflows[1])[0])==null?void 0:D.placement;if(!re)switch(_){case"bestFit":{var b;const se=(b=I.filter(F=>{if(V){const W=Wr(F.placement);return W===y||W==="y"}return!0}).map(F=>[F.placement,F.overflows.filter(W=>W>0).reduce((W,G)=>W+G,0)]).sort((F,W)=>F[1]-W[1])[0])==null?void 0:b[0];se&&(re=se);break}case"initialPlacement":re=a;break}if(i!==re)return{reset:{placement:re}}}return{}}}};function Pv(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function bv(t){return ak.some(e=>t[e]>=0)}const vk=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:r="referenceHidden",...i}=Yn(t,e);switch(r){case"referenceHidden":{const s=await xa(e,{...i,elementContext:"reference"}),o=Pv(s,n.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:bv(o)}}}case"escaped":{const s=await xa(e,{...i,altBoundary:!0}),o=Pv(s,n.floating);return{data:{escapedOffsets:o,escaped:bv(o)}}}default:return{}}}}};async function _k(t,e){const{placement:n,platform:r,elements:i}=t,s=await(r.isRTL==null?void 0:r.isRTL(i.floating)),o=Xn(n),a=io(n),u=Wr(n)==="y",c=["left","top"].includes(o)?-1:1,h=s&&u?-1:1,f=Yn(e,t);let{mainAxis:m,crossAxis:_,alignmentAxis:A}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return a&&typeof A=="number"&&(_=a==="end"?A*-1:A),u?{x:_*h,y:m*c}:{x:m*c,y:_*h}}const wk=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:i,y:s,placement:o,middlewareData:a}=e,u=await _k(e,t);return o===((n=a.offset)==null?void 0:n.placement)&&(r=a.arrow)!=null&&r.alignmentOffset?{}:{x:i+u.x,y:s+u.y,data:{...u,placement:o}}}}},Ek=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:i}=e,{mainAxis:s=!0,crossAxis:o=!1,limiter:a={fn:E=>{let{x:v,y}=E;return{x:v,y}}},...u}=Yn(t,e),c={x:n,y:r},h=await xa(e,u),f=Wr(Xn(i)),m=em(f);let _=c[m],A=c[f];if(s){const E=m==="y"?"top":"left",v=m==="y"?"bottom":"right",y=_+h[E],T=_-h[v];_=Ef(y,_,T)}if(o){const E=f==="y"?"top":"left",v=f==="y"?"bottom":"right",y=A+h[E],T=A-h[v];A=Ef(y,A,T)}const g=a.fn({...e,[m]:_,[f]:A});return{...g,data:{x:g.x-n,y:g.y-r,enabled:{[m]:s,[f]:o}}}}}},Tk=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:r,placement:i,rects:s,middlewareData:o}=e,{offset:a=0,mainAxis:u=!0,crossAxis:c=!0}=Yn(t,e),h={x:n,y:r},f=Wr(i),m=em(f);let _=h[m],A=h[f];const g=Yn(a,e),E=typeof g=="number"?{mainAxis:g,crossAxis:0}:{mainAxis:0,crossAxis:0,...g};if(u){const T=m==="y"?"height":"width",P=s.reference[m]-s.floating[T]+E.mainAxis,O=s.reference[m]+s.reference[T]-E.mainAxis;_<P?_=P:_>O&&(_=O)}if(c){var v,y;const T=m==="y"?"width":"height",P=["top","left"].includes(Xn(i)),O=s.reference[f]-s.floating[T]+(P&&((v=o.offset)==null?void 0:v[f])||0)+(P?0:E.crossAxis),V=s.reference[f]+s.reference[T]+(P?0:((y=o.offset)==null?void 0:y[f])||0)-(P?E.crossAxis:0);A<O?A=O:A>V&&(A=V)}return{[m]:_,[f]:A}}}},Sk=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,r;const{placement:i,rects:s,platform:o,elements:a}=e,{apply:u=()=>{},...c}=Yn(t,e),h=await xa(e,c),f=Xn(i),m=io(i),_=Wr(i)==="y",{width:A,height:g}=s.floating;let E,v;f==="top"||f==="bottom"?(E=f,v=m===(await(o.isRTL==null?void 0:o.isRTL(a.floating))?"start":"end")?"left":"right"):(v=f,E=m==="end"?"top":"bottom");const y=g-h.top-h.bottom,T=A-h.left-h.right,P=Hr(g-h[E],y),O=Hr(A-h[v],T),V=!e.middlewareData.shift;let x=P,w=O;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(w=T),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(x=y),V&&!m){const I=Vt(h.left,0),N=Vt(h.right,0),D=Vt(h.top,0),b=Vt(h.bottom,0);_?w=A-2*(I!==0||N!==0?I+N:Vt(h.left,h.right)):x=g-2*(D!==0||b!==0?D+b:Vt(h.top,h.bottom))}await u({...e,availableWidth:w,availableHeight:x});const R=await o.getDimensions(a.floating);return A!==R.width||g!==R.height?{reset:{rects:!0}}:{}}}};function Oc(){return typeof window<"u"}function so(t){return VT(t)?(t.nodeName||"").toLowerCase():"#document"}function jt(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function Vn(t){var e;return(e=(VT(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function VT(t){return Oc()?t instanceof Node||t instanceof jt(t).Node:!1}function pn(t){return Oc()?t instanceof Element||t instanceof jt(t).Element:!1}function Nn(t){return Oc()?t instanceof HTMLElement||t instanceof jt(t).HTMLElement:!1}function kv(t){return!Oc()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof jt(t).ShadowRoot}function $a(t){const{overflow:e,overflowX:n,overflowY:r,display:i}=mn(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!["inline","contents"].includes(i)}function xk(t){return["table","td","th"].includes(so(t))}function Vc(t){return[":popover-open",":modal"].some(e=>{try{return t.matches(e)}catch{return!1}})}function rm(t){const e=im(),n=pn(t)?mn(t):t;return["transform","translate","scale","rotate","perspective"].some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function Ck(t){let e=qr(t);for(;Nn(e)&&!Bs(e);){if(rm(e))return e;if(Vc(e))return null;e=qr(e)}return null}function im(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Bs(t){return["html","body","#document"].includes(so(t))}function mn(t){return jt(t).getComputedStyle(t)}function Mc(t){return pn(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function qr(t){if(so(t)==="html")return t;const e=t.assignedSlot||t.parentNode||kv(t)&&t.host||Vn(t);return kv(e)?e.host:e}function MT(t){const e=qr(t);return Bs(e)?t.ownerDocument?t.ownerDocument.body:t.body:Nn(e)&&$a(e)?e:MT(e)}function Ca(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const i=MT(t),s=i===((r=t.ownerDocument)==null?void 0:r.body),o=jt(i);if(s){const a=Sf(o);return e.concat(o,o.visualViewport||[],$a(i)?i:[],a&&n?Ca(a):[])}return e.concat(i,Ca(i,[],n))}function Sf(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function LT(t){const e=mn(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const i=Nn(t),s=i?t.offsetWidth:n,o=i?t.offsetHeight:r,a=$u(n)!==s||$u(r)!==o;return a&&(n=s,r=o),{width:n,height:r,$:a}}function sm(t){return pn(t)?t:t.contextElement}function Es(t){const e=sm(t);if(!Nn(e))return In(1);const n=e.getBoundingClientRect(),{width:r,height:i,$:s}=LT(e);let o=(s?$u(n.width):n.width)/r,a=(s?$u(n.height):n.height)/i;return(!o||!Number.isFinite(o))&&(o=1),(!a||!Number.isFinite(a))&&(a=1),{x:o,y:a}}const Ak=In(0);function FT(t){const e=jt(t);return!im()||!e.visualViewport?Ak:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function Rk(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==jt(t)?!1:e}function Ii(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const i=t.getBoundingClientRect(),s=sm(t);let o=In(1);e&&(r?pn(r)&&(o=Es(r)):o=Es(t));const a=Rk(s,n,r)?FT(s):In(0);let u=(i.left+a.x)/o.x,c=(i.top+a.y)/o.y,h=i.width/o.x,f=i.height/o.y;if(s){const m=jt(s),_=r&&pn(r)?jt(r):r;let A=m,g=Sf(A);for(;g&&r&&_!==A;){const E=Es(g),v=g.getBoundingClientRect(),y=mn(g),T=v.left+(g.clientLeft+parseFloat(y.paddingLeft))*E.x,P=v.top+(g.clientTop+parseFloat(y.paddingTop))*E.y;u*=E.x,c*=E.y,h*=E.x,f*=E.y,u+=T,c+=P,A=jt(g),g=Sf(A)}}return Wu({width:h,height:f,x:u,y:c})}function om(t,e){const n=Mc(t).scrollLeft;return e?e.left+n:Ii(Vn(t)).left+n}function jT(t,e,n){n===void 0&&(n=!1);const r=t.getBoundingClientRect(),i=r.left+e.scrollLeft-(n?0:om(t,r)),s=r.top+e.scrollTop;return{x:i,y:s}}function Ik(t){let{elements:e,rect:n,offsetParent:r,strategy:i}=t;const s=i==="fixed",o=Vn(r),a=e?Vc(e.floating):!1;if(r===o||a&&s)return n;let u={scrollLeft:0,scrollTop:0},c=In(1);const h=In(0),f=Nn(r);if((f||!f&&!s)&&((so(r)!=="body"||$a(o))&&(u=Mc(r)),Nn(r))){const _=Ii(r);c=Es(r),h.x=_.x+r.clientLeft,h.y=_.y+r.clientTop}const m=o&&!f&&!s?jT(o,u,!0):In(0);return{width:n.width*c.x,height:n.height*c.y,x:n.x*c.x-u.scrollLeft*c.x+h.x+m.x,y:n.y*c.y-u.scrollTop*c.y+h.y+m.y}}function Pk(t){return Array.from(t.getClientRects())}function bk(t){const e=Vn(t),n=Mc(t),r=t.ownerDocument.body,i=Vt(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),s=Vt(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let o=-n.scrollLeft+om(t);const a=-n.scrollTop;return mn(r).direction==="rtl"&&(o+=Vt(e.clientWidth,r.clientWidth)-i),{width:i,height:s,x:o,y:a}}function kk(t,e){const n=jt(t),r=Vn(t),i=n.visualViewport;let s=r.clientWidth,o=r.clientHeight,a=0,u=0;if(i){s=i.width,o=i.height;const c=im();(!c||c&&e==="fixed")&&(a=i.offsetLeft,u=i.offsetTop)}return{width:s,height:o,x:a,y:u}}function Nk(t,e){const n=Ii(t,!0,e==="fixed"),r=n.top+t.clientTop,i=n.left+t.clientLeft,s=Nn(t)?Es(t):In(1),o=t.clientWidth*s.x,a=t.clientHeight*s.y,u=i*s.x,c=r*s.y;return{width:o,height:a,x:u,y:c}}function Nv(t,e,n){let r;if(e==="viewport")r=kk(t,n);else if(e==="document")r=bk(Vn(t));else if(pn(e))r=Nk(e,n);else{const i=FT(t);r={x:e.x-i.x,y:e.y-i.y,width:e.width,height:e.height}}return Wu(r)}function UT(t,e){const n=qr(t);return n===e||!pn(n)||Bs(n)?!1:mn(n).position==="fixed"||UT(n,e)}function Dk(t,e){const n=e.get(t);if(n)return n;let r=Ca(t,[],!1).filter(a=>pn(a)&&so(a)!=="body"),i=null;const s=mn(t).position==="fixed";let o=s?qr(t):t;for(;pn(o)&&!Bs(o);){const a=mn(o),u=rm(o);!u&&a.position==="fixed"&&(i=null),(s?!u&&!i:!u&&a.position==="static"&&!!i&&["absolute","fixed"].includes(i.position)||$a(o)&&!u&&UT(t,o))?r=r.filter(h=>h!==o):i=a,o=qr(o)}return e.set(t,r),r}function Ok(t){let{element:e,boundary:n,rootBoundary:r,strategy:i}=t;const o=[...n==="clippingAncestors"?Vc(e)?[]:Dk(e,this._c):[].concat(n),r],a=o[0],u=o.reduce((c,h)=>{const f=Nv(e,h,i);return c.top=Vt(f.top,c.top),c.right=Hr(f.right,c.right),c.bottom=Hr(f.bottom,c.bottom),c.left=Vt(f.left,c.left),c},Nv(e,a,i));return{width:u.right-u.left,height:u.bottom-u.top,x:u.left,y:u.top}}function Vk(t){const{width:e,height:n}=LT(t);return{width:e,height:n}}function Mk(t,e,n){const r=Nn(e),i=Vn(e),s=n==="fixed",o=Ii(t,!0,s,e);let a={scrollLeft:0,scrollTop:0};const u=In(0);if(r||!r&&!s)if((so(e)!=="body"||$a(i))&&(a=Mc(e)),r){const m=Ii(e,!0,s,e);u.x=m.x+e.clientLeft,u.y=m.y+e.clientTop}else i&&(u.x=om(i));const c=i&&!r&&!s?jT(i,a):In(0),h=o.left+a.scrollLeft-u.x-c.x,f=o.top+a.scrollTop-u.y-c.y;return{x:h,y:f,width:o.width,height:o.height}}function rh(t){return mn(t).position==="static"}function Dv(t,e){if(!Nn(t)||mn(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return Vn(t)===n&&(n=n.ownerDocument.body),n}function zT(t,e){const n=jt(t);if(Vc(t))return n;if(!Nn(t)){let i=qr(t);for(;i&&!Bs(i);){if(pn(i)&&!rh(i))return i;i=qr(i)}return n}let r=Dv(t,e);for(;r&&xk(r)&&rh(r);)r=Dv(r,e);return r&&Bs(r)&&rh(r)&&!rm(r)?n:r||Ck(t)||n}const Lk=async function(t){const e=this.getOffsetParent||zT,n=this.getDimensions,r=await n(t.floating);return{reference:Mk(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function Fk(t){return mn(t).direction==="rtl"}const jk={convertOffsetParentRelativeRectToViewportRelativeRect:Ik,getDocumentElement:Vn,getClippingRect:Ok,getOffsetParent:zT,getElementRects:Lk,getClientRects:Pk,getDimensions:Vk,getScale:Es,isElement:pn,isRTL:Fk};function BT(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function Uk(t,e){let n=null,r;const i=Vn(t);function s(){var a;clearTimeout(r),(a=n)==null||a.disconnect(),n=null}function o(a,u){a===void 0&&(a=!1),u===void 0&&(u=1),s();const c=t.getBoundingClientRect(),{left:h,top:f,width:m,height:_}=c;if(a||e(),!m||!_)return;const A=Ml(f),g=Ml(i.clientWidth-(h+m)),E=Ml(i.clientHeight-(f+_)),v=Ml(h),T={rootMargin:-A+"px "+-g+"px "+-E+"px "+-v+"px",threshold:Vt(0,Hr(1,u))||1};let P=!0;function O(V){const x=V[0].intersectionRatio;if(x!==u){if(!P)return o();x?o(!1,x):r=setTimeout(()=>{o(!1,1e-7)},1e3)}x===1&&!BT(c,t.getBoundingClientRect())&&o(),P=!1}try{n=new IntersectionObserver(O,{...T,root:i.ownerDocument})}catch{n=new IntersectionObserver(O,T)}n.observe(t)}return o(!0),s}function zk(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:s=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:u=!1}=r,c=sm(t),h=i||s?[...c?Ca(c):[],...Ca(e)]:[];h.forEach(v=>{i&&v.addEventListener("scroll",n,{passive:!0}),s&&v.addEventListener("resize",n)});const f=c&&a?Uk(c,n):null;let m=-1,_=null;o&&(_=new ResizeObserver(v=>{let[y]=v;y&&y.target===c&&_&&(_.unobserve(e),cancelAnimationFrame(m),m=requestAnimationFrame(()=>{var T;(T=_)==null||T.observe(e)})),n()}),c&&!u&&_.observe(c),_.observe(e));let A,g=u?Ii(t):null;u&&E();function E(){const v=Ii(t);g&&!BT(g,v)&&n(),g=v,A=requestAnimationFrame(E)}return n(),()=>{var v;h.forEach(y=>{i&&y.removeEventListener("scroll",n),s&&y.removeEventListener("resize",n)}),f==null||f(),(v=_)==null||v.disconnect(),_=null,u&&cancelAnimationFrame(A)}}const Bk=wk,$k=Ek,Hk=yk,Wk=Sk,qk=vk,Ov=gk,Kk=Tk,Gk=(t,e,n)=>{const r=new Map,i={platform:jk,...n},s={...i.platform,_c:r};return mk(t,e,{...i,platform:s})};var uu=typeof document<"u"?C.useLayoutEffect:C.useEffect;function qu(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,i;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!qu(t[r],e[r]))return!1;return!0}if(i=Object.keys(t),n=i.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,i[r]))return!1;for(r=n;r--!==0;){const s=i[r];if(!(s==="_owner"&&t.$$typeof)&&!qu(t[s],e[s]))return!1}return!0}return t!==t&&e!==e}function $T(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function Vv(t,e){const n=$T(t);return Math.round(e*n)/n}function ih(t){const e=C.useRef(t);return uu(()=>{e.current=t}),e}function Qk(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:i,elements:{reference:s,floating:o}={},transform:a=!0,whileElementsMounted:u,open:c}=t,[h,f]=C.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[m,_]=C.useState(r);qu(m,r)||_(r);const[A,g]=C.useState(null),[E,v]=C.useState(null),y=C.useCallback(F=>{F!==V.current&&(V.current=F,g(F))},[]),T=C.useCallback(F=>{F!==x.current&&(x.current=F,v(F))},[]),P=s||A,O=o||E,V=C.useRef(null),x=C.useRef(null),w=C.useRef(h),R=u!=null,I=ih(u),N=ih(i),D=ih(c),b=C.useCallback(()=>{if(!V.current||!x.current)return;const F={placement:e,strategy:n,middleware:m};N.current&&(F.platform=N.current),Gk(V.current,x.current,F).then(W=>{const G={...W,isPositioned:D.current!==!1};H.current&&!qu(w.current,G)&&(w.current=G,Ba.flushSync(()=>{f(G)}))})},[m,e,n,N,D]);uu(()=>{c===!1&&w.current.isPositioned&&(w.current.isPositioned=!1,f(F=>({...F,isPositioned:!1})))},[c]);const H=C.useRef(!1);uu(()=>(H.current=!0,()=>{H.current=!1}),[]),uu(()=>{if(P&&(V.current=P),O&&(x.current=O),P&&O){if(I.current)return I.current(P,O,b);b()}},[P,O,b,I,R]);const ae=C.useMemo(()=>({reference:V,floating:x,setReference:y,setFloating:T}),[y,T]),re=C.useMemo(()=>({reference:P,floating:O}),[P,O]),se=C.useMemo(()=>{const F={position:n,left:0,top:0};if(!re.floating)return F;const W=Vv(re.floating,h.x),G=Vv(re.floating,h.y);return a?{...F,transform:"translate("+W+"px, "+G+"px)",...$T(re.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:W,top:G}},[n,a,re.floating,h.x,h.y]);return C.useMemo(()=>({...h,update:b,refs:ae,elements:re,floatingStyles:se}),[h,b,ae,re,se])}const Yk=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:r,padding:i}=typeof t=="function"?t(n):t;return r&&e(r)?r.current!=null?Ov({element:r.current,padding:i}).fn(n):{}:r?Ov({element:r,padding:i}).fn(n):{}}}},Xk=(t,e)=>({...Bk(t),options:[t,e]}),Jk=(t,e)=>({...$k(t),options:[t,e]}),Zk=(t,e)=>({...Kk(t),options:[t,e]}),eN=(t,e)=>({...Hk(t),options:[t,e]}),tN=(t,e)=>({...Wk(t),options:[t,e]}),nN=(t,e)=>({...qk(t),options:[t,e]}),rN=(t,e)=>({...Yk(t),options:[t,e]});var iN="Arrow",HT=C.forwardRef((t,e)=>{const{children:n,width:r=10,height:i=5,...s}=t;return k.jsx(Ie.svg,{...s,ref:e,width:r,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:k.jsx("polygon",{points:"0,0 30,0 15,10"})})});HT.displayName=iN;var sN=HT;function WT(t){const[e,n]=C.useState(void 0);return $r(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const s=i[0];let o,a;if("borderBoxSize"in s){const u=s.borderBoxSize,c=Array.isArray(u)?u[0]:u;o=c.inlineSize,a=c.blockSize}else o=t.offsetWidth,a=t.offsetHeight;n({width:o,height:a})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else n(void 0)},[t]),e}var qT="Popper",[KT,GT]=no(qT),[SF,QT]=KT(qT),YT="PopperAnchor",XT=C.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:r,...i}=t,s=QT(YT,n),o=C.useRef(null),a=mt(e,o);return C.useEffect(()=>{s.onAnchorChange((r==null?void 0:r.current)||o.current)}),r?null:k.jsx(Ie.div,{...i,ref:a})});XT.displayName=YT;var am="PopperContent",[oN,aN]=KT(am),JT=C.forwardRef((t,e)=>{var $t,Ya,Xa,ni,ri,Bi;const{__scopePopper:n,side:r="bottom",sideOffset:i=0,align:s="center",alignOffset:o=0,arrowPadding:a=0,avoidCollisions:u=!0,collisionBoundary:c=[],collisionPadding:h=0,sticky:f="partial",hideWhenDetached:m=!1,updatePositionStrategy:_="optimized",onPlaced:A,...g}=t,E=QT(am,n),[v,y]=C.useState(null),T=mt(e,Mn=>y(Mn)),[P,O]=C.useState(null),V=WT(P),x=(V==null?void 0:V.width)??0,w=(V==null?void 0:V.height)??0,R=r+(s!=="center"?"-"+s:""),I=typeof h=="number"?h:{top:0,right:0,bottom:0,left:0,...h},N=Array.isArray(c)?c:[c],D=N.length>0,b={padding:I,boundary:N.filter(uN),altBoundary:D},{refs:H,floatingStyles:ae,placement:re,isPositioned:se,middlewareData:F}=Qk({strategy:"fixed",placement:R,whileElementsMounted:(...Mn)=>zk(...Mn,{animationFrame:_==="always"}),elements:{reference:E.anchor},middleware:[Xk({mainAxis:i+w,alignmentAxis:o}),u&&Jk({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?Zk():void 0,...b}),u&&eN({...b}),tN({...b,apply:({elements:Mn,rects:$i,availableWidth:co,availableHeight:Ja})=>{const{width:nd,height:rd}=$i.reference,ii=Mn.floating.style;ii.setProperty("--radix-popper-available-width",`${co}px`),ii.setProperty("--radix-popper-available-height",`${Ja}px`),ii.setProperty("--radix-popper-anchor-width",`${nd}px`),ii.setProperty("--radix-popper-anchor-height",`${rd}px`)}}),P&&rN({element:P,padding:a}),cN({arrowWidth:x,arrowHeight:w}),m&&nN({strategy:"referenceHidden",...b})]}),[W,G]=t1(re),te=Jt(A);$r(()=>{se&&(te==null||te())},[se,te]);const de=($t=F.arrow)==null?void 0:$t.x,ye=(Ya=F.arrow)==null?void 0:Ya.y,Ct=((Xa=F.arrow)==null?void 0:Xa.centerOffset)!==0,[Zt,en]=C.useState();return $r(()=>{v&&en(window.getComputedStyle(v).zIndex)},[v]),k.jsx("div",{ref:H.setFloating,"data-radix-popper-content-wrapper":"",style:{...ae,transform:se?ae.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Zt,"--radix-popper-transform-origin":[(ni=F.transformOrigin)==null?void 0:ni.x,(ri=F.transformOrigin)==null?void 0:ri.y].join(" "),...((Bi=F.hide)==null?void 0:Bi.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:k.jsx(oN,{scope:n,placedSide:W,onArrowChange:O,arrowX:de,arrowY:ye,shouldHideArrow:Ct,children:k.jsx(Ie.div,{"data-side":W,"data-align":G,...g,ref:T,style:{...g.style,animation:se?void 0:"none"}})})})});JT.displayName=am;var ZT="PopperArrow",lN={top:"bottom",right:"left",bottom:"top",left:"right"},e1=C.forwardRef(function(e,n){const{__scopePopper:r,...i}=e,s=aN(ZT,r),o=lN[s.placedSide];return k.jsx("span",{ref:s.onArrowChange,style:{position:"absolute",left:s.arrowX,top:s.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[s.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[s.placedSide],visibility:s.shouldHideArrow?"hidden":void 0},children:k.jsx(sN,{...i,ref:n,style:{...i.style,display:"block"}})})});e1.displayName=ZT;function uN(t){return t!==null}var cN=t=>({name:"transformOrigin",options:t,fn(e){var E,v,y;const{placement:n,rects:r,middlewareData:i}=e,o=((E=i.arrow)==null?void 0:E.centerOffset)!==0,a=o?0:t.arrowWidth,u=o?0:t.arrowHeight,[c,h]=t1(n),f={start:"0%",center:"50%",end:"100%"}[h],m=(((v=i.arrow)==null?void 0:v.x)??0)+a/2,_=(((y=i.arrow)==null?void 0:y.y)??0)+u/2;let A="",g="";return c==="bottom"?(A=o?f:`${m}px`,g=`${-u}px`):c==="top"?(A=o?f:`${m}px`,g=`${r.floating.height+u}px`):c==="right"?(A=`${-u}px`,g=o?f:`${_}px`):c==="left"&&(A=`${r.floating.width+u}px`,g=o?f:`${_}px`),{data:{x:A,y:g}}}});function t1(t){const[e,n="center"]=t.split("-");return[e,n]}var dN=XT,hN=JT,fN=e1,[Lc,xF]=no("Tooltip",[GT]),lm=GT(),n1="TooltipProvider",pN=700,Mv="tooltip.open",[mN,r1]=Lc(n1),i1=t=>{const{__scopeTooltip:e,delayDuration:n=pN,skipDelayDuration:r=300,disableHoverableContent:i=!1,children:s}=t,o=C.useRef(!0),a=C.useRef(!1),u=C.useRef(0);return C.useEffect(()=>{const c=u.current;return()=>window.clearTimeout(c)},[]),k.jsx(mN,{scope:e,isOpenDelayedRef:o,delayDuration:n,onOpen:C.useCallback(()=>{window.clearTimeout(u.current),o.current=!1},[]),onClose:C.useCallback(()=>{window.clearTimeout(u.current),u.current=window.setTimeout(()=>o.current=!0,r)},[r]),isPointerInTransitRef:a,onPointerInTransitChange:C.useCallback(c=>{a.current=c},[]),disableHoverableContent:i,children:s})};i1.displayName=n1;var s1="Tooltip",[CF,Fc]=Lc(s1),xf="TooltipTrigger",gN=C.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,i=Fc(xf,n),s=r1(xf,n),o=lm(n),a=C.useRef(null),u=mt(e,a,i.onTriggerChange),c=C.useRef(!1),h=C.useRef(!1),f=C.useCallback(()=>c.current=!1,[]);return C.useEffect(()=>()=>document.removeEventListener("pointerup",f),[f]),k.jsx(dN,{asChild:!0,...o,children:k.jsx(Ie.button,{"aria-describedby":i.open?i.contentId:void 0,"data-state":i.stateAttribute,...r,ref:u,onPointerMove:_e(t.onPointerMove,m=>{m.pointerType!=="touch"&&!h.current&&!s.isPointerInTransitRef.current&&(i.onTriggerEnter(),h.current=!0)}),onPointerLeave:_e(t.onPointerLeave,()=>{i.onTriggerLeave(),h.current=!1}),onPointerDown:_e(t.onPointerDown,()=>{i.open&&i.onClose(),c.current=!0,document.addEventListener("pointerup",f,{once:!0})}),onFocus:_e(t.onFocus,()=>{c.current||i.onOpen()}),onBlur:_e(t.onBlur,i.onClose),onClick:_e(t.onClick,i.onClose)})})});gN.displayName=xf;var yN="TooltipPortal",[AF,vN]=Lc(yN,{forceMount:void 0}),$s="TooltipContent",o1=C.forwardRef((t,e)=>{const n=vN($s,t.__scopeTooltip),{forceMount:r=n.forceMount,side:i="top",...s}=t,o=Fc($s,t.__scopeTooltip);return k.jsx(Vi,{present:r||o.open,children:o.disableHoverableContent?k.jsx(a1,{side:i,...s,ref:e}):k.jsx(_N,{side:i,...s,ref:e})})}),_N=C.forwardRef((t,e)=>{const n=Fc($s,t.__scopeTooltip),r=r1($s,t.__scopeTooltip),i=C.useRef(null),s=mt(e,i),[o,a]=C.useState(null),{trigger:u,onClose:c}=n,h=i.current,{onPointerInTransitChange:f}=r,m=C.useCallback(()=>{a(null),f(!1)},[f]),_=C.useCallback((A,g)=>{const E=A.currentTarget,v={x:A.clientX,y:A.clientY},y=xN(v,E.getBoundingClientRect()),T=CN(v,y),P=AN(g.getBoundingClientRect()),O=IN([...T,...P]);a(O),f(!0)},[f]);return C.useEffect(()=>()=>m(),[m]),C.useEffect(()=>{if(u&&h){const A=E=>_(E,h),g=E=>_(E,u);return u.addEventListener("pointerleave",A),h.addEventListener("pointerleave",g),()=>{u.removeEventListener("pointerleave",A),h.removeEventListener("pointerleave",g)}}},[u,h,_,m]),C.useEffect(()=>{if(o){const A=g=>{const E=g.target,v={x:g.clientX,y:g.clientY},y=(u==null?void 0:u.contains(E))||(h==null?void 0:h.contains(E)),T=!RN(v,o);y?m():T&&(m(),c())};return document.addEventListener("pointermove",A),()=>document.removeEventListener("pointermove",A)}},[u,h,o,c,m]),k.jsx(a1,{...t,ref:s})}),[wN,EN]=Lc(s1,{isInside:!1}),TN=PP("TooltipContent"),a1=C.forwardRef((t,e)=>{const{__scopeTooltip:n,children:r,"aria-label":i,onEscapeKeyDown:s,onPointerDownOutside:o,...a}=t,u=Fc($s,n),c=lm(n),{onClose:h}=u;return C.useEffect(()=>(document.addEventListener(Mv,h),()=>document.removeEventListener(Mv,h)),[h]),C.useEffect(()=>{if(u.trigger){const f=m=>{const _=m.target;_!=null&&_.contains(u.trigger)&&h()};return window.addEventListener("scroll",f,{capture:!0}),()=>window.removeEventListener("scroll",f,{capture:!0})}},[u.trigger,h]),k.jsx(bc,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:s,onPointerDownOutside:o,onFocusOutside:f=>f.preventDefault(),onDismiss:h,children:k.jsxs(hN,{"data-state":u.stateAttribute,...c,...a,ref:e,style:{...a.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[k.jsx(TN,{children:r}),k.jsx(wN,{scope:n,isInside:!0,children:k.jsx(YP,{id:u.contentId,role:"tooltip",children:i||r})})]})})});o1.displayName=$s;var l1="TooltipArrow",SN=C.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,i=lm(n);return EN(l1,n).isInside?null:k.jsx(fN,{...i,...r,ref:e})});SN.displayName=l1;function xN(t,e){const n=Math.abs(e.top-t.y),r=Math.abs(e.bottom-t.y),i=Math.abs(e.right-t.x),s=Math.abs(e.left-t.x);switch(Math.min(n,r,i,s)){case s:return"left";case i:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function CN(t,e,n=5){const r=[];switch(e){case"top":r.push({x:t.x-n,y:t.y+n},{x:t.x+n,y:t.y+n});break;case"bottom":r.push({x:t.x-n,y:t.y-n},{x:t.x+n,y:t.y-n});break;case"left":r.push({x:t.x+n,y:t.y-n},{x:t.x+n,y:t.y+n});break;case"right":r.push({x:t.x-n,y:t.y-n},{x:t.x-n,y:t.y+n});break}return r}function AN(t){const{top:e,right:n,bottom:r,left:i}=t;return[{x:i,y:e},{x:n,y:e},{x:n,y:r},{x:i,y:r}]}function RN(t,e){const{x:n,y:r}=t;let i=!1;for(let s=0,o=e.length-1;s<e.length;o=s++){const a=e[s].x,u=e[s].y,c=e[o].x,h=e[o].y;u>r!=h>r&&n<(c-a)*(r-u)/(h-u)+a&&(i=!i)}return i}function IN(t){const e=t.slice();return e.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),PN(e)}function PN(t){if(t.length<=1)return t.slice();const e=[];for(let r=0;r<t.length;r++){const i=t[r];for(;e.length>=2;){const s=e[e.length-1],o=e[e.length-2];if((s.x-o.x)*(i.y-o.y)>=(s.y-o.y)*(i.x-o.x))e.pop();else break}e.push(i)}e.pop();const n=[];for(let r=t.length-1;r>=0;r--){const i=t[r];for(;n.length>=2;){const s=n[n.length-1],o=n[n.length-2];if((s.x-o.x)*(i.y-o.y)>=(s.y-o.y)*(i.x-o.x))n.pop();else break}n.push(i)}return n.pop(),e.length===1&&n.length===1&&e[0].x===n[0].x&&e[0].y===n[0].y?e:e.concat(n)}var bN=i1,u1=o1;const kN=bN,NN=C.forwardRef(({className:t,sideOffset:e=4,...n},r)=>k.jsx(u1,{ref:r,sideOffset:e,className:Ce("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-tooltip-content-transform-origin]",t),...n}));NN.displayName=u1.displayName;const Ha=C.forwardRef(({className:t,...e},n)=>k.jsx("div",{ref:n,className:Ce("rounded-lg border bg-card text-card-foreground shadow-sm",t),...e}));Ha.displayName="Card";const DN=C.forwardRef(({className:t,...e},n)=>k.jsx("div",{ref:n,className:Ce("flex flex-col space-y-1.5 p-6",t),...e}));DN.displayName="CardHeader";const ON=C.forwardRef(({className:t,...e},n)=>k.jsx("div",{ref:n,className:Ce("text-2xl font-semibold leading-none tracking-tight",t),...e}));ON.displayName="CardTitle";const VN=C.forwardRef(({className:t,...e},n)=>k.jsx("div",{ref:n,className:Ce("text-sm text-muted-foreground",t),...e}));VN.displayName="CardDescription";const Wa=C.forwardRef(({className:t,...e},n)=>k.jsx("div",{ref:n,className:Ce("p-6 pt-0",t),...e}));Wa.displayName="CardContent";const MN=C.forwardRef(({className:t,...e},n)=>k.jsx("div",{ref:n,className:Ce("flex items-center p-6 pt-0",t),...e}));MN.displayName="CardFooter";function LN(){return k.jsx("div",{className:"min-h-screen w-full flex items-center justify-center bg-gray-50",children:k.jsx(Ha,{className:"w-full max-w-md mx-4",children:k.jsxs(Wa,{className:"pt-6",children:[k.jsxs("div",{className:"flex mb-4 gap-2",children:[k.jsx(_b,{className:"h-8 w-8 text-red-500"}),k.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"404 Page Not Found"})]}),k.jsx("p",{className:"mt-4 text-sm text-gray-600",children:"Did you forget to add the page to the router?"})]})})})}const FN=()=>{};var Lv={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c1=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},jN=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],o=t[n++],a=t[n++],u=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(u&1023))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},d1={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,a=o?t[i+1]:0,u=i+2<t.length,c=u?t[i+2]:0,h=s>>2,f=(s&3)<<4|a>>4;let m=(a&15)<<2|c>>6,_=c&63;u||(_=64,o||(m=64)),r.push(n[h],n[f],n[m],n[_])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(c1(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):jN(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const c=i<t.length?n[t.charAt(i)]:64;++i;const f=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||a==null||c==null||f==null)throw new UN;const m=s<<2|a>>4;if(r.push(m),c!==64){const _=a<<4&240|c>>2;if(r.push(_),f!==64){const A=c<<6&192|f;r.push(A)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class UN extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const zN=function(t){const e=c1(t);return d1.encodeByteArray(e,!0)},Ku=function(t){return zN(t).replace(/\./g,"")},BN=function(t){try{return d1.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $N(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HN=()=>$N().__FIREBASE_DEFAULTS__,WN=()=>{if(typeof process>"u"||typeof Lv>"u")return;const t=Lv.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},qN=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&BN(t[1]);return e&&JSON.parse(e)},um=()=>{try{return FN()||HN()||WN()||qN()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},KN=t=>{var e,n;return(n=(e=um())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},h1=t=>{const e=KN(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},f1=()=>{var t;return(t=um())===null||t===void 0?void 0:t.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GN{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p1(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Ku(JSON.stringify(n)),Ku(JSON.stringify(o)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QN(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function YN(){var t;const e=(t=um())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function XN(){return!YN()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function JN(){try{return typeof indexedDB=="object"}catch{return!1}}function ZN(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e2="FirebaseError";class Li extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=e2,Object.setPrototypeOf(this,Li.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,m1.prototype.create)}}class m1{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?t2(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new Li(i,a,r)}}function t2(t,e){return t.replace(n2,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const n2=/\{\$([^}]+)}/g;function Gu(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(Fv(s)&&Fv(o)){if(!Gu(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function Fv(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jn(t){return t&&t._delegate?t._delegate:t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jc(t){return t.endsWith(".cloudworkstations.dev")}async function g1(t){return(await fetch(t,{credentials:"include"})).ok}class Hs{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const di="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r2{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new GN;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(s2(e))try{this.getOrInitializeService({instanceIdentifier:di})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=di){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=di){return this.instances.has(e)}getOptions(e=di){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:i2(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=di){return this.component?this.component.multipleInstances?e:di:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function i2(t){return t===di?void 0:t}function s2(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o2{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new r2(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ce;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(ce||(ce={}));const a2={debug:ce.DEBUG,verbose:ce.VERBOSE,info:ce.INFO,warn:ce.WARN,error:ce.ERROR,silent:ce.SILENT},l2=ce.INFO,u2={[ce.DEBUG]:"log",[ce.VERBOSE]:"log",[ce.INFO]:"info",[ce.WARN]:"warn",[ce.ERROR]:"error"},c2=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=u2[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class y1{constructor(e){this.name=e,this._logLevel=l2,this._logHandler=c2,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ce))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?a2[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ce.DEBUG,...e),this._logHandler(this,ce.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ce.VERBOSE,...e),this._logHandler(this,ce.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ce.INFO,...e),this._logHandler(this,ce.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ce.WARN,...e),this._logHandler(this,ce.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ce.ERROR,...e),this._logHandler(this,ce.ERROR,...e)}}const d2=(t,e)=>e.some(n=>t instanceof n);let jv,Uv;function h2(){return jv||(jv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function f2(){return Uv||(Uv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const v1=new WeakMap,Cf=new WeakMap,_1=new WeakMap,sh=new WeakMap,cm=new WeakMap;function p2(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(Dr(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&v1.set(n,t)}).catch(()=>{}),cm.set(e,t),e}function m2(t){if(Cf.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});Cf.set(t,e)}let Af={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Cf.get(t);if(e==="objectStoreNames")return t.objectStoreNames||_1.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Dr(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function g2(t){Af=t(Af)}function y2(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(oh(this),e,...n);return _1.set(r,e.sort?e.sort():[e]),Dr(r)}:f2().includes(t)?function(...e){return t.apply(oh(this),e),Dr(v1.get(this))}:function(...e){return Dr(t.apply(oh(this),e))}}function v2(t){return typeof t=="function"?y2(t):(t instanceof IDBTransaction&&m2(t),d2(t,h2())?new Proxy(t,Af):t)}function Dr(t){if(t instanceof IDBRequest)return p2(t);if(sh.has(t))return sh.get(t);const e=v2(t);return e!==t&&(sh.set(t,e),cm.set(e,t)),e}const oh=t=>cm.get(t);function _2(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=Dr(o);return r&&o.addEventListener("upgradeneeded",u=>{r(Dr(o.result),u.oldVersion,u.newVersion,Dr(o.transaction),u)}),n&&o.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),a.then(u=>{s&&u.addEventListener("close",()=>s()),i&&u.addEventListener("versionchange",c=>i(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}const w2=["get","getKey","getAll","getAllKeys","count"],E2=["put","add","delete","clear"],ah=new Map;function zv(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(ah.get(e))return ah.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=E2.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||w2.includes(n)))return;const s=async function(o,...a){const u=this.transaction(o,i?"readwrite":"readonly");let c=u.store;return r&&(c=c.index(a.shift())),(await Promise.all([c[n](...a),i&&u.done]))[0]};return ah.set(e,s),s}g2(t=>({...t,get:(e,n,r)=>zv(e,n)||t.get(e,n,r),has:(e,n)=>!!zv(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T2{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(S2(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function S2(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Rf="@firebase/app",Bv="0.12.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zn=new y1("@firebase/app"),x2="@firebase/app-compat",C2="@firebase/analytics-compat",A2="@firebase/analytics",R2="@firebase/app-check-compat",I2="@firebase/app-check",P2="@firebase/auth",b2="@firebase/auth-compat",k2="@firebase/database",N2="@firebase/data-connect",D2="@firebase/database-compat",O2="@firebase/functions",V2="@firebase/functions-compat",M2="@firebase/installations",L2="@firebase/installations-compat",F2="@firebase/messaging",j2="@firebase/messaging-compat",U2="@firebase/performance",z2="@firebase/performance-compat",B2="@firebase/remote-config",$2="@firebase/remote-config-compat",H2="@firebase/storage",W2="@firebase/storage-compat",q2="@firebase/firestore",K2="@firebase/vertexai",G2="@firebase/firestore-compat",Q2="firebase",Y2="11.7.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const If="[DEFAULT]",X2={[Rf]:"fire-core",[x2]:"fire-core-compat",[A2]:"fire-analytics",[C2]:"fire-analytics-compat",[I2]:"fire-app-check",[R2]:"fire-app-check-compat",[P2]:"fire-auth",[b2]:"fire-auth-compat",[k2]:"fire-rtdb",[N2]:"fire-data-connect",[D2]:"fire-rtdb-compat",[O2]:"fire-fn",[V2]:"fire-fn-compat",[M2]:"fire-iid",[L2]:"fire-iid-compat",[F2]:"fire-fcm",[j2]:"fire-fcm-compat",[U2]:"fire-perf",[z2]:"fire-perf-compat",[B2]:"fire-rc",[$2]:"fire-rc-compat",[H2]:"fire-gcs",[W2]:"fire-gcs-compat",[q2]:"fire-fst",[G2]:"fire-fst-compat",[K2]:"fire-vertex","fire-js":"fire-js",[Q2]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qu=new Map,J2=new Map,Pf=new Map;function $v(t,e){try{t.container.addComponent(e)}catch(n){Zn.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Aa(t){const e=t.name;if(Pf.has(e))return Zn.debug(`There were multiple attempts to register component ${e}.`),!1;Pf.set(e,t);for(const n of Qu.values())$v(n,t);for(const n of J2.values())$v(n,t);return!0}function w1(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function E1(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z2={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Or=new m1("app","Firebase",Z2);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eD{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Hs("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Or.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T1=Y2;function S1(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:If,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Or.create("bad-app-name",{appName:String(i)});if(n||(n=f1()),!n)throw Or.create("no-options");const s=Qu.get(i);if(s){if(Gu(n,s.options)&&Gu(r,s.config))return s;throw Or.create("duplicate-app",{appName:i})}const o=new o2(i);for(const u of Pf.values())o.addComponent(u);const a=new eD(n,r,o);return Qu.set(i,a),a}function x1(t=If){const e=Qu.get(t);if(!e&&t===If&&f1())return S1();if(!e)throw Or.create("no-app",{appName:t});return e}function Vr(t,e,n){var r;let i=(r=X2[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Zn.warn(a.join(" "));return}Aa(new Hs(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tD="firebase-heartbeat-database",nD=1,Ra="firebase-heartbeat-store";let lh=null;function C1(){return lh||(lh=_2(tD,nD,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Ra)}catch(n){console.warn(n)}}}}).catch(t=>{throw Or.create("idb-open",{originalErrorMessage:t.message})})),lh}async function rD(t){try{const n=(await C1()).transaction(Ra),r=await n.objectStore(Ra).get(A1(t));return await n.done,r}catch(e){if(e instanceof Li)Zn.warn(e.message);else{const n=Or.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Zn.warn(n.message)}}}async function Hv(t,e){try{const r=(await C1()).transaction(Ra,"readwrite");await r.objectStore(Ra).put(e,A1(t)),await r.done}catch(n){if(n instanceof Li)Zn.warn(n.message);else{const r=Or.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Zn.warn(r.message)}}}function A1(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iD=1024,sD=30;class oD{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new lD(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=Wv();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats.length>sD){const o=uD(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Zn.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Wv(),{heartbeatsToSend:r,unsentEntries:i}=aD(this._heartbeatsCache.heartbeats),s=Ku(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return Zn.warn(n),""}}}function Wv(){return new Date().toISOString().substring(0,10)}function aD(t,e=iD){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),qv(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),qv(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class lD{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return JN()?ZN().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await rD(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return Hv(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return Hv(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function qv(t){return Ku(JSON.stringify({version:2,heartbeats:t})).length}function uD(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cD(t){Aa(new Hs("platform-logger",e=>new T2(e),"PRIVATE")),Aa(new Hs("heartbeat",e=>new oD(e),"PRIVATE")),Vr(Rf,Bv,t),Vr(Rf,Bv,"esm2017"),Vr("fire-js","")}cD("");var Kv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Mr,R1;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(x,w){function R(){}R.prototype=w.prototype,x.D=w.prototype,x.prototype=new R,x.prototype.constructor=x,x.C=function(I,N,D){for(var b=Array(arguments.length-2),H=2;H<arguments.length;H++)b[H-2]=arguments[H];return w.prototype[N].apply(I,b)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(x,w,R){R||(R=0);var I=Array(16);if(typeof w=="string")for(var N=0;16>N;++N)I[N]=w.charCodeAt(R++)|w.charCodeAt(R++)<<8|w.charCodeAt(R++)<<16|w.charCodeAt(R++)<<24;else for(N=0;16>N;++N)I[N]=w[R++]|w[R++]<<8|w[R++]<<16|w[R++]<<24;w=x.g[0],R=x.g[1],N=x.g[2];var D=x.g[3],b=w+(D^R&(N^D))+I[0]+3614090360&4294967295;w=R+(b<<7&4294967295|b>>>25),b=D+(N^w&(R^N))+I[1]+3905402710&4294967295,D=w+(b<<12&4294967295|b>>>20),b=N+(R^D&(w^R))+I[2]+606105819&4294967295,N=D+(b<<17&4294967295|b>>>15),b=R+(w^N&(D^w))+I[3]+3250441966&4294967295,R=N+(b<<22&4294967295|b>>>10),b=w+(D^R&(N^D))+I[4]+4118548399&4294967295,w=R+(b<<7&4294967295|b>>>25),b=D+(N^w&(R^N))+I[5]+1200080426&4294967295,D=w+(b<<12&4294967295|b>>>20),b=N+(R^D&(w^R))+I[6]+2821735955&4294967295,N=D+(b<<17&4294967295|b>>>15),b=R+(w^N&(D^w))+I[7]+4249261313&4294967295,R=N+(b<<22&4294967295|b>>>10),b=w+(D^R&(N^D))+I[8]+1770035416&4294967295,w=R+(b<<7&4294967295|b>>>25),b=D+(N^w&(R^N))+I[9]+2336552879&4294967295,D=w+(b<<12&4294967295|b>>>20),b=N+(R^D&(w^R))+I[10]+4294925233&4294967295,N=D+(b<<17&4294967295|b>>>15),b=R+(w^N&(D^w))+I[11]+2304563134&4294967295,R=N+(b<<22&4294967295|b>>>10),b=w+(D^R&(N^D))+I[12]+1804603682&4294967295,w=R+(b<<7&4294967295|b>>>25),b=D+(N^w&(R^N))+I[13]+4254626195&4294967295,D=w+(b<<12&4294967295|b>>>20),b=N+(R^D&(w^R))+I[14]+2792965006&4294967295,N=D+(b<<17&4294967295|b>>>15),b=R+(w^N&(D^w))+I[15]+1236535329&4294967295,R=N+(b<<22&4294967295|b>>>10),b=w+(N^D&(R^N))+I[1]+4129170786&4294967295,w=R+(b<<5&4294967295|b>>>27),b=D+(R^N&(w^R))+I[6]+3225465664&4294967295,D=w+(b<<9&4294967295|b>>>23),b=N+(w^R&(D^w))+I[11]+643717713&4294967295,N=D+(b<<14&4294967295|b>>>18),b=R+(D^w&(N^D))+I[0]+3921069994&4294967295,R=N+(b<<20&4294967295|b>>>12),b=w+(N^D&(R^N))+I[5]+3593408605&4294967295,w=R+(b<<5&4294967295|b>>>27),b=D+(R^N&(w^R))+I[10]+38016083&4294967295,D=w+(b<<9&4294967295|b>>>23),b=N+(w^R&(D^w))+I[15]+3634488961&4294967295,N=D+(b<<14&4294967295|b>>>18),b=R+(D^w&(N^D))+I[4]+3889429448&4294967295,R=N+(b<<20&4294967295|b>>>12),b=w+(N^D&(R^N))+I[9]+568446438&4294967295,w=R+(b<<5&4294967295|b>>>27),b=D+(R^N&(w^R))+I[14]+3275163606&4294967295,D=w+(b<<9&4294967295|b>>>23),b=N+(w^R&(D^w))+I[3]+4107603335&4294967295,N=D+(b<<14&4294967295|b>>>18),b=R+(D^w&(N^D))+I[8]+1163531501&4294967295,R=N+(b<<20&4294967295|b>>>12),b=w+(N^D&(R^N))+I[13]+2850285829&4294967295,w=R+(b<<5&4294967295|b>>>27),b=D+(R^N&(w^R))+I[2]+4243563512&4294967295,D=w+(b<<9&4294967295|b>>>23),b=N+(w^R&(D^w))+I[7]+1735328473&4294967295,N=D+(b<<14&4294967295|b>>>18),b=R+(D^w&(N^D))+I[12]+2368359562&4294967295,R=N+(b<<20&4294967295|b>>>12),b=w+(R^N^D)+I[5]+4294588738&4294967295,w=R+(b<<4&4294967295|b>>>28),b=D+(w^R^N)+I[8]+2272392833&4294967295,D=w+(b<<11&4294967295|b>>>21),b=N+(D^w^R)+I[11]+1839030562&4294967295,N=D+(b<<16&4294967295|b>>>16),b=R+(N^D^w)+I[14]+4259657740&4294967295,R=N+(b<<23&4294967295|b>>>9),b=w+(R^N^D)+I[1]+2763975236&4294967295,w=R+(b<<4&4294967295|b>>>28),b=D+(w^R^N)+I[4]+1272893353&4294967295,D=w+(b<<11&4294967295|b>>>21),b=N+(D^w^R)+I[7]+4139469664&4294967295,N=D+(b<<16&4294967295|b>>>16),b=R+(N^D^w)+I[10]+3200236656&4294967295,R=N+(b<<23&4294967295|b>>>9),b=w+(R^N^D)+I[13]+681279174&4294967295,w=R+(b<<4&4294967295|b>>>28),b=D+(w^R^N)+I[0]+3936430074&4294967295,D=w+(b<<11&4294967295|b>>>21),b=N+(D^w^R)+I[3]+3572445317&4294967295,N=D+(b<<16&4294967295|b>>>16),b=R+(N^D^w)+I[6]+76029189&4294967295,R=N+(b<<23&4294967295|b>>>9),b=w+(R^N^D)+I[9]+3654602809&4294967295,w=R+(b<<4&4294967295|b>>>28),b=D+(w^R^N)+I[12]+3873151461&4294967295,D=w+(b<<11&4294967295|b>>>21),b=N+(D^w^R)+I[15]+530742520&4294967295,N=D+(b<<16&4294967295|b>>>16),b=R+(N^D^w)+I[2]+3299628645&4294967295,R=N+(b<<23&4294967295|b>>>9),b=w+(N^(R|~D))+I[0]+4096336452&4294967295,w=R+(b<<6&4294967295|b>>>26),b=D+(R^(w|~N))+I[7]+1126891415&4294967295,D=w+(b<<10&4294967295|b>>>22),b=N+(w^(D|~R))+I[14]+2878612391&4294967295,N=D+(b<<15&4294967295|b>>>17),b=R+(D^(N|~w))+I[5]+4237533241&4294967295,R=N+(b<<21&4294967295|b>>>11),b=w+(N^(R|~D))+I[12]+1700485571&4294967295,w=R+(b<<6&4294967295|b>>>26),b=D+(R^(w|~N))+I[3]+2399980690&4294967295,D=w+(b<<10&4294967295|b>>>22),b=N+(w^(D|~R))+I[10]+4293915773&4294967295,N=D+(b<<15&4294967295|b>>>17),b=R+(D^(N|~w))+I[1]+2240044497&4294967295,R=N+(b<<21&4294967295|b>>>11),b=w+(N^(R|~D))+I[8]+1873313359&4294967295,w=R+(b<<6&4294967295|b>>>26),b=D+(R^(w|~N))+I[15]+4264355552&4294967295,D=w+(b<<10&4294967295|b>>>22),b=N+(w^(D|~R))+I[6]+2734768916&4294967295,N=D+(b<<15&4294967295|b>>>17),b=R+(D^(N|~w))+I[13]+1309151649&4294967295,R=N+(b<<21&4294967295|b>>>11),b=w+(N^(R|~D))+I[4]+4149444226&4294967295,w=R+(b<<6&4294967295|b>>>26),b=D+(R^(w|~N))+I[11]+3174756917&4294967295,D=w+(b<<10&4294967295|b>>>22),b=N+(w^(D|~R))+I[2]+718787259&4294967295,N=D+(b<<15&4294967295|b>>>17),b=R+(D^(N|~w))+I[9]+3951481745&4294967295,x.g[0]=x.g[0]+w&4294967295,x.g[1]=x.g[1]+(N+(b<<21&4294967295|b>>>11))&4294967295,x.g[2]=x.g[2]+N&4294967295,x.g[3]=x.g[3]+D&4294967295}r.prototype.u=function(x,w){w===void 0&&(w=x.length);for(var R=w-this.blockSize,I=this.B,N=this.h,D=0;D<w;){if(N==0)for(;D<=R;)i(this,x,D),D+=this.blockSize;if(typeof x=="string"){for(;D<w;)if(I[N++]=x.charCodeAt(D++),N==this.blockSize){i(this,I),N=0;break}}else for(;D<w;)if(I[N++]=x[D++],N==this.blockSize){i(this,I),N=0;break}}this.h=N,this.o+=w},r.prototype.v=function(){var x=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);x[0]=128;for(var w=1;w<x.length-8;++w)x[w]=0;var R=8*this.o;for(w=x.length-8;w<x.length;++w)x[w]=R&255,R/=256;for(this.u(x),x=Array(16),w=R=0;4>w;++w)for(var I=0;32>I;I+=8)x[R++]=this.g[w]>>>I&255;return x};function s(x,w){var R=a;return Object.prototype.hasOwnProperty.call(R,x)?R[x]:R[x]=w(x)}function o(x,w){this.h=w;for(var R=[],I=!0,N=x.length-1;0<=N;N--){var D=x[N]|0;I&&D==w||(R[N]=D,I=!1)}this.g=R}var a={};function u(x){return-128<=x&&128>x?s(x,function(w){return new o([w|0],0>w?-1:0)}):new o([x|0],0>x?-1:0)}function c(x){if(isNaN(x)||!isFinite(x))return f;if(0>x)return E(c(-x));for(var w=[],R=1,I=0;x>=R;I++)w[I]=x/R|0,R*=4294967296;return new o(w,0)}function h(x,w){if(x.length==0)throw Error("number format error: empty string");if(w=w||10,2>w||36<w)throw Error("radix out of range: "+w);if(x.charAt(0)=="-")return E(h(x.substring(1),w));if(0<=x.indexOf("-"))throw Error('number format error: interior "-" character');for(var R=c(Math.pow(w,8)),I=f,N=0;N<x.length;N+=8){var D=Math.min(8,x.length-N),b=parseInt(x.substring(N,N+D),w);8>D?(D=c(Math.pow(w,D)),I=I.j(D).add(c(b))):(I=I.j(R),I=I.add(c(b)))}return I}var f=u(0),m=u(1),_=u(16777216);t=o.prototype,t.m=function(){if(g(this))return-E(this).m();for(var x=0,w=1,R=0;R<this.g.length;R++){var I=this.i(R);x+=(0<=I?I:4294967296+I)*w,w*=4294967296}return x},t.toString=function(x){if(x=x||10,2>x||36<x)throw Error("radix out of range: "+x);if(A(this))return"0";if(g(this))return"-"+E(this).toString(x);for(var w=c(Math.pow(x,6)),R=this,I="";;){var N=P(R,w).g;R=v(R,N.j(w));var D=((0<R.g.length?R.g[0]:R.h)>>>0).toString(x);if(R=N,A(R))return D+I;for(;6>D.length;)D="0"+D;I=D+I}},t.i=function(x){return 0>x?0:x<this.g.length?this.g[x]:this.h};function A(x){if(x.h!=0)return!1;for(var w=0;w<x.g.length;w++)if(x.g[w]!=0)return!1;return!0}function g(x){return x.h==-1}t.l=function(x){return x=v(this,x),g(x)?-1:A(x)?0:1};function E(x){for(var w=x.g.length,R=[],I=0;I<w;I++)R[I]=~x.g[I];return new o(R,~x.h).add(m)}t.abs=function(){return g(this)?E(this):this},t.add=function(x){for(var w=Math.max(this.g.length,x.g.length),R=[],I=0,N=0;N<=w;N++){var D=I+(this.i(N)&65535)+(x.i(N)&65535),b=(D>>>16)+(this.i(N)>>>16)+(x.i(N)>>>16);I=b>>>16,D&=65535,b&=65535,R[N]=b<<16|D}return new o(R,R[R.length-1]&-2147483648?-1:0)};function v(x,w){return x.add(E(w))}t.j=function(x){if(A(this)||A(x))return f;if(g(this))return g(x)?E(this).j(E(x)):E(E(this).j(x));if(g(x))return E(this.j(E(x)));if(0>this.l(_)&&0>x.l(_))return c(this.m()*x.m());for(var w=this.g.length+x.g.length,R=[],I=0;I<2*w;I++)R[I]=0;for(I=0;I<this.g.length;I++)for(var N=0;N<x.g.length;N++){var D=this.i(I)>>>16,b=this.i(I)&65535,H=x.i(N)>>>16,ae=x.i(N)&65535;R[2*I+2*N]+=b*ae,y(R,2*I+2*N),R[2*I+2*N+1]+=D*ae,y(R,2*I+2*N+1),R[2*I+2*N+1]+=b*H,y(R,2*I+2*N+1),R[2*I+2*N+2]+=D*H,y(R,2*I+2*N+2)}for(I=0;I<w;I++)R[I]=R[2*I+1]<<16|R[2*I];for(I=w;I<2*w;I++)R[I]=0;return new o(R,0)};function y(x,w){for(;(x[w]&65535)!=x[w];)x[w+1]+=x[w]>>>16,x[w]&=65535,w++}function T(x,w){this.g=x,this.h=w}function P(x,w){if(A(w))throw Error("division by zero");if(A(x))return new T(f,f);if(g(x))return w=P(E(x),w),new T(E(w.g),E(w.h));if(g(w))return w=P(x,E(w)),new T(E(w.g),w.h);if(30<x.g.length){if(g(x)||g(w))throw Error("slowDivide_ only works with positive integers.");for(var R=m,I=w;0>=I.l(x);)R=O(R),I=O(I);var N=V(R,1),D=V(I,1);for(I=V(I,2),R=V(R,2);!A(I);){var b=D.add(I);0>=b.l(x)&&(N=N.add(R),D=b),I=V(I,1),R=V(R,1)}return w=v(x,N.j(w)),new T(N,w)}for(N=f;0<=x.l(w);){for(R=Math.max(1,Math.floor(x.m()/w.m())),I=Math.ceil(Math.log(R)/Math.LN2),I=48>=I?1:Math.pow(2,I-48),D=c(R),b=D.j(w);g(b)||0<b.l(x);)R-=I,D=c(R),b=D.j(w);A(D)&&(D=m),N=N.add(D),x=v(x,b)}return new T(N,x)}t.A=function(x){return P(this,x).h},t.and=function(x){for(var w=Math.max(this.g.length,x.g.length),R=[],I=0;I<w;I++)R[I]=this.i(I)&x.i(I);return new o(R,this.h&x.h)},t.or=function(x){for(var w=Math.max(this.g.length,x.g.length),R=[],I=0;I<w;I++)R[I]=this.i(I)|x.i(I);return new o(R,this.h|x.h)},t.xor=function(x){for(var w=Math.max(this.g.length,x.g.length),R=[],I=0;I<w;I++)R[I]=this.i(I)^x.i(I);return new o(R,this.h^x.h)};function O(x){for(var w=x.g.length+1,R=[],I=0;I<w;I++)R[I]=x.i(I)<<1|x.i(I-1)>>>31;return new o(R,x.h)}function V(x,w){var R=w>>5;w%=32;for(var I=x.g.length-R,N=[],D=0;D<I;D++)N[D]=0<w?x.i(D+R)>>>w|x.i(D+R+1)<<32-w:x.i(D+R);return new o(N,x.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,R1=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=c,o.fromString=h,Mr=o}).apply(typeof Kv<"u"?Kv:typeof self<"u"?self:typeof window<"u"?window:{});var Ll=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var I1,Uo,P1,cu,bf,b1,k1,N1;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(l,d,p){return l==Array.prototype||l==Object.prototype||(l[d]=p.value),l};function n(l){l=[typeof globalThis=="object"&&globalThis,l,typeof window=="object"&&window,typeof self=="object"&&self,typeof Ll=="object"&&Ll];for(var d=0;d<l.length;++d){var p=l[d];if(p&&p.Math==Math)return p}throw Error("Cannot find global object")}var r=n(this);function i(l,d){if(d)e:{var p=r;l=l.split(".");for(var S=0;S<l.length-1;S++){var M=l[S];if(!(M in p))break e;p=p[M]}l=l[l.length-1],S=p[l],d=d(S),d!=S&&d!=null&&e(p,l,{configurable:!0,writable:!0,value:d})}}function s(l,d){l instanceof String&&(l+="");var p=0,S=!1,M={next:function(){if(!S&&p<l.length){var L=p++;return{value:d(L,l[L]),done:!1}}return S=!0,{done:!0,value:void 0}}};return M[Symbol.iterator]=function(){return M},M}i("Array.prototype.values",function(l){return l||function(){return s(this,function(d,p){return p})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},a=this||self;function u(l){var d=typeof l;return d=d!="object"?d:l?Array.isArray(l)?"array":d:"null",d=="array"||d=="object"&&typeof l.length=="number"}function c(l){var d=typeof l;return d=="object"&&l!=null||d=="function"}function h(l,d,p){return l.call.apply(l.bind,arguments)}function f(l,d,p){if(!l)throw Error();if(2<arguments.length){var S=Array.prototype.slice.call(arguments,2);return function(){var M=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(M,S),l.apply(d,M)}}return function(){return l.apply(d,arguments)}}function m(l,d,p){return m=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?h:f,m.apply(null,arguments)}function _(l,d){var p=Array.prototype.slice.call(arguments,1);return function(){var S=p.slice();return S.push.apply(S,arguments),l.apply(this,S)}}function A(l,d){function p(){}p.prototype=d.prototype,l.aa=d.prototype,l.prototype=new p,l.prototype.constructor=l,l.Qb=function(S,M,L){for(var $=Array(arguments.length-2),ve=2;ve<arguments.length;ve++)$[ve-2]=arguments[ve];return d.prototype[M].apply(S,$)}}function g(l){const d=l.length;if(0<d){const p=Array(d);for(let S=0;S<d;S++)p[S]=l[S];return p}return[]}function E(l,d){for(let p=1;p<arguments.length;p++){const S=arguments[p];if(u(S)){const M=l.length||0,L=S.length||0;l.length=M+L;for(let $=0;$<L;$++)l[M+$]=S[$]}else l.push(S)}}class v{constructor(d,p){this.i=d,this.j=p,this.h=0,this.g=null}get(){let d;return 0<this.h?(this.h--,d=this.g,this.g=d.next,d.next=null):d=this.i(),d}}function y(l){return/^[\s\xa0]*$/.test(l)}function T(){var l=a.navigator;return l&&(l=l.userAgent)?l:""}function P(l){return P[" "](l),l}P[" "]=function(){};var O=T().indexOf("Gecko")!=-1&&!(T().toLowerCase().indexOf("webkit")!=-1&&T().indexOf("Edge")==-1)&&!(T().indexOf("Trident")!=-1||T().indexOf("MSIE")!=-1)&&T().indexOf("Edge")==-1;function V(l,d,p){for(const S in l)d.call(p,l[S],S,l)}function x(l,d){for(const p in l)d.call(void 0,l[p],p,l)}function w(l){const d={};for(const p in l)d[p]=l[p];return d}const R="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function I(l,d){let p,S;for(let M=1;M<arguments.length;M++){S=arguments[M];for(p in S)l[p]=S[p];for(let L=0;L<R.length;L++)p=R[L],Object.prototype.hasOwnProperty.call(S,p)&&(l[p]=S[p])}}function N(l){var d=1;l=l.split(":");const p=[];for(;0<d&&l.length;)p.push(l.shift()),d--;return l.length&&p.push(l.join(":")),p}function D(l){a.setTimeout(()=>{throw l},0)}function b(){var l=W;let d=null;return l.g&&(d=l.g,l.g=l.g.next,l.g||(l.h=null),d.next=null),d}class H{constructor(){this.h=this.g=null}add(d,p){const S=ae.get();S.set(d,p),this.h?this.h.next=S:this.g=S,this.h=S}}var ae=new v(()=>new re,l=>l.reset());class re{constructor(){this.next=this.g=this.h=null}set(d,p){this.h=d,this.g=p,this.next=null}reset(){this.next=this.g=this.h=null}}let se,F=!1,W=new H,G=()=>{const l=a.Promise.resolve(void 0);se=()=>{l.then(te)}};var te=()=>{for(var l;l=b();){try{l.h.call(l.g)}catch(p){D(p)}var d=ae;d.j(l),100>d.h&&(d.h++,l.next=d.g,d.g=l)}F=!1};function de(){this.s=this.s,this.C=this.C}de.prototype.s=!1,de.prototype.ma=function(){this.s||(this.s=!0,this.N())},de.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ye(l,d){this.type=l,this.g=this.target=d,this.defaultPrevented=!1}ye.prototype.h=function(){this.defaultPrevented=!0};var Ct=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var l=!1,d=Object.defineProperty({},"passive",{get:function(){l=!0}});try{const p=()=>{};a.addEventListener("test",p,d),a.removeEventListener("test",p,d)}catch{}return l}();function Zt(l,d){if(ye.call(this,l?l.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,l){var p=this.type=l.type,S=l.changedTouches&&l.changedTouches.length?l.changedTouches[0]:null;if(this.target=l.target||l.srcElement,this.g=d,d=l.relatedTarget){if(O){e:{try{P(d.nodeName);var M=!0;break e}catch{}M=!1}M||(d=null)}}else p=="mouseover"?d=l.fromElement:p=="mouseout"&&(d=l.toElement);this.relatedTarget=d,S?(this.clientX=S.clientX!==void 0?S.clientX:S.pageX,this.clientY=S.clientY!==void 0?S.clientY:S.pageY,this.screenX=S.screenX||0,this.screenY=S.screenY||0):(this.clientX=l.clientX!==void 0?l.clientX:l.pageX,this.clientY=l.clientY!==void 0?l.clientY:l.pageY,this.screenX=l.screenX||0,this.screenY=l.screenY||0),this.button=l.button,this.key=l.key||"",this.ctrlKey=l.ctrlKey,this.altKey=l.altKey,this.shiftKey=l.shiftKey,this.metaKey=l.metaKey,this.pointerId=l.pointerId||0,this.pointerType=typeof l.pointerType=="string"?l.pointerType:en[l.pointerType]||"",this.state=l.state,this.i=l,l.defaultPrevented&&Zt.aa.h.call(this)}}A(Zt,ye);var en={2:"touch",3:"pen",4:"mouse"};Zt.prototype.h=function(){Zt.aa.h.call(this);var l=this.i;l.preventDefault?l.preventDefault():l.returnValue=!1};var $t="closure_listenable_"+(1e6*Math.random()|0),Ya=0;function Xa(l,d,p,S,M){this.listener=l,this.proxy=null,this.src=d,this.type=p,this.capture=!!S,this.ha=M,this.key=++Ya,this.da=this.fa=!1}function ni(l){l.da=!0,l.listener=null,l.proxy=null,l.src=null,l.ha=null}function ri(l){this.src=l,this.g={},this.h=0}ri.prototype.add=function(l,d,p,S,M){var L=l.toString();l=this.g[L],l||(l=this.g[L]=[],this.h++);var $=Mn(l,d,S,M);return-1<$?(d=l[$],p||(d.fa=!1)):(d=new Xa(d,this.src,L,!!S,M),d.fa=p,l.push(d)),d};function Bi(l,d){var p=d.type;if(p in l.g){var S=l.g[p],M=Array.prototype.indexOf.call(S,d,void 0),L;(L=0<=M)&&Array.prototype.splice.call(S,M,1),L&&(ni(d),l.g[p].length==0&&(delete l.g[p],l.h--))}}function Mn(l,d,p,S){for(var M=0;M<l.length;++M){var L=l[M];if(!L.da&&L.listener==d&&L.capture==!!p&&L.ha==S)return M}return-1}var $i="closure_lm_"+(1e6*Math.random()|0),co={};function Ja(l,d,p,S,M){if(Array.isArray(d)){for(var L=0;L<d.length;L++)Ja(l,d[L],p,S,M);return null}return p=eg(p),l&&l[$t]?l.K(d,p,c(S)?!!S.capture:!!S,M):nd(l,d,p,!1,S,M)}function nd(l,d,p,S,M,L){if(!d)throw Error("Invalid event type");var $=c(M)?!!M.capture:!!M,ve=sd(l);if(ve||(l[$i]=ve=new ri(l)),p=ve.add(d,p,S,$,L),p.proxy)return p;if(S=rd(),p.proxy=S,S.src=l,S.listener=p,l.addEventListener)Ct||(M=$),M===void 0&&(M=!1),l.addEventListener(d.toString(),S,M);else if(l.attachEvent)l.attachEvent(Zm(d.toString()),S);else if(l.addListener&&l.removeListener)l.addListener(S);else throw Error("addEventListener and attachEvent are unavailable.");return p}function rd(){function l(p){return d.call(l.src,l.listener,p)}const d=yC;return l}function ii(l,d,p,S,M){if(Array.isArray(d))for(var L=0;L<d.length;L++)ii(l,d[L],p,S,M);else S=c(S)?!!S.capture:!!S,p=eg(p),l&&l[$t]?(l=l.i,d=String(d).toString(),d in l.g&&(L=l.g[d],p=Mn(L,p,S,M),-1<p&&(ni(L[p]),Array.prototype.splice.call(L,p,1),L.length==0&&(delete l.g[d],l.h--)))):l&&(l=sd(l))&&(d=l.g[d.toString()],l=-1,d&&(l=Mn(d,p,S,M)),(p=-1<l?d[l]:null)&&id(p))}function id(l){if(typeof l!="number"&&l&&!l.da){var d=l.src;if(d&&d[$t])Bi(d.i,l);else{var p=l.type,S=l.proxy;d.removeEventListener?d.removeEventListener(p,S,l.capture):d.detachEvent?d.detachEvent(Zm(p),S):d.addListener&&d.removeListener&&d.removeListener(S),(p=sd(d))?(Bi(p,l),p.h==0&&(p.src=null,d[$i]=null)):ni(l)}}}function Zm(l){return l in co?co[l]:co[l]="on"+l}function yC(l,d){if(l.da)l=!0;else{d=new Zt(d,this);var p=l.listener,S=l.ha||l.src;l.fa&&id(l),l=p.call(S,d)}return l}function sd(l){return l=l[$i],l instanceof ri?l:null}var od="__closure_events_fn_"+(1e9*Math.random()>>>0);function eg(l){return typeof l=="function"?l:(l[od]||(l[od]=function(d){return l.handleEvent(d)}),l[od])}function rt(){de.call(this),this.i=new ri(this),this.M=this,this.F=null}A(rt,de),rt.prototype[$t]=!0,rt.prototype.removeEventListener=function(l,d,p,S){ii(this,l,d,p,S)};function gt(l,d){var p,S=l.F;if(S)for(p=[];S;S=S.F)p.push(S);if(l=l.M,S=d.type||d,typeof d=="string")d=new ye(d,l);else if(d instanceof ye)d.target=d.target||l;else{var M=d;d=new ye(S,l),I(d,M)}if(M=!0,p)for(var L=p.length-1;0<=L;L--){var $=d.g=p[L];M=Za($,S,!0,d)&&M}if($=d.g=l,M=Za($,S,!0,d)&&M,M=Za($,S,!1,d)&&M,p)for(L=0;L<p.length;L++)$=d.g=p[L],M=Za($,S,!1,d)&&M}rt.prototype.N=function(){if(rt.aa.N.call(this),this.i){var l=this.i,d;for(d in l.g){for(var p=l.g[d],S=0;S<p.length;S++)ni(p[S]);delete l.g[d],l.h--}}this.F=null},rt.prototype.K=function(l,d,p,S){return this.i.add(String(l),d,!1,p,S)},rt.prototype.L=function(l,d,p,S){return this.i.add(String(l),d,!0,p,S)};function Za(l,d,p,S){if(d=l.i.g[String(d)],!d)return!0;d=d.concat();for(var M=!0,L=0;L<d.length;++L){var $=d[L];if($&&!$.da&&$.capture==p){var ve=$.listener,Ye=$.ha||$.src;$.fa&&Bi(l.i,$),M=ve.call(Ye,S)!==!1&&M}}return M&&!S.defaultPrevented}function tg(l,d,p){if(typeof l=="function")p&&(l=m(l,p));else if(l&&typeof l.handleEvent=="function")l=m(l.handleEvent,l);else throw Error("Invalid listener argument");return 2147483647<Number(d)?-1:a.setTimeout(l,d||0)}function ng(l){l.g=tg(()=>{l.g=null,l.i&&(l.i=!1,ng(l))},l.l);const d=l.h;l.h=null,l.m.apply(null,d)}class vC extends de{constructor(d,p){super(),this.m=d,this.l=p,this.h=null,this.i=!1,this.g=null}j(d){this.h=arguments,this.g?this.i=!0:ng(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ho(l){de.call(this),this.h=l,this.g={}}A(ho,de);var rg=[];function ig(l){V(l.g,function(d,p){this.g.hasOwnProperty(p)&&id(d)},l),l.g={}}ho.prototype.N=function(){ho.aa.N.call(this),ig(this)},ho.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ad=a.JSON.stringify,_C=a.JSON.parse,wC=class{stringify(l){return a.JSON.stringify(l,void 0)}parse(l){return a.JSON.parse(l,void 0)}};function ld(){}ld.prototype.h=null;function sg(l){return l.h||(l.h=l.i())}function og(){}var fo={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function ud(){ye.call(this,"d")}A(ud,ye);function cd(){ye.call(this,"c")}A(cd,ye);var si={},ag=null;function el(){return ag=ag||new rt}si.La="serverreachability";function lg(l){ye.call(this,si.La,l)}A(lg,ye);function po(l){const d=el();gt(d,new lg(d))}si.STAT_EVENT="statevent";function ug(l,d){ye.call(this,si.STAT_EVENT,l),this.stat=d}A(ug,ye);function yt(l){const d=el();gt(d,new ug(d,l))}si.Ma="timingevent";function cg(l,d){ye.call(this,si.Ma,l),this.size=d}A(cg,ye);function mo(l,d){if(typeof l!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){l()},d)}function go(){this.g=!0}go.prototype.xa=function(){this.g=!1};function EC(l,d,p,S,M,L){l.info(function(){if(l.g)if(L)for(var $="",ve=L.split("&"),Ye=0;Ye<ve.length;Ye++){var fe=ve[Ye].split("=");if(1<fe.length){var it=fe[0];fe=fe[1];var st=it.split("_");$=2<=st.length&&st[1]=="type"?$+(it+"="+fe+"&"):$+(it+"=redacted&")}}else $=null;else $=L;return"XMLHTTP REQ ("+S+") [attempt "+M+"]: "+d+`
`+p+`
`+$})}function TC(l,d,p,S,M,L,$){l.info(function(){return"XMLHTTP RESP ("+S+") [ attempt "+M+"]: "+d+`
`+p+`
`+L+" "+$})}function Hi(l,d,p,S){l.info(function(){return"XMLHTTP TEXT ("+d+"): "+xC(l,p)+(S?" "+S:"")})}function SC(l,d){l.info(function(){return"TIMEOUT: "+d})}go.prototype.info=function(){};function xC(l,d){if(!l.g)return d;if(!d)return null;try{var p=JSON.parse(d);if(p){for(l=0;l<p.length;l++)if(Array.isArray(p[l])){var S=p[l];if(!(2>S.length)){var M=S[1];if(Array.isArray(M)&&!(1>M.length)){var L=M[0];if(L!="noop"&&L!="stop"&&L!="close")for(var $=1;$<M.length;$++)M[$]=""}}}}return ad(p)}catch{return d}}var tl={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},dg={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},dd;function nl(){}A(nl,ld),nl.prototype.g=function(){return new XMLHttpRequest},nl.prototype.i=function(){return{}},dd=new nl;function rr(l,d,p,S){this.j=l,this.i=d,this.l=p,this.R=S||1,this.U=new ho(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new hg}function hg(){this.i=null,this.g="",this.h=!1}var fg={},hd={};function fd(l,d,p){l.L=1,l.v=ol(Ln(d)),l.m=p,l.P=!0,pg(l,null)}function pg(l,d){l.F=Date.now(),rl(l),l.A=Ln(l.v);var p=l.A,S=l.R;Array.isArray(S)||(S=[String(S)]),Ig(p.i,"t",S),l.C=0,p=l.j.J,l.h=new hg,l.g=qg(l.j,p?d:null,!l.m),0<l.O&&(l.M=new vC(m(l.Y,l,l.g),l.O)),d=l.U,p=l.g,S=l.ca;var M="readystatechange";Array.isArray(M)||(M&&(rg[0]=M.toString()),M=rg);for(var L=0;L<M.length;L++){var $=Ja(p,M[L],S||d.handleEvent,!1,d.h||d);if(!$)break;d.g[$.key]=$}d=l.H?w(l.H):{},l.m?(l.u||(l.u="POST"),d["Content-Type"]="application/x-www-form-urlencoded",l.g.ea(l.A,l.u,l.m,d)):(l.u="GET",l.g.ea(l.A,l.u,null,d)),po(),EC(l.i,l.u,l.A,l.l,l.R,l.m)}rr.prototype.ca=function(l){l=l.target;const d=this.M;d&&Fn(l)==3?d.j():this.Y(l)},rr.prototype.Y=function(l){try{if(l==this.g)e:{const st=Fn(this.g);var d=this.g.Ba();const Ki=this.g.Z();if(!(3>st)&&(st!=3||this.g&&(this.h.h||this.g.oa()||Vg(this.g)))){this.J||st!=4||d==7||(d==8||0>=Ki?po(3):po(2)),pd(this);var p=this.g.Z();this.X=p;t:if(mg(this)){var S=Vg(this.g);l="";var M=S.length,L=Fn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){oi(this),yo(this);var $="";break t}this.h.i=new a.TextDecoder}for(d=0;d<M;d++)this.h.h=!0,l+=this.h.i.decode(S[d],{stream:!(L&&d==M-1)});S.length=0,this.h.g+=l,this.C=0,$=this.h.g}else $=this.g.oa();if(this.o=p==200,TC(this.i,this.u,this.A,this.l,this.R,st,p),this.o){if(this.T&&!this.K){t:{if(this.g){var ve,Ye=this.g;if((ve=Ye.g?Ye.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!y(ve)){var fe=ve;break t}}fe=null}if(p=fe)Hi(this.i,this.l,p,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,md(this,p);else{this.o=!1,this.s=3,yt(12),oi(this),yo(this);break e}}if(this.P){p=!0;let tn;for(;!this.J&&this.C<$.length;)if(tn=CC(this,$),tn==hd){st==4&&(this.s=4,yt(14),p=!1),Hi(this.i,this.l,null,"[Incomplete Response]");break}else if(tn==fg){this.s=4,yt(15),Hi(this.i,this.l,$,"[Invalid Chunk]"),p=!1;break}else Hi(this.i,this.l,tn,null),md(this,tn);if(mg(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),st!=4||$.length!=0||this.h.h||(this.s=1,yt(16),p=!1),this.o=this.o&&p,!p)Hi(this.i,this.l,$,"[Invalid Chunked Response]"),oi(this),yo(this);else if(0<$.length&&!this.W){this.W=!0;var it=this.j;it.g==this&&it.ba&&!it.M&&(it.j.info("Great, no buffering proxy detected. Bytes received: "+$.length),Ed(it),it.M=!0,yt(11))}}else Hi(this.i,this.l,$,null),md(this,$);st==4&&oi(this),this.o&&!this.J&&(st==4?Bg(this.j,this):(this.o=!1,rl(this)))}else BC(this.g),p==400&&0<$.indexOf("Unknown SID")?(this.s=3,yt(12)):(this.s=0,yt(13)),oi(this),yo(this)}}}catch{}finally{}};function mg(l){return l.g?l.u=="GET"&&l.L!=2&&l.j.Ca:!1}function CC(l,d){var p=l.C,S=d.indexOf(`
`,p);return S==-1?hd:(p=Number(d.substring(p,S)),isNaN(p)?fg:(S+=1,S+p>d.length?hd:(d=d.slice(S,S+p),l.C=S+p,d)))}rr.prototype.cancel=function(){this.J=!0,oi(this)};function rl(l){l.S=Date.now()+l.I,gg(l,l.I)}function gg(l,d){if(l.B!=null)throw Error("WatchDog timer not null");l.B=mo(m(l.ba,l),d)}function pd(l){l.B&&(a.clearTimeout(l.B),l.B=null)}rr.prototype.ba=function(){this.B=null;const l=Date.now();0<=l-this.S?(SC(this.i,this.A),this.L!=2&&(po(),yt(17)),oi(this),this.s=2,yo(this)):gg(this,this.S-l)};function yo(l){l.j.G==0||l.J||Bg(l.j,l)}function oi(l){pd(l);var d=l.M;d&&typeof d.ma=="function"&&d.ma(),l.M=null,ig(l.U),l.g&&(d=l.g,l.g=null,d.abort(),d.ma())}function md(l,d){try{var p=l.j;if(p.G!=0&&(p.g==l||gd(p.h,l))){if(!l.K&&gd(p.h,l)&&p.G==3){try{var S=p.Da.g.parse(d)}catch{S=null}if(Array.isArray(S)&&S.length==3){var M=S;if(M[0]==0){e:if(!p.u){if(p.g)if(p.g.F+3e3<l.F)hl(p),cl(p);else break e;wd(p),yt(18)}}else p.za=M[1],0<p.za-p.T&&37500>M[2]&&p.F&&p.v==0&&!p.C&&(p.C=mo(m(p.Za,p),6e3));if(1>=_g(p.h)&&p.ca){try{p.ca()}catch{}p.ca=void 0}}else li(p,11)}else if((l.K||p.g==l)&&hl(p),!y(d))for(M=p.Da.g.parse(d),d=0;d<M.length;d++){let fe=M[d];if(p.T=fe[0],fe=fe[1],p.G==2)if(fe[0]=="c"){p.K=fe[1],p.ia=fe[2];const it=fe[3];it!=null&&(p.la=it,p.j.info("VER="+p.la));const st=fe[4];st!=null&&(p.Aa=st,p.j.info("SVER="+p.Aa));const Ki=fe[5];Ki!=null&&typeof Ki=="number"&&0<Ki&&(S=1.5*Ki,p.L=S,p.j.info("backChannelRequestTimeoutMs_="+S)),S=p;const tn=l.g;if(tn){const pl=tn.g?tn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(pl){var L=S.h;L.g||pl.indexOf("spdy")==-1&&pl.indexOf("quic")==-1&&pl.indexOf("h2")==-1||(L.j=L.l,L.g=new Set,L.h&&(yd(L,L.h),L.h=null))}if(S.D){const Td=tn.g?tn.g.getResponseHeader("X-HTTP-Session-Id"):null;Td&&(S.ya=Td,Ee(S.I,S.D,Td))}}p.G=3,p.l&&p.l.ua(),p.ba&&(p.R=Date.now()-l.F,p.j.info("Handshake RTT: "+p.R+"ms")),S=p;var $=l;if(S.qa=Wg(S,S.J?S.ia:null,S.W),$.K){wg(S.h,$);var ve=$,Ye=S.L;Ye&&(ve.I=Ye),ve.B&&(pd(ve),rl(ve)),S.g=$}else Ug(S);0<p.i.length&&dl(p)}else fe[0]!="stop"&&fe[0]!="close"||li(p,7);else p.G==3&&(fe[0]=="stop"||fe[0]=="close"?fe[0]=="stop"?li(p,7):_d(p):fe[0]!="noop"&&p.l&&p.l.ta(fe),p.v=0)}}po(4)}catch{}}var AC=class{constructor(l,d){this.g=l,this.map=d}};function yg(l){this.l=l||10,a.PerformanceNavigationTiming?(l=a.performance.getEntriesByType("navigation"),l=0<l.length&&(l[0].nextHopProtocol=="hq"||l[0].nextHopProtocol=="h2")):l=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=l?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function vg(l){return l.h?!0:l.g?l.g.size>=l.j:!1}function _g(l){return l.h?1:l.g?l.g.size:0}function gd(l,d){return l.h?l.h==d:l.g?l.g.has(d):!1}function yd(l,d){l.g?l.g.add(d):l.h=d}function wg(l,d){l.h&&l.h==d?l.h=null:l.g&&l.g.has(d)&&l.g.delete(d)}yg.prototype.cancel=function(){if(this.i=Eg(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const l of this.g.values())l.cancel();this.g.clear()}};function Eg(l){if(l.h!=null)return l.i.concat(l.h.D);if(l.g!=null&&l.g.size!==0){let d=l.i;for(const p of l.g.values())d=d.concat(p.D);return d}return g(l.i)}function RC(l){if(l.V&&typeof l.V=="function")return l.V();if(typeof Map<"u"&&l instanceof Map||typeof Set<"u"&&l instanceof Set)return Array.from(l.values());if(typeof l=="string")return l.split("");if(u(l)){for(var d=[],p=l.length,S=0;S<p;S++)d.push(l[S]);return d}d=[],p=0;for(S in l)d[p++]=l[S];return d}function IC(l){if(l.na&&typeof l.na=="function")return l.na();if(!l.V||typeof l.V!="function"){if(typeof Map<"u"&&l instanceof Map)return Array.from(l.keys());if(!(typeof Set<"u"&&l instanceof Set)){if(u(l)||typeof l=="string"){var d=[];l=l.length;for(var p=0;p<l;p++)d.push(p);return d}d=[],p=0;for(const S in l)d[p++]=S;return d}}}function Tg(l,d){if(l.forEach&&typeof l.forEach=="function")l.forEach(d,void 0);else if(u(l)||typeof l=="string")Array.prototype.forEach.call(l,d,void 0);else for(var p=IC(l),S=RC(l),M=S.length,L=0;L<M;L++)d.call(void 0,S[L],p&&p[L],l)}var Sg=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function PC(l,d){if(l){l=l.split("&");for(var p=0;p<l.length;p++){var S=l[p].indexOf("="),M=null;if(0<=S){var L=l[p].substring(0,S);M=l[p].substring(S+1)}else L=l[p];d(L,M?decodeURIComponent(M.replace(/\+/g," ")):"")}}}function ai(l){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,l instanceof ai){this.h=l.h,il(this,l.j),this.o=l.o,this.g=l.g,sl(this,l.s),this.l=l.l;var d=l.i,p=new wo;p.i=d.i,d.g&&(p.g=new Map(d.g),p.h=d.h),xg(this,p),this.m=l.m}else l&&(d=String(l).match(Sg))?(this.h=!1,il(this,d[1]||"",!0),this.o=vo(d[2]||""),this.g=vo(d[3]||"",!0),sl(this,d[4]),this.l=vo(d[5]||"",!0),xg(this,d[6]||"",!0),this.m=vo(d[7]||"")):(this.h=!1,this.i=new wo(null,this.h))}ai.prototype.toString=function(){var l=[],d=this.j;d&&l.push(_o(d,Cg,!0),":");var p=this.g;return(p||d=="file")&&(l.push("//"),(d=this.o)&&l.push(_o(d,Cg,!0),"@"),l.push(encodeURIComponent(String(p)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),p=this.s,p!=null&&l.push(":",String(p))),(p=this.l)&&(this.g&&p.charAt(0)!="/"&&l.push("/"),l.push(_o(p,p.charAt(0)=="/"?NC:kC,!0))),(p=this.i.toString())&&l.push("?",p),(p=this.m)&&l.push("#",_o(p,OC)),l.join("")};function Ln(l){return new ai(l)}function il(l,d,p){l.j=p?vo(d,!0):d,l.j&&(l.j=l.j.replace(/:$/,""))}function sl(l,d){if(d){if(d=Number(d),isNaN(d)||0>d)throw Error("Bad port number "+d);l.s=d}else l.s=null}function xg(l,d,p){d instanceof wo?(l.i=d,VC(l.i,l.h)):(p||(d=_o(d,DC)),l.i=new wo(d,l.h))}function Ee(l,d,p){l.i.set(d,p)}function ol(l){return Ee(l,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),l}function vo(l,d){return l?d?decodeURI(l.replace(/%25/g,"%2525")):decodeURIComponent(l):""}function _o(l,d,p){return typeof l=="string"?(l=encodeURI(l).replace(d,bC),p&&(l=l.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),l):null}function bC(l){return l=l.charCodeAt(0),"%"+(l>>4&15).toString(16)+(l&15).toString(16)}var Cg=/[#\/\?@]/g,kC=/[#\?:]/g,NC=/[#\?]/g,DC=/[#\?@]/g,OC=/#/g;function wo(l,d){this.h=this.g=null,this.i=l||null,this.j=!!d}function ir(l){l.g||(l.g=new Map,l.h=0,l.i&&PC(l.i,function(d,p){l.add(decodeURIComponent(d.replace(/\+/g," ")),p)}))}t=wo.prototype,t.add=function(l,d){ir(this),this.i=null,l=Wi(this,l);var p=this.g.get(l);return p||this.g.set(l,p=[]),p.push(d),this.h+=1,this};function Ag(l,d){ir(l),d=Wi(l,d),l.g.has(d)&&(l.i=null,l.h-=l.g.get(d).length,l.g.delete(d))}function Rg(l,d){return ir(l),d=Wi(l,d),l.g.has(d)}t.forEach=function(l,d){ir(this),this.g.forEach(function(p,S){p.forEach(function(M){l.call(d,M,S,this)},this)},this)},t.na=function(){ir(this);const l=Array.from(this.g.values()),d=Array.from(this.g.keys()),p=[];for(let S=0;S<d.length;S++){const M=l[S];for(let L=0;L<M.length;L++)p.push(d[S])}return p},t.V=function(l){ir(this);let d=[];if(typeof l=="string")Rg(this,l)&&(d=d.concat(this.g.get(Wi(this,l))));else{l=Array.from(this.g.values());for(let p=0;p<l.length;p++)d=d.concat(l[p])}return d},t.set=function(l,d){return ir(this),this.i=null,l=Wi(this,l),Rg(this,l)&&(this.h-=this.g.get(l).length),this.g.set(l,[d]),this.h+=1,this},t.get=function(l,d){return l?(l=this.V(l),0<l.length?String(l[0]):d):d};function Ig(l,d,p){Ag(l,d),0<p.length&&(l.i=null,l.g.set(Wi(l,d),g(p)),l.h+=p.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const l=[],d=Array.from(this.g.keys());for(var p=0;p<d.length;p++){var S=d[p];const L=encodeURIComponent(String(S)),$=this.V(S);for(S=0;S<$.length;S++){var M=L;$[S]!==""&&(M+="="+encodeURIComponent(String($[S]))),l.push(M)}}return this.i=l.join("&")};function Wi(l,d){return d=String(d),l.j&&(d=d.toLowerCase()),d}function VC(l,d){d&&!l.j&&(ir(l),l.i=null,l.g.forEach(function(p,S){var M=S.toLowerCase();S!=M&&(Ag(this,S),Ig(this,M,p))},l)),l.j=d}function MC(l,d){const p=new go;if(a.Image){const S=new Image;S.onload=_(sr,p,"TestLoadImage: loaded",!0,d,S),S.onerror=_(sr,p,"TestLoadImage: error",!1,d,S),S.onabort=_(sr,p,"TestLoadImage: abort",!1,d,S),S.ontimeout=_(sr,p,"TestLoadImage: timeout",!1,d,S),a.setTimeout(function(){S.ontimeout&&S.ontimeout()},1e4),S.src=l}else d(!1)}function LC(l,d){const p=new go,S=new AbortController,M=setTimeout(()=>{S.abort(),sr(p,"TestPingServer: timeout",!1,d)},1e4);fetch(l,{signal:S.signal}).then(L=>{clearTimeout(M),L.ok?sr(p,"TestPingServer: ok",!0,d):sr(p,"TestPingServer: server error",!1,d)}).catch(()=>{clearTimeout(M),sr(p,"TestPingServer: error",!1,d)})}function sr(l,d,p,S,M){try{M&&(M.onload=null,M.onerror=null,M.onabort=null,M.ontimeout=null),S(p)}catch{}}function FC(){this.g=new wC}function jC(l,d,p){const S=p||"";try{Tg(l,function(M,L){let $=M;c(M)&&($=ad(M)),d.push(S+L+"="+encodeURIComponent($))})}catch(M){throw d.push(S+"type="+encodeURIComponent("_badmap")),M}}function al(l){this.l=l.Ub||null,this.j=l.eb||!1}A(al,ld),al.prototype.g=function(){return new ll(this.l,this.j)},al.prototype.i=function(l){return function(){return l}}({});function ll(l,d){rt.call(this),this.D=l,this.o=d,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}A(ll,rt),t=ll.prototype,t.open=function(l,d){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=l,this.A=d,this.readyState=1,To(this)},t.send=function(l){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const d={headers:this.u,method:this.B,credentials:this.m,cache:void 0};l&&(d.body=l),(this.D||a).fetch(new Request(this.A,d)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Eo(this)),this.readyState=0},t.Sa=function(l){if(this.g&&(this.l=l,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=l.headers,this.readyState=2,To(this)),this.g&&(this.readyState=3,To(this),this.g)))if(this.responseType==="arraybuffer")l.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in l){if(this.j=l.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Pg(this)}else l.text().then(this.Ra.bind(this),this.ga.bind(this))};function Pg(l){l.j.read().then(l.Pa.bind(l)).catch(l.ga.bind(l))}t.Pa=function(l){if(this.g){if(this.o&&l.value)this.response.push(l.value);else if(!this.o){var d=l.value?l.value:new Uint8Array(0);(d=this.v.decode(d,{stream:!l.done}))&&(this.response=this.responseText+=d)}l.done?Eo(this):To(this),this.readyState==3&&Pg(this)}},t.Ra=function(l){this.g&&(this.response=this.responseText=l,Eo(this))},t.Qa=function(l){this.g&&(this.response=l,Eo(this))},t.ga=function(){this.g&&Eo(this)};function Eo(l){l.readyState=4,l.l=null,l.j=null,l.v=null,To(l)}t.setRequestHeader=function(l,d){this.u.append(l,d)},t.getResponseHeader=function(l){return this.h&&this.h.get(l.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const l=[],d=this.h.entries();for(var p=d.next();!p.done;)p=p.value,l.push(p[0]+": "+p[1]),p=d.next();return l.join(`\r
`)};function To(l){l.onreadystatechange&&l.onreadystatechange.call(l)}Object.defineProperty(ll.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(l){this.m=l?"include":"same-origin"}});function bg(l){let d="";return V(l,function(p,S){d+=S,d+=":",d+=p,d+=`\r
`}),d}function vd(l,d,p){e:{for(S in p){var S=!1;break e}S=!0}S||(p=bg(p),typeof l=="string"?p!=null&&encodeURIComponent(String(p)):Ee(l,d,p))}function De(l){rt.call(this),this.headers=new Map,this.o=l||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}A(De,rt);var UC=/^https?$/i,zC=["POST","PUT"];t=De.prototype,t.Ha=function(l){this.J=l},t.ea=function(l,d,p,S){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+l);d=d?d.toUpperCase():"GET",this.D=l,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():dd.g(),this.v=this.o?sg(this.o):sg(dd),this.g.onreadystatechange=m(this.Ea,this);try{this.B=!0,this.g.open(d,String(l),!0),this.B=!1}catch(L){kg(this,L);return}if(l=p||"",p=new Map(this.headers),S)if(Object.getPrototypeOf(S)===Object.prototype)for(var M in S)p.set(M,S[M]);else if(typeof S.keys=="function"&&typeof S.get=="function")for(const L of S.keys())p.set(L,S.get(L));else throw Error("Unknown input type for opt_headers: "+String(S));S=Array.from(p.keys()).find(L=>L.toLowerCase()=="content-type"),M=a.FormData&&l instanceof a.FormData,!(0<=Array.prototype.indexOf.call(zC,d,void 0))||S||M||p.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[L,$]of p)this.g.setRequestHeader(L,$);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Og(this),this.u=!0,this.g.send(l),this.u=!1}catch(L){kg(this,L)}};function kg(l,d){l.h=!1,l.g&&(l.j=!0,l.g.abort(),l.j=!1),l.l=d,l.m=5,Ng(l),ul(l)}function Ng(l){l.A||(l.A=!0,gt(l,"complete"),gt(l,"error"))}t.abort=function(l){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=l||7,gt(this,"complete"),gt(this,"abort"),ul(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ul(this,!0)),De.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?Dg(this):this.bb())},t.bb=function(){Dg(this)};function Dg(l){if(l.h&&typeof o<"u"&&(!l.v[1]||Fn(l)!=4||l.Z()!=2)){if(l.u&&Fn(l)==4)tg(l.Ea,0,l);else if(gt(l,"readystatechange"),Fn(l)==4){l.h=!1;try{const $=l.Z();e:switch($){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var d=!0;break e;default:d=!1}var p;if(!(p=d)){var S;if(S=$===0){var M=String(l.D).match(Sg)[1]||null;!M&&a.self&&a.self.location&&(M=a.self.location.protocol.slice(0,-1)),S=!UC.test(M?M.toLowerCase():"")}p=S}if(p)gt(l,"complete"),gt(l,"success");else{l.m=6;try{var L=2<Fn(l)?l.g.statusText:""}catch{L=""}l.l=L+" ["+l.Z()+"]",Ng(l)}}finally{ul(l)}}}}function ul(l,d){if(l.g){Og(l);const p=l.g,S=l.v[0]?()=>{}:null;l.g=null,l.v=null,d||gt(l,"ready");try{p.onreadystatechange=S}catch{}}}function Og(l){l.I&&(a.clearTimeout(l.I),l.I=null)}t.isActive=function(){return!!this.g};function Fn(l){return l.g?l.g.readyState:0}t.Z=function(){try{return 2<Fn(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(l){if(this.g){var d=this.g.responseText;return l&&d.indexOf(l)==0&&(d=d.substring(l.length)),_C(d)}};function Vg(l){try{if(!l.g)return null;if("response"in l.g)return l.g.response;switch(l.H){case"":case"text":return l.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in l.g)return l.g.mozResponseArrayBuffer}return null}catch{return null}}function BC(l){const d={};l=(l.g&&2<=Fn(l)&&l.g.getAllResponseHeaders()||"").split(`\r
`);for(let S=0;S<l.length;S++){if(y(l[S]))continue;var p=N(l[S]);const M=p[0];if(p=p[1],typeof p!="string")continue;p=p.trim();const L=d[M]||[];d[M]=L,L.push(p)}x(d,function(S){return S.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function So(l,d,p){return p&&p.internalChannelParams&&p.internalChannelParams[l]||d}function Mg(l){this.Aa=0,this.i=[],this.j=new go,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=So("failFast",!1,l),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=So("baseRetryDelayMs",5e3,l),this.cb=So("retryDelaySeedMs",1e4,l),this.Wa=So("forwardChannelMaxRetries",2,l),this.wa=So("forwardChannelRequestTimeoutMs",2e4,l),this.pa=l&&l.xmlHttpFactory||void 0,this.Xa=l&&l.Tb||void 0,this.Ca=l&&l.useFetchStreams||!1,this.L=void 0,this.J=l&&l.supportsCrossDomainXhr||!1,this.K="",this.h=new yg(l&&l.concurrentRequestLimit),this.Da=new FC,this.P=l&&l.fastHandshake||!1,this.O=l&&l.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=l&&l.Rb||!1,l&&l.xa&&this.j.xa(),l&&l.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&l&&l.detectBufferingProxy||!1,this.ja=void 0,l&&l.longPollingTimeout&&0<l.longPollingTimeout&&(this.ja=l.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=Mg.prototype,t.la=8,t.G=1,t.connect=function(l,d,p,S){yt(0),this.W=l,this.H=d||{},p&&S!==void 0&&(this.H.OSID=p,this.H.OAID=S),this.F=this.X,this.I=Wg(this,null,this.W),dl(this)};function _d(l){if(Lg(l),l.G==3){var d=l.U++,p=Ln(l.I);if(Ee(p,"SID",l.K),Ee(p,"RID",d),Ee(p,"TYPE","terminate"),xo(l,p),d=new rr(l,l.j,d),d.L=2,d.v=ol(Ln(p)),p=!1,a.navigator&&a.navigator.sendBeacon)try{p=a.navigator.sendBeacon(d.v.toString(),"")}catch{}!p&&a.Image&&(new Image().src=d.v,p=!0),p||(d.g=qg(d.j,null),d.g.ea(d.v)),d.F=Date.now(),rl(d)}Hg(l)}function cl(l){l.g&&(Ed(l),l.g.cancel(),l.g=null)}function Lg(l){cl(l),l.u&&(a.clearTimeout(l.u),l.u=null),hl(l),l.h.cancel(),l.s&&(typeof l.s=="number"&&a.clearTimeout(l.s),l.s=null)}function dl(l){if(!vg(l.h)&&!l.s){l.s=!0;var d=l.Ga;se||G(),F||(se(),F=!0),W.add(d,l),l.B=0}}function $C(l,d){return _g(l.h)>=l.h.j-(l.s?1:0)?!1:l.s?(l.i=d.D.concat(l.i),!0):l.G==1||l.G==2||l.B>=(l.Va?0:l.Wa)?!1:(l.s=mo(m(l.Ga,l,d),$g(l,l.B)),l.B++,!0)}t.Ga=function(l){if(this.s)if(this.s=null,this.G==1){if(!l){this.U=Math.floor(1e5*Math.random()),l=this.U++;const M=new rr(this,this.j,l);let L=this.o;if(this.S&&(L?(L=w(L),I(L,this.S)):L=this.S),this.m!==null||this.O||(M.H=L,L=null),this.P)e:{for(var d=0,p=0;p<this.i.length;p++){t:{var S=this.i[p];if("__data__"in S.map&&(S=S.map.__data__,typeof S=="string")){S=S.length;break t}S=void 0}if(S===void 0)break;if(d+=S,4096<d){d=p;break e}if(d===4096||p===this.i.length-1){d=p+1;break e}}d=1e3}else d=1e3;d=jg(this,M,d),p=Ln(this.I),Ee(p,"RID",l),Ee(p,"CVER",22),this.D&&Ee(p,"X-HTTP-Session-Id",this.D),xo(this,p),L&&(this.O?d="headers="+encodeURIComponent(String(bg(L)))+"&"+d:this.m&&vd(p,this.m,L)),yd(this.h,M),this.Ua&&Ee(p,"TYPE","init"),this.P?(Ee(p,"$req",d),Ee(p,"SID","null"),M.T=!0,fd(M,p,null)):fd(M,p,d),this.G=2}}else this.G==3&&(l?Fg(this,l):this.i.length==0||vg(this.h)||Fg(this))};function Fg(l,d){var p;d?p=d.l:p=l.U++;const S=Ln(l.I);Ee(S,"SID",l.K),Ee(S,"RID",p),Ee(S,"AID",l.T),xo(l,S),l.m&&l.o&&vd(S,l.m,l.o),p=new rr(l,l.j,p,l.B+1),l.m===null&&(p.H=l.o),d&&(l.i=d.D.concat(l.i)),d=jg(l,p,1e3),p.I=Math.round(.5*l.wa)+Math.round(.5*l.wa*Math.random()),yd(l.h,p),fd(p,S,d)}function xo(l,d){l.H&&V(l.H,function(p,S){Ee(d,S,p)}),l.l&&Tg({},function(p,S){Ee(d,S,p)})}function jg(l,d,p){p=Math.min(l.i.length,p);var S=l.l?m(l.l.Na,l.l,l):null;e:{var M=l.i;let L=-1;for(;;){const $=["count="+p];L==-1?0<p?(L=M[0].g,$.push("ofs="+L)):L=0:$.push("ofs="+L);let ve=!0;for(let Ye=0;Ye<p;Ye++){let fe=M[Ye].g;const it=M[Ye].map;if(fe-=L,0>fe)L=Math.max(0,M[Ye].g-100),ve=!1;else try{jC(it,$,"req"+fe+"_")}catch{S&&S(it)}}if(ve){S=$.join("&");break e}}}return l=l.i.splice(0,p),d.D=l,S}function Ug(l){if(!l.g&&!l.u){l.Y=1;var d=l.Fa;se||G(),F||(se(),F=!0),W.add(d,l),l.v=0}}function wd(l){return l.g||l.u||3<=l.v?!1:(l.Y++,l.u=mo(m(l.Fa,l),$g(l,l.v)),l.v++,!0)}t.Fa=function(){if(this.u=null,zg(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var l=2*this.R;this.j.info("BP detection timer enabled: "+l),this.A=mo(m(this.ab,this),l)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,yt(10),cl(this),zg(this))};function Ed(l){l.A!=null&&(a.clearTimeout(l.A),l.A=null)}function zg(l){l.g=new rr(l,l.j,"rpc",l.Y),l.m===null&&(l.g.H=l.o),l.g.O=0;var d=Ln(l.qa);Ee(d,"RID","rpc"),Ee(d,"SID",l.K),Ee(d,"AID",l.T),Ee(d,"CI",l.F?"0":"1"),!l.F&&l.ja&&Ee(d,"TO",l.ja),Ee(d,"TYPE","xmlhttp"),xo(l,d),l.m&&l.o&&vd(d,l.m,l.o),l.L&&(l.g.I=l.L);var p=l.g;l=l.ia,p.L=1,p.v=ol(Ln(d)),p.m=null,p.P=!0,pg(p,l)}t.Za=function(){this.C!=null&&(this.C=null,cl(this),wd(this),yt(19))};function hl(l){l.C!=null&&(a.clearTimeout(l.C),l.C=null)}function Bg(l,d){var p=null;if(l.g==d){hl(l),Ed(l),l.g=null;var S=2}else if(gd(l.h,d))p=d.D,wg(l.h,d),S=1;else return;if(l.G!=0){if(d.o)if(S==1){p=d.m?d.m.length:0,d=Date.now()-d.F;var M=l.B;S=el(),gt(S,new cg(S,p)),dl(l)}else Ug(l);else if(M=d.s,M==3||M==0&&0<d.X||!(S==1&&$C(l,d)||S==2&&wd(l)))switch(p&&0<p.length&&(d=l.h,d.i=d.i.concat(p)),M){case 1:li(l,5);break;case 4:li(l,10);break;case 3:li(l,6);break;default:li(l,2)}}}function $g(l,d){let p=l.Ta+Math.floor(Math.random()*l.cb);return l.isActive()||(p*=2),p*d}function li(l,d){if(l.j.info("Error code "+d),d==2){var p=m(l.fb,l),S=l.Xa;const M=!S;S=new ai(S||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||il(S,"https"),ol(S),M?MC(S.toString(),p):LC(S.toString(),p)}else yt(2);l.G=0,l.l&&l.l.sa(d),Hg(l),Lg(l)}t.fb=function(l){l?(this.j.info("Successfully pinged google.com"),yt(2)):(this.j.info("Failed to ping google.com"),yt(1))};function Hg(l){if(l.G=0,l.ka=[],l.l){const d=Eg(l.h);(d.length!=0||l.i.length!=0)&&(E(l.ka,d),E(l.ka,l.i),l.h.i.length=0,g(l.i),l.i.length=0),l.l.ra()}}function Wg(l,d,p){var S=p instanceof ai?Ln(p):new ai(p);if(S.g!="")d&&(S.g=d+"."+S.g),sl(S,S.s);else{var M=a.location;S=M.protocol,d=d?d+"."+M.hostname:M.hostname,M=+M.port;var L=new ai(null);S&&il(L,S),d&&(L.g=d),M&&sl(L,M),p&&(L.l=p),S=L}return p=l.D,d=l.ya,p&&d&&Ee(S,p,d),Ee(S,"VER",l.la),xo(l,S),S}function qg(l,d,p){if(d&&!l.J)throw Error("Can't create secondary domain capable XhrIo object.");return d=l.Ca&&!l.pa?new De(new al({eb:p})):new De(l.pa),d.Ha(l.J),d}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Kg(){}t=Kg.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function fl(){}fl.prototype.g=function(l,d){return new Nt(l,d)};function Nt(l,d){rt.call(this),this.g=new Mg(d),this.l=l,this.h=d&&d.messageUrlParams||null,l=d&&d.messageHeaders||null,d&&d.clientProtocolHeaderRequired&&(l?l["X-Client-Protocol"]="webchannel":l={"X-Client-Protocol":"webchannel"}),this.g.o=l,l=d&&d.initMessageHeaders||null,d&&d.messageContentType&&(l?l["X-WebChannel-Content-Type"]=d.messageContentType:l={"X-WebChannel-Content-Type":d.messageContentType}),d&&d.va&&(l?l["X-WebChannel-Client-Profile"]=d.va:l={"X-WebChannel-Client-Profile":d.va}),this.g.S=l,(l=d&&d.Sb)&&!y(l)&&(this.g.m=l),this.v=d&&d.supportsCrossDomainXhr||!1,this.u=d&&d.sendRawJson||!1,(d=d&&d.httpSessionIdParam)&&!y(d)&&(this.g.D=d,l=this.h,l!==null&&d in l&&(l=this.h,d in l&&delete l[d])),this.j=new qi(this)}A(Nt,rt),Nt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Nt.prototype.close=function(){_d(this.g)},Nt.prototype.o=function(l){var d=this.g;if(typeof l=="string"){var p={};p.__data__=l,l=p}else this.u&&(p={},p.__data__=ad(l),l=p);d.i.push(new AC(d.Ya++,l)),d.G==3&&dl(d)},Nt.prototype.N=function(){this.g.l=null,delete this.j,_d(this.g),delete this.g,Nt.aa.N.call(this)};function Gg(l){ud.call(this),l.__headers__&&(this.headers=l.__headers__,this.statusCode=l.__status__,delete l.__headers__,delete l.__status__);var d=l.__sm__;if(d){e:{for(const p in d){l=p;break e}l=void 0}(this.i=l)&&(l=this.i,d=d!==null&&l in d?d[l]:void 0),this.data=d}else this.data=l}A(Gg,ud);function Qg(){cd.call(this),this.status=1}A(Qg,cd);function qi(l){this.g=l}A(qi,Kg),qi.prototype.ua=function(){gt(this.g,"a")},qi.prototype.ta=function(l){gt(this.g,new Gg(l))},qi.prototype.sa=function(l){gt(this.g,new Qg)},qi.prototype.ra=function(){gt(this.g,"b")},fl.prototype.createWebChannel=fl.prototype.g,Nt.prototype.send=Nt.prototype.o,Nt.prototype.open=Nt.prototype.m,Nt.prototype.close=Nt.prototype.close,N1=function(){return new fl},k1=function(){return el()},b1=si,bf={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},tl.NO_ERROR=0,tl.TIMEOUT=8,tl.HTTP_ERROR=6,cu=tl,dg.COMPLETE="complete",P1=dg,og.EventType=fo,fo.OPEN="a",fo.CLOSE="b",fo.ERROR="c",fo.MESSAGE="d",rt.prototype.listen=rt.prototype.K,Uo=og,De.prototype.listenOnce=De.prototype.L,De.prototype.getLastError=De.prototype.Ka,De.prototype.getLastErrorCode=De.prototype.Ba,De.prototype.getStatus=De.prototype.Z,De.prototype.getResponseJson=De.prototype.Oa,De.prototype.getResponseText=De.prototype.oa,De.prototype.send=De.prototype.ea,De.prototype.setWithCredentials=De.prototype.Ha,I1=De}).apply(typeof Ll<"u"?Ll:typeof self<"u"?self:typeof window<"u"?window:{});const Gv="@firebase/firestore",Qv="4.7.12";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}dt.UNAUTHENTICATED=new dt(null),dt.GOOGLE_CREDENTIALS=new dt("google-credentials-uid"),dt.FIRST_PARTY=new dt("first-party-uid"),dt.MOCK_USER=new dt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let oo="11.7.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pi=new y1("@firebase/firestore");function Ji(){return Pi.logLevel}function q(t,...e){if(Pi.logLevel<=ce.DEBUG){const n=e.map(dm);Pi.debug(`Firestore (${oo}): ${t}`,...n)}}function er(t,...e){if(Pi.logLevel<=ce.ERROR){const n=e.map(dm);Pi.error(`Firestore (${oo}): ${t}`,...n)}}function Ws(t,...e){if(Pi.logLevel<=ce.WARN){const n=e.map(dm);Pi.warn(`Firestore (${oo}): ${t}`,...n)}}function dm(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,D1(t,r,n)}function D1(t,e,n){let r=`FIRESTORE (${oo}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw er(r),new Error(r)}function me(t,e,n,r){let i="Unexpected state";typeof n=="string"?i=n:r=n,t||D1(e,i,r)}function Z(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Q extends Li{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lr{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O1{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class dD{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(dt.UNAUTHENTICATED))}shutdown(){}}class hD{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class fD{constructor(e){this.t=e,this.currentUser=dt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){me(this.o===void 0,42304);let r=this.i;const i=u=>this.i!==r?(r=this.i,n(u)):Promise.resolve();let s=new Lr;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Lr,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const u=s;e.enqueueRetryable(async()=>{await u.promise,await i(this.currentUser)})},a=u=>{q("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(u=>a(u)),setTimeout(()=>{if(!this.auth){const u=this.t.getImmediate({optional:!0});u?a(u):(q("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Lr)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(q("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(me(typeof r.accessToken=="string",31837,{l:r}),new O1(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return me(e===null||typeof e=="string",2055,{h:e}),new dt(e)}}class pD{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=dt.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class mD{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new pD(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(dt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Yv{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class gD{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,E1(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){me(this.o===void 0,3512);const r=s=>{s.error!=null&&q("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.m;return this.m=s.token,q("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{q("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.V.getImmediate({optional:!0});s?i(s):q("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new Yv(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(me(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new Yv(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yD(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function V1(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M1{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=yD(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%62))}return r}}function ie(t,e){return t<e?-1:t>e?1:0}function kf(t,e){let n=0;for(;n<t.length&&n<e.length;){const r=t.codePointAt(n),i=e.codePointAt(n);if(r!==i){if(r<128&&i<128)return ie(r,i);{const s=V1(),o=vD(s.encode(Xv(t,n)),s.encode(Xv(e,n)));return o!==0?o:ie(r,i)}}n+=r>65535?2:1}return ie(t.length,e.length)}function Xv(t,e){return t.codePointAt(e)>65535?t.substring(e,e+2):t.substring(e,e+1)}function vD(t,e){for(let n=0;n<t.length&&n<e.length;++n)if(t[n]!==e[n])return ie(t[n],e[n]);return ie(t.length,e.length)}function qs(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jv=-62135596800,Zv=1e6;class We{static now(){return We.fromMillis(Date.now())}static fromDate(e){return We.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*Zv);return new We(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Q(z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Q(z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<Jv)throw new Q(z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Q(z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Zv}_compareTo(e){return this.seconds===e.seconds?ie(this.nanoseconds,e.nanoseconds):ie(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-Jv;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J{static fromTimestamp(e){return new J(e)}static min(){return new J(new We(0,0))}static max(){return new J(new We(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e_="__name__";class _n{constructor(e,n,r){n===void 0?n=0:n>e.length&&X(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&X(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return _n.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof _n?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=_n.compareSegments(e.get(i),n.get(i));if(s!==0)return s}return ie(e.length,n.length)}static compareSegments(e,n){const r=_n.isNumericId(e),i=_n.isNumericId(n);return r&&!i?-1:!r&&i?1:r&&i?_n.extractNumericId(e).compare(_n.extractNumericId(n)):kf(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Mr.fromString(e.substring(4,e.length-2))}}class Re extends _n{construct(e,n,r){return new Re(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new Q(z.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new Re(n)}static emptyPath(){return new Re([])}}const _D=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ze extends _n{construct(e,n,r){return new Ze(e,n,r)}static isValidIdentifier(e){return _D.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ze.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===e_}static keyField(){return new Ze([e_])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new Q(z.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new Q(z.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const u=e[i+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new Q(z.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new Q(z.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Ze(n)}static emptyPath(){return new Ze([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y{constructor(e){this.path=e}static fromPath(e){return new Y(Re.fromString(e))}static fromName(e){return new Y(Re.fromString(e).popFirst(5))}static empty(){return new Y(Re.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Re.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Re.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Y(new Re(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ia=-1;function wD(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=J.fromTimestamp(r===1e9?new We(n+1,0):new We(n,r));return new Kr(i,Y.empty(),e)}function ED(t){return new Kr(t.readTime,t.key,Ia)}class Kr{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Kr(J.min(),Y.empty(),Ia)}static max(){return new Kr(J.max(),Y.empty(),Ia)}}function TD(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Y.comparator(t.documentKey,e.documentKey),n!==0?n:ie(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SD="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class xD{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ao(t){if(t.code!==z.FAILED_PRECONDITION||t.message!==SD)throw t;q("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&X(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new j((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof j?n:j.resolve(n)}catch(n){return j.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):j.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):j.reject(n)}static resolve(e){return new j((n,r)=>{n(e)})}static reject(e){return new j((n,r)=>{r(e)})}static waitFor(e){return new j((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},u=>r(u))}),o=!0,s===i&&n()})}static or(e){let n=j.resolve(!1);for(const r of e)n=n.next(i=>i?j.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new j((r,i)=>{const s=e.length,o=new Array(s);let a=0;for(let u=0;u<s;u++){const c=u;n(e[c]).next(h=>{o[c]=h,++a,a===s&&r(o)},h=>i(h))}})}static doWhile(e,n){return new j((r,i)=>{const s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}}function CD(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function lo(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uc{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ue(r),this.ce=r=>n.writeSequenceNumber(r))}ue(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ce&&this.ce(e),e}}Uc.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hm=-1;function zc(t){return t==null}function Yu(t){return t===0&&1/t==-1/0}function AD(t){return typeof t=="number"&&Number.isInteger(t)&&!Yu(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L1="";function RD(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=t_(e)),e=ID(t.get(n),e);return t_(e)}function ID(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const s=t.charAt(i);switch(s){case"\0":n+="";break;case L1:n+="";break;default:n+=s}}return n}function t_(t){return t+L1+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function n_(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Fi(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function F1(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ne{constructor(e,n){this.comparator=e,this.root=n||Je.EMPTY}insert(e,n){return new Ne(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Je.BLACK,null,null))}remove(e){return new Ne(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Je.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Fl(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Fl(this.root,e,this.comparator,!1)}getReverseIterator(){return new Fl(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Fl(this.root,e,this.comparator,!0)}}class Fl{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Je{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??Je.RED,this.left=i??Je.EMPTY,this.right=s??Je.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new Je(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Je.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return Je.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Je.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Je.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw X(43730,{key:this.key,value:this.value});if(this.right.isRed())throw X(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw X(27949);return e+(this.isRed()?0:1)}}Je.EMPTY=null,Je.RED=!0,Je.BLACK=!1;Je.EMPTY=new class{constructor(){this.size=0}get key(){throw X(57766)}get value(){throw X(16141)}get color(){throw X(16727)}get left(){throw X(29726)}get right(){throw X(36894)}copy(e,n,r,i,s){return this}insert(e,n,r){return new Je(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qe{constructor(e){this.comparator=e,this.data=new Ne(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new r_(this.data.getIterator())}getIteratorFrom(e){return new r_(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof qe)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new qe(this.comparator);return n.data=e,n}}class r_{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class un{constructor(e){this.fields=e,e.sort(Ze.comparator)}static empty(){return new un([])}unionWith(e){let n=new qe(Ze.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new un(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return qs(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j1 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new j1("Invalid base64 string: "+s):s}}(e);return new nt(n)}static fromUint8Array(e){const n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new nt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ie(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}nt.EMPTY_BYTE_STRING=new nt("");const PD=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Gr(t){if(me(!!t,39018),typeof t=="string"){let e=0;const n=PD.exec(t);if(me(!!n,46558,{timestamp:t}),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Fe(t.seconds),nanos:Fe(t.nanos)}}function Fe(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Qr(t){return typeof t=="string"?nt.fromBase64String(t):nt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U1="server_timestamp",z1="__type__",B1="__previous_value__",$1="__local_write_time__";function fm(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[z1])===null||n===void 0?void 0:n.stringValue)===U1}function Bc(t){const e=t.mapValue.fields[B1];return fm(e)?Bc(e):e}function Pa(t){const e=Gr(t.mapValue.fields[$1].timestampValue);return new We(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bD{constructor(e,n,r,i,s,o,a,u,c,h){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=u,this.useFetchStreams=c,this.isUsingEmulator=h}}const Xu="(default)";class ba{constructor(e,n){this.projectId=e,this.database=n||Xu}static empty(){return new ba("","")}get isDefaultDatabase(){return this.database===Xu}isEqual(e){return e instanceof ba&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H1="__type__",W1="__max__",jl={mapValue:{fields:{__type__:{stringValue:W1}}}},q1="__vector__",Ju="value";function Yr(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?fm(t)?4:ND(t)?9007199254740991:kD(t)?10:11:X(28295,{value:t})}function Dn(t,e){if(t===e)return!0;const n=Yr(t);if(n!==Yr(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Pa(t).isEqual(Pa(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const o=Gr(i.timestampValue),a=Gr(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return Qr(i.bytesValue).isEqual(Qr(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return Fe(i.geoPointValue.latitude)===Fe(s.geoPointValue.latitude)&&Fe(i.geoPointValue.longitude)===Fe(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return Fe(i.integerValue)===Fe(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const o=Fe(i.doubleValue),a=Fe(s.doubleValue);return o===a?Yu(o)===Yu(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return qs(t.arrayValue.values||[],e.arrayValue.values||[],Dn);case 10:case 11:return function(i,s){const o=i.mapValue.fields||{},a=s.mapValue.fields||{};if(n_(o)!==n_(a))return!1;for(const u in o)if(o.hasOwnProperty(u)&&(a[u]===void 0||!Dn(o[u],a[u])))return!1;return!0}(t,e);default:return X(52216,{left:t})}}function ka(t,e){return(t.values||[]).find(n=>Dn(n,e))!==void 0}function Ks(t,e){if(t===e)return 0;const n=Yr(t),r=Yr(e);if(n!==r)return ie(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return ie(t.booleanValue,e.booleanValue);case 2:return function(s,o){const a=Fe(s.integerValue||s.doubleValue),u=Fe(o.integerValue||o.doubleValue);return a<u?-1:a>u?1:a===u?0:isNaN(a)?isNaN(u)?0:-1:1}(t,e);case 3:return i_(t.timestampValue,e.timestampValue);case 4:return i_(Pa(t),Pa(e));case 5:return kf(t.stringValue,e.stringValue);case 6:return function(s,o){const a=Qr(s),u=Qr(o);return a.compareTo(u)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){const a=s.split("/"),u=o.split("/");for(let c=0;c<a.length&&c<u.length;c++){const h=ie(a[c],u[c]);if(h!==0)return h}return ie(a.length,u.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){const a=ie(Fe(s.latitude),Fe(o.latitude));return a!==0?a:ie(Fe(s.longitude),Fe(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return s_(t.arrayValue,e.arrayValue);case 10:return function(s,o){var a,u,c,h;const f=s.fields||{},m=o.fields||{},_=(a=f[Ju])===null||a===void 0?void 0:a.arrayValue,A=(u=m[Ju])===null||u===void 0?void 0:u.arrayValue,g=ie(((c=_==null?void 0:_.values)===null||c===void 0?void 0:c.length)||0,((h=A==null?void 0:A.values)===null||h===void 0?void 0:h.length)||0);return g!==0?g:s_(_,A)}(t.mapValue,e.mapValue);case 11:return function(s,o){if(s===jl.mapValue&&o===jl.mapValue)return 0;if(s===jl.mapValue)return 1;if(o===jl.mapValue)return-1;const a=s.fields||{},u=Object.keys(a),c=o.fields||{},h=Object.keys(c);u.sort(),h.sort();for(let f=0;f<u.length&&f<h.length;++f){const m=kf(u[f],h[f]);if(m!==0)return m;const _=Ks(a[u[f]],c[h[f]]);if(_!==0)return _}return ie(u.length,h.length)}(t.mapValue,e.mapValue);default:throw X(23264,{Pe:n})}}function i_(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return ie(t,e);const n=Gr(t),r=Gr(e),i=ie(n.seconds,r.seconds);return i!==0?i:ie(n.nanos,r.nanos)}function s_(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const s=Ks(n[i],r[i]);if(s)return s}return ie(n.length,r.length)}function Gs(t){return Nf(t)}function Nf(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Gr(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Qr(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return Y.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=Nf(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const o of r)s?s=!1:i+=",",i+=`${o}:${Nf(n.fields[o])}`;return i+"}"}(t.mapValue):X(61005,{value:t})}function du(t){switch(Yr(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Bc(t);return e?16+du(e):16;case 5:return 2*t.stringValue.length;case 6:return Qr(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((i,s)=>i+du(s),0)}(t.arrayValue);case 10:case 11:return function(r){let i=0;return Fi(r.fields,(s,o)=>{i+=s.length+du(o)}),i}(t.mapValue);default:throw X(13486,{value:t})}}function Df(t){return!!t&&"integerValue"in t}function pm(t){return!!t&&"arrayValue"in t}function o_(t){return!!t&&"nullValue"in t}function a_(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function hu(t){return!!t&&"mapValue"in t}function kD(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[H1])===null||n===void 0?void 0:n.stringValue)===q1}function Zo(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Fi(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Zo(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Zo(t.arrayValue.values[n]);return e}return Object.assign({},t)}function ND(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===W1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kt{constructor(e){this.value=e}static empty(){return new Kt({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!hu(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Zo(n)}setAll(e){let n=Ze.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const u=this.getFieldsMap(n);this.applyChanges(u,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=Zo(o):i.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());hu(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Dn(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];hu(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Fi(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new Kt(Zo(this.value))}}function K1(t){const e=[];return Fi(t.fields,(n,r)=>{const i=new Ze([n]);if(hu(r)){const s=K1(r.mapValue).fields;if(s.length===0)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new un(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ft{constructor(e,n,r,i,s,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new ft(e,0,J.min(),J.min(),J.min(),Kt.empty(),0)}static newFoundDocument(e,n,r,i){return new ft(e,1,n,J.min(),r,i,0)}static newNoDocument(e,n){return new ft(e,2,n,J.min(),J.min(),Kt.empty(),0)}static newUnknownDocument(e,n){return new ft(e,3,n,J.min(),J.min(),Kt.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(J.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Kt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Kt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=J.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof ft&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new ft(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zu{constructor(e,n){this.position=e,this.inclusive=n}}function l_(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(s.field.isKeyField()?r=Y.comparator(Y.fromName(o.referenceValue),n.key):r=Ks(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function u_(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Dn(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ec{constructor(e,n="asc"){this.field=e,this.dir=n}}function DD(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G1{}class $e extends G1{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new VD(e,n,r):n==="array-contains"?new FD(e,r):n==="in"?new jD(e,r):n==="not-in"?new UD(e,r):n==="array-contains-any"?new zD(e,r):new $e(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new MD(e,r):new LD(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Ks(n,this.value)):n!==null&&Yr(this.value)===Yr(n)&&this.matchesComparison(Ks(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return X(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class On extends G1{constructor(e,n){super(),this.filters=e,this.op=n,this.Te=null}static create(e,n){return new On(e,n)}matches(e){return Q1(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function Q1(t){return t.op==="and"}function Y1(t){return OD(t)&&Q1(t)}function OD(t){for(const e of t.filters)if(e instanceof On)return!1;return!0}function Of(t){if(t instanceof $e)return t.field.canonicalString()+t.op.toString()+Gs(t.value);if(Y1(t))return t.filters.map(e=>Of(e)).join(",");{const e=t.filters.map(n=>Of(n)).join(",");return`${t.op}(${e})`}}function X1(t,e){return t instanceof $e?function(r,i){return i instanceof $e&&r.op===i.op&&r.field.isEqual(i.field)&&Dn(r.value,i.value)}(t,e):t instanceof On?function(r,i){return i instanceof On&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,a)=>s&&X1(o,i.filters[a]),!0):!1}(t,e):void X(19439)}function J1(t){return t instanceof $e?function(n){return`${n.field.canonicalString()} ${n.op} ${Gs(n.value)}`}(t):t instanceof On?function(n){return n.op.toString()+" {"+n.getFilters().map(J1).join(" ,")+"}"}(t):"Filter"}class VD extends $e{constructor(e,n,r){super(e,n,r),this.key=Y.fromName(r.referenceValue)}matches(e){const n=Y.comparator(e.key,this.key);return this.matchesComparison(n)}}class MD extends $e{constructor(e,n){super(e,"in",n),this.keys=Z1("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class LD extends $e{constructor(e,n){super(e,"not-in",n),this.keys=Z1("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function Z1(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>Y.fromName(r.referenceValue))}class FD extends $e{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return pm(n)&&ka(n.arrayValue,this.value)}}class jD extends $e{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&ka(this.value.arrayValue,n)}}class UD extends $e{constructor(e,n){super(e,"not-in",n)}matches(e){if(ka(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!ka(this.value.arrayValue,n)}}class zD extends $e{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!pm(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>ka(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BD{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.Ie=null}}function c_(t,e=null,n=[],r=[],i=null,s=null,o=null){return new BD(t,e,n,r,i,s,o)}function mm(t){const e=Z(t);if(e.Ie===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Of(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),zc(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Gs(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Gs(r)).join(",")),e.Ie=n}return e.Ie}function gm(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!DD(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!X1(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!u_(t.startAt,e.startAt)&&u_(t.endAt,e.endAt)}function Vf(t){return Y.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $c{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,u=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=u,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function $D(t,e,n,r,i,s,o,a){return new $c(t,e,n,r,i,s,o,a)}function eS(t){return new $c(t)}function d_(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function HD(t){return t.collectionGroup!==null}function ea(t){const e=Z(t);if(e.Ee===null){e.Ee=[];const n=new Set;for(const s of e.explicitOrderBy)e.Ee.push(s),n.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new qe(Ze.comparator);return o.filters.forEach(u=>{u.getFlattenedFilters().forEach(c=>{c.isInequality()&&(a=a.add(c.field))})}),a})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.Ee.push(new ec(s,r))}),n.has(Ze.keyField().canonicalString())||e.Ee.push(new ec(Ze.keyField(),r))}return e.Ee}function Pn(t){const e=Z(t);return e.de||(e.de=WD(e,ea(t))),e.de}function WD(t,e){if(t.limitType==="F")return c_(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const s=i.dir==="desc"?"asc":"desc";return new ec(i.field,s)});const n=t.endAt?new Zu(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Zu(t.startAt.position,t.startAt.inclusive):null;return c_(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Mf(t,e,n){return new $c(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Hc(t,e){return gm(Pn(t),Pn(e))&&t.limitType===e.limitType}function tS(t){return`${mm(Pn(t))}|lt:${t.limitType}`}function Zi(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>J1(i)).join(", ")}]`),zc(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>Gs(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>Gs(i)).join(",")),`Target(${r})`}(Pn(t))}; limitType=${t.limitType})`}function Wc(t,e){return e.isFoundDocument()&&function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):Y.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(const s of ea(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(o,a,u){const c=l_(o,a,u);return o.inclusive?c<=0:c<0}(r.startAt,ea(r),i)||r.endAt&&!function(o,a,u){const c=l_(o,a,u);return o.inclusive?c>=0:c>0}(r.endAt,ea(r),i))}(t,e)}function qD(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function nS(t){return(e,n)=>{let r=!1;for(const i of ea(t)){const s=KD(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function KD(t,e,n){const r=t.field.isKeyField()?Y.comparator(e.key,n.key):function(s,o,a){const u=o.data.field(s),c=a.data.field(s);return u!==null&&c!==null?Ks(u,c):X(42886)}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return X(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ji{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Fi(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return F1(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GD=new Ne(Y.comparator);function tr(){return GD}const rS=new Ne(Y.comparator);function zo(...t){let e=rS;for(const n of t)e=e.insert(n.key,n);return e}function iS(t){let e=rS;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function mi(){return ta()}function sS(){return ta()}function ta(){return new ji(t=>t.toString(),(t,e)=>t.isEqual(e))}const QD=new Ne(Y.comparator),YD=new qe(Y.comparator);function le(...t){let e=YD;for(const n of t)e=e.add(n);return e}const XD=new qe(ie);function JD(){return XD}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ym(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Yu(e)?"-0":e}}function oS(t){return{integerValue:""+t}}function ZD(t,e){return AD(e)?oS(e):ym(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qc{constructor(){this._=void 0}}function eO(t,e,n){return t instanceof tc?function(i,s){const o={fields:{[z1]:{stringValue:U1},[$1]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&fm(s)&&(s=Bc(s)),s&&(o.fields[B1]=s),{mapValue:o}}(n,e):t instanceof Na?lS(t,e):t instanceof Da?uS(t,e):function(i,s){const o=aS(i,s),a=h_(o)+h_(i.Re);return Df(o)&&Df(i.Re)?oS(a):ym(i.serializer,a)}(t,e)}function tO(t,e,n){return t instanceof Na?lS(t,e):t instanceof Da?uS(t,e):n}function aS(t,e){return t instanceof nc?function(r){return Df(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}class tc extends qc{}class Na extends qc{constructor(e){super(),this.elements=e}}function lS(t,e){const n=cS(e);for(const r of t.elements)n.some(i=>Dn(i,r))||n.push(r);return{arrayValue:{values:n}}}class Da extends qc{constructor(e){super(),this.elements=e}}function uS(t,e){let n=cS(e);for(const r of t.elements)n=n.filter(i=>!Dn(i,r));return{arrayValue:{values:n}}}class nc extends qc{constructor(e,n){super(),this.serializer=e,this.Re=n}}function h_(t){return Fe(t.integerValue||t.doubleValue)}function cS(t){return pm(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function nO(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof Na&&i instanceof Na||r instanceof Da&&i instanceof Da?qs(r.elements,i.elements,Dn):r instanceof nc&&i instanceof nc?Dn(r.Re,i.Re):r instanceof tc&&i instanceof tc}(t.transform,e.transform)}class rO{constructor(e,n){this.version=e,this.transformResults=n}}class bn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new bn}static exists(e){return new bn(void 0,e)}static updateTime(e){return new bn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function fu(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Kc{}function dS(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new vm(t.key,bn.none()):new qa(t.key,t.data,bn.none());{const n=t.data,r=Kt.empty();let i=new qe(Ze.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new Ui(t.key,r,new un(i.toArray()),bn.none())}}function iO(t,e,n){t instanceof qa?function(i,s,o){const a=i.value.clone(),u=p_(i.fieldTransforms,s,o.transformResults);a.setAll(u),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof Ui?function(i,s,o){if(!fu(i.precondition,s))return void s.convertToUnknownDocument(o.version);const a=p_(i.fieldTransforms,s,o.transformResults),u=s.data;u.setAll(hS(i)),u.setAll(a),s.convertToFoundDocument(o.version,u).setHasCommittedMutations()}(t,e,n):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function na(t,e,n,r){return t instanceof qa?function(s,o,a,u){if(!fu(s.precondition,o))return a;const c=s.value.clone(),h=m_(s.fieldTransforms,u,o);return c.setAll(h),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),null}(t,e,n,r):t instanceof Ui?function(s,o,a,u){if(!fu(s.precondition,o))return a;const c=m_(s.fieldTransforms,u,o),h=o.data;return h.setAll(hS(s)),h.setAll(c),o.convertToFoundDocument(o.version,h).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(f=>f.field))}(t,e,n,r):function(s,o,a){return fu(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function sO(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=aS(r.transform,i||null);s!=null&&(n===null&&(n=Kt.empty()),n.set(r.field,s))}return n||null}function f_(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&qs(r,i,(s,o)=>nO(s,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class qa extends Kc{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Ui extends Kc{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function hS(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function p_(t,e,n){const r=new Map;me(t.length===n.length,32656,{Ve:n.length,me:t.length});for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,tO(o,a,n[i]))}return r}function m_(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,eO(s,o,e))}return r}class vm extends Kc{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class oO extends Kc{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aO{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&iO(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=na(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=na(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=sS();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;const u=dS(o,a);u!==null&&r.set(i.key,u),o.isValidDocument()||o.convertToNoDocument(J.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),le())}isEqual(e){return this.batchId===e.batchId&&qs(this.mutations,e.mutations,(n,r)=>f_(n,r))&&qs(this.baseMutations,e.baseMutations,(n,r)=>f_(n,r))}}class _m{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){me(e.mutations.length===r.length,58842,{fe:e.mutations.length,ge:r.length});let i=function(){return QD}();const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new _m(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let lO=class{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uO{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ue,ue;function cO(t){switch(t){case z.OK:return X(64938);case z.CANCELLED:case z.UNKNOWN:case z.DEADLINE_EXCEEDED:case z.RESOURCE_EXHAUSTED:case z.INTERNAL:case z.UNAVAILABLE:case z.UNAUTHENTICATED:return!1;case z.INVALID_ARGUMENT:case z.NOT_FOUND:case z.ALREADY_EXISTS:case z.PERMISSION_DENIED:case z.FAILED_PRECONDITION:case z.ABORTED:case z.OUT_OF_RANGE:case z.UNIMPLEMENTED:case z.DATA_LOSS:return!0;default:return X(15467,{code:t})}}function fS(t){if(t===void 0)return er("GRPC error has no .code"),z.UNKNOWN;switch(t){case Ue.OK:return z.OK;case Ue.CANCELLED:return z.CANCELLED;case Ue.UNKNOWN:return z.UNKNOWN;case Ue.DEADLINE_EXCEEDED:return z.DEADLINE_EXCEEDED;case Ue.RESOURCE_EXHAUSTED:return z.RESOURCE_EXHAUSTED;case Ue.INTERNAL:return z.INTERNAL;case Ue.UNAVAILABLE:return z.UNAVAILABLE;case Ue.UNAUTHENTICATED:return z.UNAUTHENTICATED;case Ue.INVALID_ARGUMENT:return z.INVALID_ARGUMENT;case Ue.NOT_FOUND:return z.NOT_FOUND;case Ue.ALREADY_EXISTS:return z.ALREADY_EXISTS;case Ue.PERMISSION_DENIED:return z.PERMISSION_DENIED;case Ue.FAILED_PRECONDITION:return z.FAILED_PRECONDITION;case Ue.ABORTED:return z.ABORTED;case Ue.OUT_OF_RANGE:return z.OUT_OF_RANGE;case Ue.UNIMPLEMENTED:return z.UNIMPLEMENTED;case Ue.DATA_LOSS:return z.DATA_LOSS;default:return X(39323,{code:t})}}(ue=Ue||(Ue={}))[ue.OK=0]="OK",ue[ue.CANCELLED=1]="CANCELLED",ue[ue.UNKNOWN=2]="UNKNOWN",ue[ue.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ue[ue.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ue[ue.NOT_FOUND=5]="NOT_FOUND",ue[ue.ALREADY_EXISTS=6]="ALREADY_EXISTS",ue[ue.PERMISSION_DENIED=7]="PERMISSION_DENIED",ue[ue.UNAUTHENTICATED=16]="UNAUTHENTICATED",ue[ue.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ue[ue.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ue[ue.ABORTED=10]="ABORTED",ue[ue.OUT_OF_RANGE=11]="OUT_OF_RANGE",ue[ue.UNIMPLEMENTED=12]="UNIMPLEMENTED",ue[ue.INTERNAL=13]="INTERNAL",ue[ue.UNAVAILABLE=14]="UNAVAILABLE",ue[ue.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dO=new Mr([4294967295,4294967295],0);function g_(t){const e=V1().encode(t),n=new R1;return n.update(e),new Uint8Array(n.digest())}function y_(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new Mr([n,r],0),new Mr([i,s],0)]}class wm{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Bo(`Invalid padding: ${n}`);if(r<0)throw new Bo(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Bo(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Bo(`Invalid padding when bitmap length is 0: ${n}`);this.pe=8*e.length-n,this.ye=Mr.fromNumber(this.pe)}we(e,n,r){let i=e.add(n.multiply(Mr.fromNumber(r)));return i.compare(dO)===1&&(i=new Mr([i.getBits(0),i.getBits(1)],0)),i.modulo(this.ye).toNumber()}be(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.pe===0)return!1;const n=g_(e),[r,i]=y_(n);for(let s=0;s<this.hashCount;s++){const o=this.we(r,i,s);if(!this.be(o))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new wm(s,i,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.pe===0)return;const n=g_(e),[r,i]=y_(n);for(let s=0;s<this.hashCount;s++){const o=this.we(r,i,s);this.Se(o)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Bo extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gc{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,Ka.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Gc(J.min(),i,new Ne(ie),tr(),le())}}class Ka{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Ka(r,n,le(),le(),le())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pu{constructor(e,n,r,i){this.De=e,this.removedTargetIds=n,this.key=r,this.ve=i}}class pS{constructor(e,n){this.targetId=e,this.Ce=n}}class mS{constructor(e,n,r=nt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class v_{constructor(){this.Fe=0,this.Me=__(),this.xe=nt.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(e){e.approximateByteSize()>0&&(this.Ne=!0,this.xe=e)}qe(){let e=le(),n=le(),r=le();return this.Me.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:X(38017,{changeType:s})}}),new Ka(this.xe,this.Oe,e,n,r)}Qe(){this.Ne=!1,this.Me=__()}$e(e,n){this.Ne=!0,this.Me=this.Me.insert(e,n)}Ue(e){this.Ne=!0,this.Me=this.Me.remove(e)}Ke(){this.Fe+=1}We(){this.Fe-=1,me(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class hO{constructor(e){this.ze=e,this.je=new Map,this.He=tr(),this.Je=Ul(),this.Ye=Ul(),this.Ze=new Ne(ie)}Xe(e){for(const n of e.De)e.ve&&e.ve.isFoundDocument()?this.et(n,e.ve):this.tt(n,e.key,e.ve);for(const n of e.removedTargetIds)this.tt(n,e.key,e.ve)}nt(e){this.forEachTarget(e,n=>{const r=this.rt(n);switch(e.state){case 0:this.it(n)&&r.ke(e.resumeToken);break;case 1:r.We(),r.Be||r.Qe(),r.ke(e.resumeToken);break;case 2:r.We(),r.Be||this.removeTarget(n);break;case 3:this.it(n)&&(r.Ge(),r.ke(e.resumeToken));break;case 4:this.it(n)&&(this.st(n),r.ke(e.resumeToken));break;default:X(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.je.forEach((r,i)=>{this.it(i)&&n(i)})}ot(e){const n=e.targetId,r=e.Ce.count,i=this._t(n);if(i){const s=i.target;if(Vf(s))if(r===0){const o=new Y(s.path);this.tt(n,o,ft.newNoDocument(o,J.min()))}else me(r===1,20013,{expectedCount:r});else{const o=this.ut(n);if(o!==r){const a=this.ct(e),u=a?this.lt(a,e,o):1;if(u!==0){this.st(n);const c=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,c)}}}}}ct(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n;let o,a;try{o=Qr(r).toUint8Array()}catch(u){if(u instanceof j1)return Ws("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{a=new wm(o,i,s)}catch(u){return Ws(u instanceof Bo?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return a.pe===0?null:a}lt(e,n,r){return n.Ce.count===r-this.Tt(e,n.targetId)?0:2}Tt(e,n){const r=this.ze.getRemoteKeysForTarget(n);let i=0;return r.forEach(s=>{const o=this.ze.Pt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(a)||(this.tt(n,s,null),i++)}),i}It(e){const n=new Map;this.je.forEach((s,o)=>{const a=this._t(o);if(a){if(s.current&&Vf(a.target)){const u=new Y(a.target.path);this.Et(u).has(o)||this.dt(o,u)||this.tt(o,u,ft.newNoDocument(u,e))}s.Le&&(n.set(o,s.qe()),s.Qe())}});let r=le();this.Ye.forEach((s,o)=>{let a=!0;o.forEachWhile(u=>{const c=this._t(u);return!c||c.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(s))}),this.He.forEach((s,o)=>o.setReadTime(e));const i=new Gc(e,n,this.Ze,this.He,r);return this.He=tr(),this.Je=Ul(),this.Ye=Ul(),this.Ze=new Ne(ie),i}et(e,n){if(!this.it(e))return;const r=this.dt(e,n.key)?2:0;this.rt(e).$e(n.key,r),this.He=this.He.insert(n.key,n),this.Je=this.Je.insert(n.key,this.Et(n.key).add(e)),this.Ye=this.Ye.insert(n.key,this.At(n.key).add(e))}tt(e,n,r){if(!this.it(e))return;const i=this.rt(e);this.dt(e,n)?i.$e(n,1):i.Ue(n),this.Ye=this.Ye.insert(n,this.At(n).delete(e)),this.Ye=this.Ye.insert(n,this.At(n).add(e)),r&&(this.He=this.He.insert(n,r))}removeTarget(e){this.je.delete(e)}ut(e){const n=this.rt(e).qe();return this.ze.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ke(e){this.rt(e).Ke()}rt(e){let n=this.je.get(e);return n||(n=new v_,this.je.set(e,n)),n}At(e){let n=this.Ye.get(e);return n||(n=new qe(ie),this.Ye=this.Ye.insert(e,n)),n}Et(e){let n=this.Je.get(e);return n||(n=new qe(ie),this.Je=this.Je.insert(e,n)),n}it(e){const n=this._t(e)!==null;return n||q("WatchChangeAggregator","Detected inactive target",e),n}_t(e){const n=this.je.get(e);return n&&n.Be?null:this.ze.Rt(e)}st(e){this.je.set(e,new v_),this.ze.getRemoteKeysForTarget(e).forEach(n=>{this.tt(e,n,null)})}dt(e,n){return this.ze.getRemoteKeysForTarget(e).has(n)}}function Ul(){return new Ne(Y.comparator)}function __(){return new Ne(Y.comparator)}const fO={asc:"ASCENDING",desc:"DESCENDING"},pO={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},mO={and:"AND",or:"OR"};class gO{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Lf(t,e){return t.useProto3Json||zc(e)?e:{value:e}}function rc(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function gS(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function yO(t,e){return rc(t,e.toTimestamp())}function kn(t){return me(!!t,49232),J.fromTimestamp(function(n){const r=Gr(n);return new We(r.seconds,r.nanos)}(t))}function Em(t,e){return Ff(t,e).canonicalString()}function Ff(t,e){const n=function(i){return new Re(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function yS(t){const e=Re.fromString(t);return me(TS(e),10190,{key:e.toString()}),e}function jf(t,e){return Em(t.databaseId,e.path)}function uh(t,e){const n=yS(e);if(n.get(1)!==t.databaseId.projectId)throw new Q(z.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Q(z.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Y(_S(n))}function vS(t,e){return Em(t.databaseId,e)}function vO(t){const e=yS(t);return e.length===4?Re.emptyPath():_S(e)}function Uf(t){return new Re(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function _S(t){return me(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function w_(t,e,n){return{name:jf(t,e),fields:n.value.mapValue.fields}}function _O(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:X(39313,{state:c})}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(c,h){return c.useProto3Json?(me(h===void 0||typeof h=="string",58123),nt.fromBase64String(h||"")):(me(h===void 0||h instanceof Buffer||h instanceof Uint8Array,16193),nt.fromUint8Array(h||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(c){const h=c.code===void 0?z.UNKNOWN:fS(c.code);return new Q(h,c.message||"")}(o);n=new mS(r,i,s,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=uh(t,r.document.name),s=kn(r.document.updateTime),o=r.document.createTime?kn(r.document.createTime):J.min(),a=new Kt({mapValue:{fields:r.document.fields}}),u=ft.newFoundDocument(i,s,o,a),c=r.targetIds||[],h=r.removedTargetIds||[];n=new pu(c,h,u.key,u)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=uh(t,r.document),s=r.readTime?kn(r.readTime):J.min(),o=ft.newNoDocument(i,s),a=r.removedTargetIds||[];n=new pu([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=uh(t,r.document),s=r.removedTargetIds||[];n=new pu([],s,i,null)}else{if(!("filter"in e))return X(11601,{Vt:e});{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,o=new uO(i,s),a=r.targetId;n=new pS(a,o)}}return n}function wO(t,e){let n;if(e instanceof qa)n={update:w_(t,e.key,e.value)};else if(e instanceof vm)n={delete:jf(t,e.key)};else if(e instanceof Ui)n={update:w_(t,e.key,e.data),updateMask:PO(e.fieldMask)};else{if(!(e instanceof oO))return X(16599,{ft:e.type});n={verify:jf(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,o){const a=o.transform;if(a instanceof tc)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Na)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Da)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof nc)return{fieldPath:o.field.canonicalString(),increment:a.Re};throw X(20930,{transform:o.transform})}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:yO(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:X(27497)}(t,e.precondition)),n}function EO(t,e){return t&&t.length>0?(me(e!==void 0,14353),t.map(n=>function(i,s){let o=i.updateTime?kn(i.updateTime):kn(s);return o.isEqual(J.min())&&(o=kn(s)),new rO(o,i.transformResults||[])}(n,e))):[]}function TO(t,e){return{documents:[vS(t,e.path)]}}function SO(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=vS(t,i);const s=function(c){if(c.length!==0)return ES(On.create(c,"and"))}(e.filters);s&&(n.structuredQuery.where=s);const o=function(c){if(c.length!==0)return c.map(h=>function(m){return{field:es(m.field),direction:AO(m.dir)}}(h))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const a=Lf(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(c){return{before:c.inclusive,values:c.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(e.endAt)),{gt:n,parent:i}}function xO(t){let e=vO(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){me(r===1,65062);const h=n.from[0];h.allDescendants?i=h.collectionId:e=e.child(h.collectionId)}let s=[];n.where&&(s=function(f){const m=wS(f);return m instanceof On&&Y1(m)?m.getFilters():[m]}(n.where));let o=[];n.orderBy&&(o=function(f){return f.map(m=>function(A){return new ec(ts(A.field),function(E){switch(E){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(A.direction))}(m))}(n.orderBy));let a=null;n.limit&&(a=function(f){let m;return m=typeof f=="object"?f.value:f,zc(m)?null:m}(n.limit));let u=null;n.startAt&&(u=function(f){const m=!!f.before,_=f.values||[];return new Zu(_,m)}(n.startAt));let c=null;return n.endAt&&(c=function(f){const m=!f.before,_=f.values||[];return new Zu(_,m)}(n.endAt)),$D(e,i,o,s,a,"F",u,c)}function CO(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return X(28987,{purpose:i})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function wS(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=ts(n.unaryFilter.field);return $e.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=ts(n.unaryFilter.field);return $e.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=ts(n.unaryFilter.field);return $e.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=ts(n.unaryFilter.field);return $e.create(o,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return X(61313);default:return X(60726)}}(t):t.fieldFilter!==void 0?function(n){return $e.create(ts(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return X(58110);default:return X(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return On.create(n.compositeFilter.filters.map(r=>wS(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return X(1026)}}(n.compositeFilter.op))}(t):X(30097,{filter:t})}function AO(t){return fO[t]}function RO(t){return pO[t]}function IO(t){return mO[t]}function es(t){return{fieldPath:t.canonicalString()}}function ts(t){return Ze.fromServerFormat(t.fieldPath)}function ES(t){return t instanceof $e?function(n){if(n.op==="=="){if(a_(n.value))return{unaryFilter:{field:es(n.field),op:"IS_NAN"}};if(o_(n.value))return{unaryFilter:{field:es(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(a_(n.value))return{unaryFilter:{field:es(n.field),op:"IS_NOT_NAN"}};if(o_(n.value))return{unaryFilter:{field:es(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:es(n.field),op:RO(n.op),value:n.value}}}(t):t instanceof On?function(n){const r=n.getFilters().map(i=>ES(i));return r.length===1?r[0]:{compositeFilter:{op:IO(n.op),filters:r}}}(t):X(54877,{filter:t})}function PO(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function TS(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xr{constructor(e,n,r,i,s=J.min(),o=J.min(),a=nt.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=u}withSequenceNumber(e){return new xr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new xr(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new xr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new xr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bO{constructor(e){this.wt=e}}function kO(t){const e=xO({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Mf(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NO{constructor(){this.yn=new DO}addToCollectionParentIndex(e,n){return this.yn.add(n),j.resolve()}getCollectionParents(e,n){return j.resolve(this.yn.getEntries(n))}addFieldIndex(e,n){return j.resolve()}deleteFieldIndex(e,n){return j.resolve()}deleteAllFieldIndexes(e){return j.resolve()}createTargetIndexes(e,n){return j.resolve()}getDocumentsMatchingTarget(e,n){return j.resolve(null)}getIndexType(e,n){return j.resolve(0)}getFieldIndexes(e,n){return j.resolve([])}getNextCollectionGroupToUpdate(e){return j.resolve(null)}getMinOffset(e,n){return j.resolve(Kr.min())}getMinOffsetFromCollectionGroup(e,n){return j.resolve(Kr.min())}updateCollectionGroup(e,n,r){return j.resolve()}updateIndexEntries(e,n){return j.resolve()}}class DO{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new qe(Re.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new qe(Re.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E_={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},SS=41943040;class At{static withCacheSize(e){return new At(e,At.DEFAULT_COLLECTION_PERCENTILE,At.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */At.DEFAULT_COLLECTION_PERCENTILE=10,At.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,At.DEFAULT=new At(SS,At.DEFAULT_COLLECTION_PERCENTILE,At.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),At.DISABLED=new At(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qs{constructor(e){this.nr=e}next(){return this.nr+=2,this.nr}static rr(){return new Qs(0)}static ir(){return new Qs(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T_="LruGarbageCollector",OO=1048576;function S_([t,e],[n,r]){const i=ie(t,n);return i===0?ie(e,r):i}class VO{constructor(e){this.cr=e,this.buffer=new qe(S_),this.lr=0}hr(){return++this.lr}Pr(e){const n=[e,this.hr()];if(this.buffer.size<this.cr)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();S_(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class MO{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Tr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ir(6e4)}stop(){this.Tr&&(this.Tr.cancel(),this.Tr=null)}get started(){return this.Tr!==null}Ir(e){q(T_,`Garbage collection scheduled in ${e}ms`),this.Tr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Tr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){lo(n)?q(T_,"Ignoring IndexedDB error during garbage collection: ",n):await ao(n)}await this.Ir(3e5)})}}class LO{constructor(e,n){this.Er=e,this.params=n}calculateTargetCount(e,n){return this.Er.dr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return j.resolve(Uc.le);const r=new VO(n);return this.Er.forEachTarget(e,i=>r.Pr(i.sequenceNumber)).next(()=>this.Er.Ar(e,i=>r.Pr(i))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.Er.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.Er.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(q("LruGarbageCollector","Garbage collection skipped; disabled"),j.resolve(E_)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(q("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),E_):this.Rr(e,n))}getCacheSize(e){return this.Er.getCacheSize(e)}Rr(e,n){let r,i,s,o,a,u,c;const h=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(f=>(f>this.params.maximumSequenceNumbersToCollect?(q("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${f}`),i=this.params.maximumSequenceNumbersToCollect):i=f,o=Date.now(),this.nthSequenceNumber(e,i))).next(f=>(r=f,a=Date.now(),this.removeTargets(e,r,n))).next(f=>(s=f,u=Date.now(),this.removeOrphanedDocuments(e,r))).next(f=>(c=Date.now(),Ji()<=ce.DEBUG&&q("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-h}ms
	Determined least recently used ${i} in `+(a-o)+`ms
	Removed ${s} targets in `+(u-a)+`ms
	Removed ${f} documents in `+(c-u)+`ms
Total Duration: ${c-h}ms`),j.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:s,documentsRemoved:f})))}}function FO(t,e){return new LO(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jO{constructor(){this.changes=new ji(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,ft.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?j.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UO{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zO{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&na(r.mutation,i,un.empty(),We.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,le()).next(()=>r))}getLocalViewOfDocuments(e,n,r=le()){const i=mi();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=zo();return s.forEach((a,u)=>{o=o.insert(a,u.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=mi();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,le()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,i){let s=tr();const o=ta(),a=function(){return ta()}();return n.forEach((u,c)=>{const h=r.get(c.key);i.has(c.key)&&(h===void 0||h.mutation instanceof Ui)?s=s.insert(c.key,c):h!==void 0?(o.set(c.key,h.mutation.getFieldMask()),na(h.mutation,c,h.mutation.getFieldMask(),We.now())):o.set(c.key,un.empty())}),this.recalculateAndSaveOverlays(e,s).next(u=>(u.forEach((c,h)=>o.set(c,h)),n.forEach((c,h)=>{var f;return a.set(c,new UO(h,(f=o.get(c))!==null&&f!==void 0?f:null))}),a))}recalculateAndSaveOverlays(e,n){const r=ta();let i=new Ne((o,a)=>o-a),s=le();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(u=>{const c=n.get(u);if(c===null)return;let h=r.get(u)||un.empty();h=a.applyToLocalView(c,h),r.set(u,h);const f=(i.get(a.batchId)||le()).add(u);i=i.insert(a.batchId,f)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const u=a.getNext(),c=u.key,h=u.value,f=sS();h.forEach(m=>{if(!s.has(m)){const _=dS(n.get(m),r.get(m));_!==null&&f.set(m,_),s=s.add(m)}}),o.push(this.documentOverlayCache.saveOverlays(e,c,f))}return j.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(o){return Y.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):HD(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):j.resolve(mi());let a=Ia,u=s;return o.next(c=>j.forEach(c,(h,f)=>(a<f.largestBatchId&&(a=f.largestBatchId),s.get(h)?j.resolve():this.remoteDocumentCache.getEntry(e,h).next(m=>{u=u.insert(h,m)}))).next(()=>this.populateOverlays(e,c,s)).next(()=>this.computeViews(e,u,c,le())).next(h=>({batchId:a,changes:iS(h)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Y(n)).next(r=>{let i=zo();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const s=n.collectionGroup;let o=zo();return this.indexManager.getCollectionParents(e,s).next(a=>j.forEach(a,u=>{const c=function(f,m){return new $c(m,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt)}(n,u.child(s));return this.getDocumentsMatchingCollectionQuery(e,c,r,i).next(h=>{h.forEach((f,m)=>{o=o.insert(f,m)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(o=>{s.forEach((u,c)=>{const h=c.getKey();o.get(h)===null&&(o=o.insert(h,ft.newInvalidDocument(h)))});let a=zo();return o.forEach((u,c)=>{const h=s.get(u);h!==void 0&&na(h.mutation,c,un.empty(),We.now()),Wc(n,c)&&(a=a.insert(u,c))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BO{constructor(e){this.serializer=e,this.Fr=new Map,this.Mr=new Map}getBundleMetadata(e,n){return j.resolve(this.Fr.get(n))}saveBundleMetadata(e,n){return this.Fr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:kn(i.createTime)}}(n)),j.resolve()}getNamedQuery(e,n){return j.resolve(this.Mr.get(n))}saveNamedQuery(e,n){return this.Mr.set(n.name,function(i){return{name:i.name,query:kO(i.bundledQuery),readTime:kn(i.readTime)}}(n)),j.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $O{constructor(){this.overlays=new Ne(Y.comparator),this.Or=new Map}getOverlay(e,n){return j.resolve(this.overlays.get(n))}getOverlays(e,n){const r=mi();return j.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.St(e,n,s)}),j.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.Or.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.Or.delete(r)),j.resolve()}getOverlaysForCollection(e,n,r){const i=mi(),s=n.length+1,o=new Y(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const u=a.getNext().value,c=u.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===s&&u.largestBatchId>r&&i.set(u.getKey(),u)}return j.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new Ne((c,h)=>c-h);const o=this.overlays.getIterator();for(;o.hasNext();){const c=o.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>r){let h=s.get(c.largestBatchId);h===null&&(h=mi(),s=s.insert(c.largestBatchId,h)),h.set(c.getKey(),c)}}const a=mi(),u=s.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((c,h)=>a.set(c,h)),!(a.size()>=i)););return j.resolve(a)}St(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.Or.get(i.largestBatchId).delete(r.key);this.Or.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new lO(n,r));let s=this.Or.get(n);s===void 0&&(s=le(),this.Or.set(n,s)),this.Or.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HO{constructor(){this.sessionToken=nt.EMPTY_BYTE_STRING}getSessionToken(e){return j.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,j.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tm{constructor(){this.Nr=new qe(Ke.Br),this.Lr=new qe(Ke.kr)}isEmpty(){return this.Nr.isEmpty()}addReference(e,n){const r=new Ke(e,n);this.Nr=this.Nr.add(r),this.Lr=this.Lr.add(r)}qr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Qr(new Ke(e,n))}$r(e,n){e.forEach(r=>this.removeReference(r,n))}Ur(e){const n=new Y(new Re([])),r=new Ke(n,e),i=new Ke(n,e+1),s=[];return this.Lr.forEachInRange([r,i],o=>{this.Qr(o),s.push(o.key)}),s}Kr(){this.Nr.forEach(e=>this.Qr(e))}Qr(e){this.Nr=this.Nr.delete(e),this.Lr=this.Lr.delete(e)}Wr(e){const n=new Y(new Re([])),r=new Ke(n,e),i=new Ke(n,e+1);let s=le();return this.Lr.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new Ke(e,0),r=this.Nr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Ke{constructor(e,n){this.key=e,this.Gr=n}static Br(e,n){return Y.comparator(e.key,n.key)||ie(e.Gr,n.Gr)}static kr(e,n){return ie(e.Gr,n.Gr)||Y.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WO{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Jn=1,this.zr=new qe(Ke.Br)}checkEmpty(e){return j.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.Jn;this.Jn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new aO(s,n,r,i);this.mutationQueue.push(o);for(const a of i)this.zr=this.zr.add(new Ke(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return j.resolve(o)}lookupMutationBatch(e,n){return j.resolve(this.jr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.Hr(r),s=i<0?0:i;return j.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return j.resolve(this.mutationQueue.length===0?hm:this.Jn-1)}getAllMutationBatches(e){return j.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Ke(n,0),i=new Ke(n,Number.POSITIVE_INFINITY),s=[];return this.zr.forEachInRange([r,i],o=>{const a=this.jr(o.Gr);s.push(a)}),j.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new qe(ie);return n.forEach(i=>{const s=new Ke(i,0),o=new Ke(i,Number.POSITIVE_INFINITY);this.zr.forEachInRange([s,o],a=>{r=r.add(a.Gr)})}),j.resolve(this.Jr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;Y.isDocumentKey(s)||(s=s.child(""));const o=new Ke(new Y(s),0);let a=new qe(ie);return this.zr.forEachWhile(u=>{const c=u.key.path;return!!r.isPrefixOf(c)&&(c.length===i&&(a=a.add(u.Gr)),!0)},o),j.resolve(this.Jr(a))}Jr(e){const n=[];return e.forEach(r=>{const i=this.jr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){me(this.Yr(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.zr;return j.forEach(n.mutations,i=>{const s=new Ke(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.zr=r})}Xn(e){}containsKey(e,n){const r=new Ke(n,0),i=this.zr.firstAfterOrEqual(r);return j.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,j.resolve()}Yr(e,n){return this.Hr(e)}Hr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}jr(e){const n=this.Hr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qO{constructor(e){this.Zr=e,this.docs=function(){return new Ne(Y.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.Zr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return j.resolve(r?r.document.mutableCopy():ft.newInvalidDocument(n))}getEntries(e,n){let r=tr();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():ft.newInvalidDocument(i))}),j.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=tr();const o=n.path,a=new Y(o.child("__id-9223372036854775808__")),u=this.docs.getIteratorFrom(a);for(;u.hasNext();){const{key:c,value:{document:h}}=u.getNext();if(!o.isPrefixOf(c.path))break;c.path.length>o.length+1||TD(ED(h),r)<=0||(i.has(h.key)||Wc(n,h))&&(s=s.insert(h.key,h.mutableCopy()))}return j.resolve(s)}getAllFromCollectionGroup(e,n,r,i){X(9500)}Xr(e,n){return j.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new KO(this)}getSize(e){return j.resolve(this.size)}}class KO extends jO{constructor(e){super(),this.vr=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.vr.addEntry(e,i)):this.vr.removeEntry(r)}),j.waitFor(n)}getFromCache(e,n){return this.vr.getEntry(e,n)}getAllFromCache(e,n){return this.vr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GO{constructor(e){this.persistence=e,this.ei=new ji(n=>mm(n),gm),this.lastRemoteSnapshotVersion=J.min(),this.highestTargetId=0,this.ti=0,this.ni=new Tm,this.targetCount=0,this.ri=Qs.rr()}forEachTarget(e,n){return this.ei.forEach((r,i)=>n(i)),j.resolve()}getLastRemoteSnapshotVersion(e){return j.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return j.resolve(this.ti)}allocateTargetId(e){return this.highestTargetId=this.ri.next(),j.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.ti&&(this.ti=n),j.resolve()}ar(e){this.ei.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ri=new Qs(n),this.highestTargetId=n),e.sequenceNumber>this.ti&&(this.ti=e.sequenceNumber)}addTargetData(e,n){return this.ar(n),this.targetCount+=1,j.resolve()}updateTargetData(e,n){return this.ar(n),j.resolve()}removeTargetData(e,n){return this.ei.delete(n.target),this.ni.Ur(n.targetId),this.targetCount-=1,j.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.ei.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.ei.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),j.waitFor(s).next(()=>i)}getTargetCount(e){return j.resolve(this.targetCount)}getTargetData(e,n){const r=this.ei.get(n)||null;return j.resolve(r)}addMatchingKeys(e,n,r){return this.ni.qr(n,r),j.resolve()}removeMatchingKeys(e,n,r){this.ni.$r(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),j.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.ni.Ur(n),j.resolve()}getMatchingKeysForTargetId(e,n){const r=this.ni.Wr(n);return j.resolve(r)}containsKey(e,n){return j.resolve(this.ni.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xS{constructor(e,n){this.ii={},this.overlays={},this.si=new Uc(0),this.oi=!1,this.oi=!0,this._i=new HO,this.referenceDelegate=e(this),this.ai=new GO(this),this.indexManager=new NO,this.remoteDocumentCache=function(i){return new qO(i)}(r=>this.referenceDelegate.ui(r)),this.serializer=new bO(n),this.ci=new BO(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.oi=!1,Promise.resolve()}get started(){return this.oi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new $O,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ii[e.toKey()];return r||(r=new WO(n,this.referenceDelegate),this.ii[e.toKey()]=r),r}getGlobalsCache(){return this._i}getTargetCache(){return this.ai}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.ci}runTransaction(e,n,r){q("MemoryPersistence","Starting transaction:",e);const i=new QO(this.si.next());return this.referenceDelegate.li(),r(i).next(s=>this.referenceDelegate.hi(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Pi(e,n){return j.or(Object.values(this.ii).map(r=>()=>r.containsKey(e,n)))}}class QO extends xD{constructor(e){super(),this.currentSequenceNumber=e}}class Sm{constructor(e){this.persistence=e,this.Ti=new Tm,this.Ii=null}static Ei(e){return new Sm(e)}get di(){if(this.Ii)return this.Ii;throw X(60996)}addReference(e,n,r){return this.Ti.addReference(r,n),this.di.delete(r.toString()),j.resolve()}removeReference(e,n,r){return this.Ti.removeReference(r,n),this.di.add(r.toString()),j.resolve()}markPotentiallyOrphaned(e,n){return this.di.add(n.toString()),j.resolve()}removeTarget(e,n){this.Ti.Ur(n.targetId).forEach(i=>this.di.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.di.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}li(){this.Ii=new Set}hi(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return j.forEach(this.di,r=>{const i=Y.fromPath(r);return this.Ai(e,i).next(s=>{s||n.removeEntry(i,J.min())})}).next(()=>(this.Ii=null,n.apply(e)))}updateLimboDocument(e,n){return this.Ai(e,n).next(r=>{r?this.di.delete(n.toString()):this.di.add(n.toString())})}ui(e){return 0}Ai(e,n){return j.or([()=>j.resolve(this.Ti.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Pi(e,n)])}}class ic{constructor(e,n){this.persistence=e,this.Ri=new ji(r=>RD(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=FO(this,n)}static Ei(e,n){return new ic(e,n)}li(){}hi(e){return j.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}dr(e){const n=this.Vr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(i=>r+i))}Vr(e){let n=0;return this.Ar(e,r=>{n++}).next(()=>n)}Ar(e,n){return j.forEach(this.Ri,(r,i)=>this.gr(e,r,i).next(s=>s?j.resolve():n(i)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const i=this.persistence.getRemoteDocumentCache(),s=i.newChangeBuffer();return i.Xr(e,o=>this.gr(e,o,n).next(a=>{a||(r++,s.removeEntry(o,J.min()))})).next(()=>s.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.Ri.set(n,e.currentSequenceNumber),j.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.Ri.set(r,e.currentSequenceNumber),j.resolve()}removeReference(e,n,r){return this.Ri.set(r,e.currentSequenceNumber),j.resolve()}updateLimboDocument(e,n){return this.Ri.set(n,e.currentSequenceNumber),j.resolve()}ui(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=du(e.data.value)),n}gr(e,n,r){return j.or([()=>this.persistence.Pi(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const i=this.Ri.get(n);return j.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xm{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.ls=r,this.hs=i}static Ps(e,n){let r=le(),i=le();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new xm(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YO{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XO{constructor(){this.Ts=!1,this.Is=!1,this.Es=100,this.ds=function(){return XN()?8:CD(QN())>0?6:4}()}initialize(e,n){this.As=e,this.indexManager=n,this.Ts=!0}getDocumentsMatchingQuery(e,n,r,i){const s={result:null};return this.Rs(e,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.Vs(e,n,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;const o=new YO;return this.fs(e,n,o).next(a=>{if(s.result=a,this.Is)return this.gs(e,n,o,a.size)})}).next(()=>s.result)}gs(e,n,r,i){return r.documentReadCount<this.Es?(Ji()<=ce.DEBUG&&q("QueryEngine","SDK will not create cache indexes for query:",Zi(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Es,"documents"),j.resolve()):(Ji()<=ce.DEBUG&&q("QueryEngine","Query:",Zi(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.ds*i?(Ji()<=ce.DEBUG&&q("QueryEngine","The SDK decides to create cache indexes for query:",Zi(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Pn(n))):j.resolve())}Rs(e,n){if(d_(n))return j.resolve(null);let r=Pn(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=Mf(n,null,"F"),r=Pn(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=le(...s);return this.As.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(u=>{const c=this.ps(n,a);return this.ys(n,c,o,u.readTime)?this.Rs(e,Mf(n,null,"F")):this.ws(e,c,n,u)}))})))}Vs(e,n,r,i){return d_(n)||i.isEqual(J.min())?j.resolve(null):this.As.getDocuments(e,r).next(s=>{const o=this.ps(n,s);return this.ys(n,o,r,i)?j.resolve(null):(Ji()<=ce.DEBUG&&q("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Zi(n)),this.ws(e,o,n,wD(i,Ia)).next(a=>a))})}ps(e,n){let r=new qe(nS(e));return n.forEach((i,s)=>{Wc(e,s)&&(r=r.add(s))}),r}ys(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}fs(e,n,r){return Ji()<=ce.DEBUG&&q("QueryEngine","Using full collection scan to execute query:",Zi(n)),this.As.getDocumentsMatchingQuery(e,n,Kr.min(),r)}ws(e,n,r,i){return this.As.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cm="LocalStore",JO=3e8;class ZO{constructor(e,n,r,i){this.persistence=e,this.bs=n,this.serializer=i,this.Ss=new Ne(ie),this.Ds=new ji(s=>mm(s),gm),this.vs=new Map,this.Cs=e.getRemoteDocumentCache(),this.ai=e.getTargetCache(),this.ci=e.getBundleCache(),this.Fs(r)}Fs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new zO(this.Cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Cs.setIndexManager(this.indexManager),this.bs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ss))}}function eV(t,e,n,r){return new ZO(t,e,n,r)}async function CS(t,e){const n=Z(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.Fs(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let u=le();for(const c of i){o.push(c.batchId);for(const h of c.mutations)u=u.add(h.key)}for(const c of s){a.push(c.batchId);for(const h of c.mutations)u=u.add(h.key)}return n.localDocuments.getDocuments(r,u).next(c=>({Ms:c,removedBatchIds:o,addedBatchIds:a}))})})}function tV(t,e){const n=Z(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.Cs.newChangeBuffer({trackRemovals:!0});return function(a,u,c,h){const f=c.batch,m=f.keys();let _=j.resolve();return m.forEach(A=>{_=_.next(()=>h.getEntry(u,A)).next(g=>{const E=c.docVersions.get(A);me(E!==null,48541),g.version.compareTo(E)<0&&(f.applyToRemoteDocument(g,c),g.isValidDocument()&&(g.setReadTime(c.commitVersion),h.addEntry(g)))})}),_.next(()=>a.mutationQueue.removeMutationBatch(u,f))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let u=le();for(let c=0;c<a.mutationResults.length;++c)a.mutationResults[c].transformResults.length>0&&(u=u.add(a.batch.mutations[c].key));return u}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function AS(t){const e=Z(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.ai.getLastRemoteSnapshotVersion(n))}function nV(t,e){const n=Z(t),r=e.snapshotVersion;let i=n.Ss;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.Cs.newChangeBuffer({trackRemovals:!0});i=n.Ss;const a=[];e.targetChanges.forEach((h,f)=>{const m=i.get(f);if(!m)return;a.push(n.ai.removeMatchingKeys(s,h.removedDocuments,f).next(()=>n.ai.addMatchingKeys(s,h.addedDocuments,f)));let _=m.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(f)!==null?_=_.withResumeToken(nt.EMPTY_BYTE_STRING,J.min()).withLastLimboFreeSnapshotVersion(J.min()):h.resumeToken.approximateByteSize()>0&&(_=_.withResumeToken(h.resumeToken,r)),i=i.insert(f,_),function(g,E,v){return g.resumeToken.approximateByteSize()===0||E.snapshotVersion.toMicroseconds()-g.snapshotVersion.toMicroseconds()>=JO?!0:v.addedDocuments.size+v.modifiedDocuments.size+v.removedDocuments.size>0}(m,_,h)&&a.push(n.ai.updateTargetData(s,_))});let u=tr(),c=le();if(e.documentUpdates.forEach(h=>{e.resolvedLimboDocuments.has(h)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,h))}),a.push(rV(s,o,e.documentUpdates).next(h=>{u=h.xs,c=h.Os})),!r.isEqual(J.min())){const h=n.ai.getLastRemoteSnapshotVersion(s).next(f=>n.ai.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(h)}return j.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,u,c)).next(()=>u)}).then(s=>(n.Ss=i,s))}function rV(t,e,n){let r=le(),i=le();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=tr();return n.forEach((a,u)=>{const c=s.get(a);u.isFoundDocument()!==c.isFoundDocument()&&(i=i.add(a)),u.isNoDocument()&&u.version.isEqual(J.min())?(e.removeEntry(a,u.readTime),o=o.insert(a,u)):!c.isValidDocument()||u.version.compareTo(c.version)>0||u.version.compareTo(c.version)===0&&c.hasPendingWrites?(e.addEntry(u),o=o.insert(a,u)):q(Cm,"Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",u.version)}),{xs:o,Os:i}})}function iV(t,e){const n=Z(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=hm),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function sV(t,e){const n=Z(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.ai.getTargetData(r,e).next(s=>s?(i=s,j.resolve(i)):n.ai.allocateTargetId(r).next(o=>(i=new xr(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.ai.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.Ss.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Ss=n.Ss.insert(r.targetId,r),n.Ds.set(e,r.targetId)),r})}async function zf(t,e,n){const r=Z(t),i=r.Ss.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!lo(o))throw o;q(Cm,`Failed to update sequence numbers for target ${e}: ${o}`)}r.Ss=r.Ss.remove(e),r.Ds.delete(i.target)}function x_(t,e,n){const r=Z(t);let i=J.min(),s=le();return r.persistence.runTransaction("Execute query","readwrite",o=>function(u,c,h){const f=Z(u),m=f.Ds.get(h);return m!==void 0?j.resolve(f.Ss.get(m)):f.ai.getTargetData(c,h)}(r,o,Pn(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.ai.getMatchingKeysForTargetId(o,a.targetId).next(u=>{s=u})}).next(()=>r.bs.getDocumentsMatchingQuery(o,e,n?i:J.min(),n?s:le())).next(a=>(oV(r,qD(e),a),{documents:a,Ns:s})))}function oV(t,e,n){let r=t.vs.get(e)||J.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.vs.set(e,r)}class C_{constructor(){this.activeTargetIds=JD()}$s(e){this.activeTargetIds=this.activeTargetIds.add(e)}Us(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Qs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class aV{constructor(){this.So=new C_,this.Do={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.So.$s(e),this.Do[e]||"not-current"}updateQueryState(e,n,r){this.Do[e]=n}removeLocalQueryTarget(e){this.So.Us(e)}isLocalQueryTarget(e){return this.So.activeTargetIds.has(e)}clearQueryState(e){delete this.Do[e]}getAllActiveQueryTargets(){return this.So.activeTargetIds}isActiveQueryTarget(e){return this.So.activeTargetIds.has(e)}start(){return this.So=new C_,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lV{vo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A_="ConnectivityMonitor";class R_{constructor(){this.Co=()=>this.Fo(),this.Mo=()=>this.xo(),this.Oo=[],this.No()}vo(e){this.Oo.push(e)}shutdown(){window.removeEventListener("online",this.Co),window.removeEventListener("offline",this.Mo)}No(){window.addEventListener("online",this.Co),window.addEventListener("offline",this.Mo)}Fo(){q(A_,"Network connectivity changed: AVAILABLE");for(const e of this.Oo)e(0)}xo(){q(A_,"Network connectivity changed: UNAVAILABLE");for(const e of this.Oo)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let zl=null;function Bf(){return zl===null?zl=function(){return 268435456+Math.round(2147483648*Math.random())}():zl++,"0x"+zl.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ch="RestConnection",uV={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class cV{get Bo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Lo=n+"://"+e.host,this.ko=`projects/${r}/databases/${i}`,this.qo=this.databaseId.database===Xu?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Qo(e,n,r,i,s){const o=Bf(),a=this.$o(e,n.toUriEncodedString());q(ch,`Sending RPC '${e}' ${o}:`,a,r);const u={"google-cloud-resource-prefix":this.ko,"x-goog-request-params":this.qo};this.Uo(u,i,s);const{host:c}=new URL(a),h=jc(c);return this.Ko(e,a,u,r,h).then(f=>(q(ch,`Received RPC '${e}' ${o}: `,f),f),f=>{throw Ws(ch,`RPC '${e}' ${o} failed with error: `,f,"url: ",a,"request:",r),f})}Wo(e,n,r,i,s,o){return this.Qo(e,n,r,i,s)}Uo(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+oo}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,s)=>e[s]=i),r&&r.headers.forEach((i,s)=>e[s]=i)}$o(e,n){const r=uV[e];return`${this.Lo}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dV{constructor(e){this.Go=e.Go,this.zo=e.zo}jo(e){this.Ho=e}Jo(e){this.Yo=e}Zo(e){this.Xo=e}onMessage(e){this.e_=e}close(){this.zo()}send(e){this.Go(e)}t_(){this.Ho()}n_(){this.Yo()}r_(e){this.Xo(e)}i_(e){this.e_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ut="WebChannelConnection";class hV extends cV{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ko(e,n,r,i,s){const o=Bf();return new Promise((a,u)=>{const c=new I1;c.setWithCredentials(!0),c.listenOnce(P1.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case cu.NO_ERROR:const f=c.getResponseJson();q(ut,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(f)),a(f);break;case cu.TIMEOUT:q(ut,`RPC '${e}' ${o} timed out`),u(new Q(z.DEADLINE_EXCEEDED,"Request time out"));break;case cu.HTTP_ERROR:const m=c.getStatus();if(q(ut,`RPC '${e}' ${o} failed with status:`,m,"response text:",c.getResponseText()),m>0){let _=c.getResponseJson();Array.isArray(_)&&(_=_[0]);const A=_==null?void 0:_.error;if(A&&A.status&&A.message){const g=function(v){const y=v.toLowerCase().replace(/_/g,"-");return Object.values(z).indexOf(y)>=0?y:z.UNKNOWN}(A.status);u(new Q(g,A.message))}else u(new Q(z.UNKNOWN,"Server responded with status "+c.getStatus()))}else u(new Q(z.UNAVAILABLE,"Connection failed."));break;default:X(9055,{s_:e,streamId:o,o_:c.getLastErrorCode(),__:c.getLastError()})}}finally{q(ut,`RPC '${e}' ${o} completed.`)}});const h=JSON.stringify(i);q(ut,`RPC '${e}' ${o} sending request:`,i),c.send(n,"POST",h,r,15)})}a_(e,n,r){const i=Bf(),s=[this.Lo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=N1(),a=k1(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(u.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(u.useFetchStreams=!0),this.Uo(u.initMessageHeaders,n,r),u.encodeInitMessageHeaders=!0;const h=s.join("");q(ut,`Creating RPC '${e}' stream ${i}: ${h}`,u);const f=o.createWebChannel(h,u);let m=!1,_=!1;const A=new dV({Go:E=>{_?q(ut,`Not sending because RPC '${e}' stream ${i} is closed:`,E):(m||(q(ut,`Opening RPC '${e}' stream ${i} transport.`),f.open(),m=!0),q(ut,`RPC '${e}' stream ${i} sending:`,E),f.send(E))},zo:()=>f.close()}),g=(E,v,y)=>{E.listen(v,T=>{try{y(T)}catch(P){setTimeout(()=>{throw P},0)}})};return g(f,Uo.EventType.OPEN,()=>{_||(q(ut,`RPC '${e}' stream ${i} transport opened.`),A.t_())}),g(f,Uo.EventType.CLOSE,()=>{_||(_=!0,q(ut,`RPC '${e}' stream ${i} transport closed`),A.r_())}),g(f,Uo.EventType.ERROR,E=>{_||(_=!0,Ws(ut,`RPC '${e}' stream ${i} transport errored. Name:`,E.name,"Message:",E.message),A.r_(new Q(z.UNAVAILABLE,"The operation could not be completed")))}),g(f,Uo.EventType.MESSAGE,E=>{var v;if(!_){const y=E.data[0];me(!!y,16349);const T=y,P=(T==null?void 0:T.error)||((v=T[0])===null||v===void 0?void 0:v.error);if(P){q(ut,`RPC '${e}' stream ${i} received error:`,P);const O=P.status;let V=function(R){const I=Ue[R];if(I!==void 0)return fS(I)}(O),x=P.message;V===void 0&&(V=z.INTERNAL,x="Unknown error status: "+O+" with message "+P.message),_=!0,A.r_(new Q(V,x)),f.close()}else q(ut,`RPC '${e}' stream ${i} received:`,y),A.i_(y)}}),g(a,b1.STAT_EVENT,E=>{E.stat===bf.PROXY?q(ut,`RPC '${e}' stream ${i} detected buffering proxy`):E.stat===bf.NOPROXY&&q(ut,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{A.n_()},0),A}}function dh(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qc(t){return new gO(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RS{constructor(e,n,r=1e3,i=1.5,s=6e4){this.bi=e,this.timerId=n,this.u_=r,this.c_=i,this.l_=s,this.h_=0,this.P_=null,this.T_=Date.now(),this.reset()}reset(){this.h_=0}I_(){this.h_=this.l_}E_(e){this.cancel();const n=Math.floor(this.h_+this.d_()),r=Math.max(0,Date.now()-this.T_),i=Math.max(0,n-r);i>0&&q("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.h_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.P_=this.bi.enqueueAfterDelay(this.timerId,i,()=>(this.T_=Date.now(),e())),this.h_*=this.c_,this.h_<this.u_&&(this.h_=this.u_),this.h_>this.l_&&(this.h_=this.l_)}A_(){this.P_!==null&&(this.P_.skipDelay(),this.P_=null)}cancel(){this.P_!==null&&(this.P_.cancel(),this.P_=null)}d_(){return(Math.random()-.5)*this.h_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I_="PersistentStream";class IS{constructor(e,n,r,i,s,o,a,u){this.bi=e,this.R_=r,this.V_=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=u,this.state=0,this.m_=0,this.f_=null,this.g_=null,this.stream=null,this.p_=0,this.y_=new RS(e,n)}w_(){return this.state===1||this.state===5||this.b_()}b_(){return this.state===2||this.state===3}start(){this.p_=0,this.state!==4?this.auth():this.S_()}async stop(){this.w_()&&await this.close(0)}D_(){this.state=0,this.y_.reset()}v_(){this.b_()&&this.f_===null&&(this.f_=this.bi.enqueueAfterDelay(this.R_,6e4,()=>this.C_()))}F_(e){this.M_(),this.stream.send(e)}async C_(){if(this.b_())return this.close(0)}M_(){this.f_&&(this.f_.cancel(),this.f_=null)}x_(){this.g_&&(this.g_.cancel(),this.g_=null)}async close(e,n){this.M_(),this.x_(),this.y_.cancel(),this.m_++,e!==4?this.y_.reset():n&&n.code===z.RESOURCE_EXHAUSTED?(er(n.toString()),er("Using maximum backoff delay to prevent overloading the backend."),this.y_.I_()):n&&n.code===z.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.O_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Zo(n)}O_(){}auth(){this.state=1;const e=this.N_(this.m_),n=this.m_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.m_===n&&this.B_(r,i)},r=>{e(()=>{const i=new Q(z.UNKNOWN,"Fetching auth token failed: "+r.message);return this.L_(i)})})}B_(e,n){const r=this.N_(this.m_);this.stream=this.k_(e,n),this.stream.jo(()=>{r(()=>this.listener.jo())}),this.stream.Jo(()=>{r(()=>(this.state=2,this.g_=this.bi.enqueueAfterDelay(this.V_,1e4,()=>(this.b_()&&(this.state=3),Promise.resolve())),this.listener.Jo()))}),this.stream.Zo(i=>{r(()=>this.L_(i))}),this.stream.onMessage(i=>{r(()=>++this.p_==1?this.q_(i):this.onNext(i))})}S_(){this.state=5,this.y_.E_(async()=>{this.state=0,this.start()})}L_(e){return q(I_,`close with error: ${e}`),this.stream=null,this.close(4,e)}N_(e){return n=>{this.bi.enqueueAndForget(()=>this.m_===e?n():(q(I_,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class fV extends IS{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}k_(e,n){return this.connection.a_("Listen",e,n)}q_(e){return this.onNext(e)}onNext(e){this.y_.reset();const n=_O(this.serializer,e),r=function(s){if(!("targetChange"in s))return J.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?J.min():o.readTime?kn(o.readTime):J.min()}(e);return this.listener.Q_(n,r)}U_(e){const n={};n.database=Uf(this.serializer),n.addTarget=function(s,o){let a;const u=o.target;if(a=Vf(u)?{documents:TO(s,u)}:{query:SO(s,u).gt},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=gS(s,o.resumeToken);const c=Lf(s,o.expectedCount);c!==null&&(a.expectedCount=c)}else if(o.snapshotVersion.compareTo(J.min())>0){a.readTime=rc(s,o.snapshotVersion.toTimestamp());const c=Lf(s,o.expectedCount);c!==null&&(a.expectedCount=c)}return a}(this.serializer,e);const r=CO(this.serializer,e);r&&(n.labels=r),this.F_(n)}K_(e){const n={};n.database=Uf(this.serializer),n.removeTarget=e,this.F_(n)}}class pV extends IS{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}get W_(){return this.p_>0}start(){this.lastStreamToken=void 0,super.start()}O_(){this.W_&&this.G_([])}k_(e,n){return this.connection.a_("Write",e,n)}q_(e){return me(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,me(!e.writeResults||e.writeResults.length===0,55816),this.listener.z_()}onNext(e){me(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.y_.reset();const n=EO(e.writeResults,e.commitTime),r=kn(e.commitTime);return this.listener.j_(r,n)}H_(){const e={};e.database=Uf(this.serializer),this.F_(e)}G_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>wO(this.serializer,r))};this.F_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mV{}class gV extends mV{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.J_=!1}Y_(){if(this.J_)throw new Q(z.FAILED_PRECONDITION,"The client has already been terminated.")}Qo(e,n,r,i){return this.Y_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Qo(e,Ff(n,r),i,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new Q(z.UNKNOWN,s.toString())})}Wo(e,n,r,i,s){return this.Y_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Wo(e,Ff(n,r),i,o,a,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Q(z.UNKNOWN,o.toString())})}terminate(){this.J_=!0,this.connection.terminate()}}class yV{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.Z_=0,this.X_=null,this.ea=!0}ta(){this.Z_===0&&(this.na("Unknown"),this.X_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.X_=null,this.ra("Backend didn't respond within 10 seconds."),this.na("Offline"),Promise.resolve())))}ia(e){this.state==="Online"?this.na("Unknown"):(this.Z_++,this.Z_>=1&&(this.sa(),this.ra(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.na("Offline")))}set(e){this.sa(),this.Z_=0,e==="Online"&&(this.ea=!1),this.na(e)}na(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ra(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ea?(er(n),this.ea=!1):q("OnlineStateTracker",n)}sa(){this.X_!==null&&(this.X_.cancel(),this.X_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bi="RemoteStore";class vV{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.oa=[],this._a=new Map,this.aa=new Set,this.ua=[],this.ca=s,this.ca.vo(o=>{r.enqueueAndForget(async()=>{zi(this)&&(q(bi,"Restarting streams for network reachability change."),await async function(u){const c=Z(u);c.aa.add(4),await Ga(c),c.la.set("Unknown"),c.aa.delete(4),await Yc(c)}(this))})}),this.la=new yV(r,i)}}async function Yc(t){if(zi(t))for(const e of t.ua)await e(!0)}async function Ga(t){for(const e of t.ua)await e(!1)}function PS(t,e){const n=Z(t);n._a.has(e.targetId)||(n._a.set(e.targetId,e),Pm(n)?Im(n):uo(n).b_()&&Rm(n,e))}function Am(t,e){const n=Z(t),r=uo(n);n._a.delete(e),r.b_()&&bS(n,e),n._a.size===0&&(r.b_()?r.v_():zi(n)&&n.la.set("Unknown"))}function Rm(t,e){if(t.ha.Ke(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(J.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}uo(t).U_(e)}function bS(t,e){t.ha.Ke(e),uo(t).K_(e)}function Im(t){t.ha=new hO({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),Rt:e=>t._a.get(e)||null,Pt:()=>t.datastore.serializer.databaseId}),uo(t).start(),t.la.ta()}function Pm(t){return zi(t)&&!uo(t).w_()&&t._a.size>0}function zi(t){return Z(t).aa.size===0}function kS(t){t.ha=void 0}async function _V(t){t.la.set("Online")}async function wV(t){t._a.forEach((e,n)=>{Rm(t,e)})}async function EV(t,e){kS(t),Pm(t)?(t.la.ia(e),Im(t)):t.la.set("Unknown")}async function TV(t,e,n){if(t.la.set("Online"),e instanceof mS&&e.state===2&&e.cause)try{await async function(i,s){const o=s.cause;for(const a of s.targetIds)i._a.has(a)&&(await i.remoteSyncer.rejectListen(a,o),i._a.delete(a),i.ha.removeTarget(a))}(t,e)}catch(r){q(bi,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await sc(t,r)}else if(e instanceof pu?t.ha.Xe(e):e instanceof pS?t.ha.ot(e):t.ha.nt(e),!n.isEqual(J.min()))try{const r=await AS(t.localStore);n.compareTo(r)>=0&&await function(s,o){const a=s.ha.It(o);return a.targetChanges.forEach((u,c)=>{if(u.resumeToken.approximateByteSize()>0){const h=s._a.get(c);h&&s._a.set(c,h.withResumeToken(u.resumeToken,o))}}),a.targetMismatches.forEach((u,c)=>{const h=s._a.get(u);if(!h)return;s._a.set(u,h.withResumeToken(nt.EMPTY_BYTE_STRING,h.snapshotVersion)),bS(s,u);const f=new xr(h.target,u,c,h.sequenceNumber);Rm(s,f)}),s.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){q(bi,"Failed to raise snapshot:",r),await sc(t,r)}}async function sc(t,e,n){if(!lo(e))throw e;t.aa.add(1),await Ga(t),t.la.set("Offline"),n||(n=()=>AS(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{q(bi,"Retrying IndexedDB access"),await n(),t.aa.delete(1),await Yc(t)})}function NS(t,e){return e().catch(n=>sc(t,n,e))}async function Xc(t){const e=Z(t),n=Xr(e);let r=e.oa.length>0?e.oa[e.oa.length-1].batchId:hm;for(;SV(e);)try{const i=await iV(e.localStore,r);if(i===null){e.oa.length===0&&n.v_();break}r=i.batchId,xV(e,i)}catch(i){await sc(e,i)}DS(e)&&OS(e)}function SV(t){return zi(t)&&t.oa.length<10}function xV(t,e){t.oa.push(e);const n=Xr(t);n.b_()&&n.W_&&n.G_(e.mutations)}function DS(t){return zi(t)&&!Xr(t).w_()&&t.oa.length>0}function OS(t){Xr(t).start()}async function CV(t){Xr(t).H_()}async function AV(t){const e=Xr(t);for(const n of t.oa)e.G_(n.mutations)}async function RV(t,e,n){const r=t.oa.shift(),i=_m.from(r,e,n);await NS(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await Xc(t)}async function IV(t,e){e&&Xr(t).W_&&await async function(r,i){if(function(o){return cO(o)&&o!==z.ABORTED}(i.code)){const s=r.oa.shift();Xr(r).D_(),await NS(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),await Xc(r)}}(t,e),DS(t)&&OS(t)}async function P_(t,e){const n=Z(t);n.asyncQueue.verifyOperationInProgress(),q(bi,"RemoteStore received new credentials");const r=zi(n);n.aa.add(3),await Ga(n),r&&n.la.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.aa.delete(3),await Yc(n)}async function PV(t,e){const n=Z(t);e?(n.aa.delete(2),await Yc(n)):e||(n.aa.add(2),await Ga(n),n.la.set("Unknown"))}function uo(t){return t.Pa||(t.Pa=function(n,r,i){const s=Z(n);return s.Y_(),new fV(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{jo:_V.bind(null,t),Jo:wV.bind(null,t),Zo:EV.bind(null,t),Q_:TV.bind(null,t)}),t.ua.push(async e=>{e?(t.Pa.D_(),Pm(t)?Im(t):t.la.set("Unknown")):(await t.Pa.stop(),kS(t))})),t.Pa}function Xr(t){return t.Ta||(t.Ta=function(n,r,i){const s=Z(n);return s.Y_(),new pV(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{jo:()=>Promise.resolve(),Jo:CV.bind(null,t),Zo:IV.bind(null,t),z_:AV.bind(null,t),j_:RV.bind(null,t)}),t.ua.push(async e=>{e?(t.Ta.D_(),await Xc(t)):(await t.Ta.stop(),t.oa.length>0&&(q(bi,`Stopping write stream with ${t.oa.length} pending writes`),t.oa=[]))})),t.Ta}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bm{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new Lr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,a=new bm(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Q(z.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function km(t,e){if(er("AsyncQueue",`${e}: ${t}`),lo(t))return new Q(z.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ts{static emptySet(e){return new Ts(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||Y.comparator(n.key,r.key):(n,r)=>Y.comparator(n.key,r.key),this.keyedMap=zo(),this.sortedSet=new Ne(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Ts)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Ts;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b_{constructor(){this.Ia=new Ne(Y.comparator)}track(e){const n=e.doc.key,r=this.Ia.get(n);r?e.type!==0&&r.type===3?this.Ia=this.Ia.insert(n,e):e.type===3&&r.type!==1?this.Ia=this.Ia.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.Ia=this.Ia.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.Ia=this.Ia.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.Ia=this.Ia.remove(n):e.type===1&&r.type===2?this.Ia=this.Ia.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.Ia=this.Ia.insert(n,{type:2,doc:e.doc}):X(63341,{Vt:e,Ea:r}):this.Ia=this.Ia.insert(n,e)}da(){const e=[];return this.Ia.inorderTraversal((n,r)=>{e.push(r)}),e}}class Ys{constructor(e,n,r,i,s,o,a,u,c){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=u,this.hasCachedResults=c}static fromInitialDocuments(e,n,r,i,s){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new Ys(e,n,Ts.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Hc(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bV{constructor(){this.Aa=void 0,this.Ra=[]}Va(){return this.Ra.some(e=>e.ma())}}class kV{constructor(){this.queries=k_(),this.onlineState="Unknown",this.fa=new Set}terminate(){(function(n,r){const i=Z(n),s=i.queries;i.queries=k_(),s.forEach((o,a)=>{for(const u of a.Ra)u.onError(r)})})(this,new Q(z.ABORTED,"Firestore shutting down"))}}function k_(){return new ji(t=>tS(t),Hc)}async function NV(t,e){const n=Z(t);let r=3;const i=e.query;let s=n.queries.get(i);s?!s.Va()&&e.ma()&&(r=2):(s=new bV,r=e.ma()?0:1);try{switch(r){case 0:s.Aa=await n.onListen(i,!0);break;case 1:s.Aa=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(o){const a=km(o,`Initialization of query '${Zi(e.query)}' failed`);return void e.onError(a)}n.queries.set(i,s),s.Ra.push(e),e.ga(n.onlineState),s.Aa&&e.pa(s.Aa)&&Nm(n)}async function DV(t,e){const n=Z(t),r=e.query;let i=3;const s=n.queries.get(r);if(s){const o=s.Ra.indexOf(e);o>=0&&(s.Ra.splice(o,1),s.Ra.length===0?i=e.ma()?0:1:!s.Va()&&e.ma()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function OV(t,e){const n=Z(t);let r=!1;for(const i of e){const s=i.query,o=n.queries.get(s);if(o){for(const a of o.Ra)a.pa(i)&&(r=!0);o.Aa=i}}r&&Nm(n)}function VV(t,e,n){const r=Z(t),i=r.queries.get(e);if(i)for(const s of i.Ra)s.onError(n);r.queries.delete(e)}function Nm(t){t.fa.forEach(e=>{e.next()})}var $f,N_;(N_=$f||($f={})).ya="default",N_.Cache="cache";class MV{constructor(e,n,r){this.query=e,this.wa=n,this.ba=!1,this.Sa=null,this.onlineState="Unknown",this.options=r||{}}pa(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new Ys(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.ba?this.Da(e)&&(this.wa.next(e),n=!0):this.va(e,this.onlineState)&&(this.Ca(e),n=!0),this.Sa=e,n}onError(e){this.wa.error(e)}ga(e){this.onlineState=e;let n=!1;return this.Sa&&!this.ba&&this.va(this.Sa,e)&&(this.Ca(this.Sa),n=!0),n}va(e,n){if(!e.fromCache||!this.ma())return!0;const r=n!=="Offline";return(!this.options.Fa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Da(e){if(e.docChanges.length>0)return!0;const n=this.Sa&&this.Sa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Ca(e){e=Ys.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ba=!0,this.wa.next(e)}ma(){return this.options.source!==$f.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VS{constructor(e){this.key=e}}class MS{constructor(e){this.key=e}}class LV{constructor(e,n){this.query=e,this.qa=n,this.Qa=null,this.hasCachedResults=!1,this.current=!1,this.$a=le(),this.mutatedKeys=le(),this.Ua=nS(e),this.Ka=new Ts(this.Ua)}get Wa(){return this.qa}Ga(e,n){const r=n?n.za:new b_,i=n?n.Ka:this.Ka;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1;const u=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,c=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((h,f)=>{const m=i.get(h),_=Wc(this.query,f)?f:null,A=!!m&&this.mutatedKeys.has(m.key),g=!!_&&(_.hasLocalMutations||this.mutatedKeys.has(_.key)&&_.hasCommittedMutations);let E=!1;m&&_?m.data.isEqual(_.data)?A!==g&&(r.track({type:3,doc:_}),E=!0):this.ja(m,_)||(r.track({type:2,doc:_}),E=!0,(u&&this.Ua(_,u)>0||c&&this.Ua(_,c)<0)&&(a=!0)):!m&&_?(r.track({type:0,doc:_}),E=!0):m&&!_&&(r.track({type:1,doc:m}),E=!0,(u||c)&&(a=!0)),E&&(_?(o=o.add(_),s=g?s.add(h):s.delete(h)):(o=o.delete(h),s=s.delete(h)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const h=this.query.limitType==="F"?o.last():o.first();o=o.delete(h.key),s=s.delete(h.key),r.track({type:1,doc:h})}return{Ka:o,za:r,ys:a,mutatedKeys:s}}ja(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const s=this.Ka;this.Ka=e.Ka,this.mutatedKeys=e.mutatedKeys;const o=e.za.da();o.sort((h,f)=>function(_,A){const g=E=>{switch(E){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return X(20277,{Vt:E})}};return g(_)-g(A)}(h.type,f.type)||this.Ua(h.doc,f.doc)),this.Ha(r),i=i!=null&&i;const a=n&&!i?this.Ja():[],u=this.$a.size===0&&this.current&&!i?1:0,c=u!==this.Qa;return this.Qa=u,o.length!==0||c?{snapshot:new Ys(this.query,e.Ka,s,o,e.mutatedKeys,u===0,c,!1,!!r&&r.resumeToken.approximateByteSize()>0),Ya:a}:{Ya:a}}ga(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ka:this.Ka,za:new b_,mutatedKeys:this.mutatedKeys,ys:!1},!1)):{Ya:[]}}Za(e){return!this.qa.has(e)&&!!this.Ka.has(e)&&!this.Ka.get(e).hasLocalMutations}Ha(e){e&&(e.addedDocuments.forEach(n=>this.qa=this.qa.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.qa=this.qa.delete(n)),this.current=e.current)}Ja(){if(!this.current)return[];const e=this.$a;this.$a=le(),this.Ka.forEach(r=>{this.Za(r.key)&&(this.$a=this.$a.add(r.key))});const n=[];return e.forEach(r=>{this.$a.has(r)||n.push(new MS(r))}),this.$a.forEach(r=>{e.has(r)||n.push(new VS(r))}),n}Xa(e){this.qa=e.Ns,this.$a=le();const n=this.Ga(e.documents);return this.applyChanges(n,!0)}eu(){return Ys.fromInitialDocuments(this.query,this.Ka,this.mutatedKeys,this.Qa===0,this.hasCachedResults)}}const Dm="SyncEngine";class FV{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class jV{constructor(e){this.key=e,this.tu=!1}}class UV{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.nu={},this.ru=new ji(a=>tS(a),Hc),this.iu=new Map,this.su=new Set,this.ou=new Ne(Y.comparator),this._u=new Map,this.au=new Tm,this.uu={},this.cu=new Map,this.lu=Qs.ir(),this.onlineState="Unknown",this.hu=void 0}get isPrimaryClient(){return this.hu===!0}}async function zV(t,e,n=!0){const r=BS(t);let i;const s=r.ru.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.eu()):i=await LS(r,e,n,!0),i}async function BV(t,e){const n=BS(t);await LS(n,e,!0,!1)}async function LS(t,e,n,r){const i=await sV(t.localStore,Pn(e)),s=i.targetId,o=t.sharedClientState.addLocalQueryTarget(s,n);let a;return r&&(a=await $V(t,e,s,o==="current",i.resumeToken)),t.isPrimaryClient&&n&&PS(t.remoteStore,i),a}async function $V(t,e,n,r,i){t.Pu=(f,m,_)=>async function(g,E,v,y){let T=E.view.Ga(v);T.ys&&(T=await x_(g.localStore,E.query,!1).then(({documents:x})=>E.view.Ga(x,T)));const P=y&&y.targetChanges.get(E.targetId),O=y&&y.targetMismatches.get(E.targetId)!=null,V=E.view.applyChanges(T,g.isPrimaryClient,P,O);return O_(g,E.targetId,V.Ya),V.snapshot}(t,f,m,_);const s=await x_(t.localStore,e,!0),o=new LV(e,s.Ns),a=o.Ga(s.documents),u=Ka.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),c=o.applyChanges(a,t.isPrimaryClient,u);O_(t,n,c.Ya);const h=new FV(e,n,o);return t.ru.set(e,h),t.iu.has(n)?t.iu.get(n).push(e):t.iu.set(n,[e]),c.snapshot}async function HV(t,e,n){const r=Z(t),i=r.ru.get(e),s=r.iu.get(i.targetId);if(s.length>1)return r.iu.set(i.targetId,s.filter(o=>!Hc(o,e))),void r.ru.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await zf(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&Am(r.remoteStore,i.targetId),Hf(r,i.targetId)}).catch(ao)):(Hf(r,i.targetId),await zf(r.localStore,i.targetId,!0))}async function WV(t,e){const n=Z(t),r=n.ru.get(e),i=n.iu.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Am(n.remoteStore,r.targetId))}async function qV(t,e,n){const r=ZV(t);try{const i=await function(o,a){const u=Z(o),c=We.now(),h=a.reduce((_,A)=>_.add(A.key),le());let f,m;return u.persistence.runTransaction("Locally write mutations","readwrite",_=>{let A=tr(),g=le();return u.Cs.getEntries(_,h).next(E=>{A=E,A.forEach((v,y)=>{y.isValidDocument()||(g=g.add(v))})}).next(()=>u.localDocuments.getOverlayedDocuments(_,A)).next(E=>{f=E;const v=[];for(const y of a){const T=sO(y,f.get(y.key).overlayedDocument);T!=null&&v.push(new Ui(y.key,T,K1(T.value.mapValue),bn.exists(!0)))}return u.mutationQueue.addMutationBatch(_,c,v,a)}).next(E=>{m=E;const v=E.applyToLocalDocumentSet(f,g);return u.documentOverlayCache.saveOverlays(_,E.batchId,v)})}).then(()=>({batchId:m.batchId,changes:iS(f)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,a,u){let c=o.uu[o.currentUser.toKey()];c||(c=new Ne(ie)),c=c.insert(a,u),o.uu[o.currentUser.toKey()]=c}(r,i.batchId,n),await Qa(r,i.changes),await Xc(r.remoteStore)}catch(i){const s=km(i,"Failed to persist write");n.reject(s)}}async function FS(t,e){const n=Z(t);try{const r=await nV(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n._u.get(s);o&&(me(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?o.tu=!0:i.modifiedDocuments.size>0?me(o.tu,14607):i.removedDocuments.size>0&&(me(o.tu,42227),o.tu=!1))}),await Qa(n,r,e)}catch(r){await ao(r)}}function D_(t,e,n){const r=Z(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.ru.forEach((s,o)=>{const a=o.view.ga(e);a.snapshot&&i.push(a.snapshot)}),function(o,a){const u=Z(o);u.onlineState=a;let c=!1;u.queries.forEach((h,f)=>{for(const m of f.Ra)m.ga(a)&&(c=!0)}),c&&Nm(u)}(r.eventManager,e),i.length&&r.nu.Q_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function KV(t,e,n){const r=Z(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r._u.get(e),s=i&&i.key;if(s){let o=new Ne(Y.comparator);o=o.insert(s,ft.newNoDocument(s,J.min()));const a=le().add(s),u=new Gc(J.min(),new Map,new Ne(ie),o,a);await FS(r,u),r.ou=r.ou.remove(s),r._u.delete(e),Om(r)}else await zf(r.localStore,e,!1).then(()=>Hf(r,e,n)).catch(ao)}async function GV(t,e){const n=Z(t),r=e.batch.batchId;try{const i=await tV(n.localStore,e);US(n,r,null),jS(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Qa(n,i)}catch(i){await ao(i)}}async function QV(t,e,n){const r=Z(t);try{const i=await function(o,a){const u=Z(o);return u.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let h;return u.mutationQueue.lookupMutationBatch(c,a).next(f=>(me(f!==null,37113),h=f.keys(),u.mutationQueue.removeMutationBatch(c,f))).next(()=>u.mutationQueue.performConsistencyCheck(c)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(c,h,a)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,h)).next(()=>u.localDocuments.getDocuments(c,h))})}(r.localStore,e);US(r,e,n),jS(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Qa(r,i)}catch(i){await ao(i)}}function jS(t,e){(t.cu.get(e)||[]).forEach(n=>{n.resolve()}),t.cu.delete(e)}function US(t,e,n){const r=Z(t);let i=r.uu[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.uu[r.currentUser.toKey()]=i}}function Hf(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.iu.get(e))t.ru.delete(r),n&&t.nu.Tu(r,n);t.iu.delete(e),t.isPrimaryClient&&t.au.Ur(e).forEach(r=>{t.au.containsKey(r)||zS(t,r)})}function zS(t,e){t.su.delete(e.path.canonicalString());const n=t.ou.get(e);n!==null&&(Am(t.remoteStore,n),t.ou=t.ou.remove(e),t._u.delete(n),Om(t))}function O_(t,e,n){for(const r of n)r instanceof VS?(t.au.addReference(r.key,e),YV(t,r)):r instanceof MS?(q(Dm,"Document no longer in limbo: "+r.key),t.au.removeReference(r.key,e),t.au.containsKey(r.key)||zS(t,r.key)):X(19791,{Iu:r})}function YV(t,e){const n=e.key,r=n.path.canonicalString();t.ou.get(n)||t.su.has(r)||(q(Dm,"New document in limbo: "+n),t.su.add(r),Om(t))}function Om(t){for(;t.su.size>0&&t.ou.size<t.maxConcurrentLimboResolutions;){const e=t.su.values().next().value;t.su.delete(e);const n=new Y(Re.fromString(e)),r=t.lu.next();t._u.set(r,new jV(n)),t.ou=t.ou.insert(n,r),PS(t.remoteStore,new xr(Pn(eS(n.path)),r,"TargetPurposeLimboResolution",Uc.le))}}async function Qa(t,e,n){const r=Z(t),i=[],s=[],o=[];r.ru.isEmpty()||(r.ru.forEach((a,u)=>{o.push(r.Pu(u,e,n).then(c=>{var h;if((c||n)&&r.isPrimaryClient){const f=c?!c.fromCache:(h=n==null?void 0:n.targetChanges.get(u.targetId))===null||h===void 0?void 0:h.current;r.sharedClientState.updateQueryState(u.targetId,f?"current":"not-current")}if(c){i.push(c);const f=xm.Ps(u.targetId,c);s.push(f)}}))}),await Promise.all(o),r.nu.Q_(i),await async function(u,c){const h=Z(u);try{await h.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>j.forEach(c,m=>j.forEach(m.ls,_=>h.persistence.referenceDelegate.addReference(f,m.targetId,_)).next(()=>j.forEach(m.hs,_=>h.persistence.referenceDelegate.removeReference(f,m.targetId,_)))))}catch(f){if(!lo(f))throw f;q(Cm,"Failed to update sequence numbers: "+f)}for(const f of c){const m=f.targetId;if(!f.fromCache){const _=h.Ss.get(m),A=_.snapshotVersion,g=_.withLastLimboFreeSnapshotVersion(A);h.Ss=h.Ss.insert(m,g)}}}(r.localStore,s))}async function XV(t,e){const n=Z(t);if(!n.currentUser.isEqual(e)){q(Dm,"User change. New user:",e.toKey());const r=await CS(n.localStore,e);n.currentUser=e,function(s,o){s.cu.forEach(a=>{a.forEach(u=>{u.reject(new Q(z.CANCELLED,o))})}),s.cu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Qa(n,r.Ms)}}function JV(t,e){const n=Z(t),r=n._u.get(e);if(r&&r.tu)return le().add(r.key);{let i=le();const s=n.iu.get(e);if(!s)return i;for(const o of s){const a=n.ru.get(o);i=i.unionWith(a.view.Wa)}return i}}function BS(t){const e=Z(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=FS.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=JV.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=KV.bind(null,e),e.nu.Q_=OV.bind(null,e.eventManager),e.nu.Tu=VV.bind(null,e.eventManager),e}function ZV(t){const e=Z(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=GV.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=QV.bind(null,e),e}class oc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Qc(e.databaseInfo.databaseId),this.sharedClientState=this.Au(e),this.persistence=this.Ru(e),await this.persistence.start(),this.localStore=this.Vu(e),this.gcScheduler=this.mu(e,this.localStore),this.indexBackfillerScheduler=this.fu(e,this.localStore)}mu(e,n){return null}fu(e,n){return null}Vu(e){return eV(this.persistence,new XO,e.initialUser,this.serializer)}Ru(e){return new xS(Sm.Ei,this.serializer)}Au(e){return new aV}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}oc.provider={build:()=>new oc};class eM extends oc{constructor(e){super(),this.cacheSizeBytes=e}mu(e,n){me(this.persistence.referenceDelegate instanceof ic,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new MO(r,e.asyncQueue,n)}Ru(e){const n=this.cacheSizeBytes!==void 0?At.withCacheSize(this.cacheSizeBytes):At.DEFAULT;return new xS(r=>ic.Ei(r,n),this.serializer)}}class Wf{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>D_(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=XV.bind(null,this.syncEngine),await PV(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new kV}()}createDatastore(e){const n=Qc(e.databaseInfo.databaseId),r=function(s){return new hV(s)}(e.databaseInfo);return function(s,o,a,u){return new gV(s,o,a,u)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,s,o,a){return new vV(r,i,s,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>D_(this.syncEngine,n,0),function(){return R_.C()?new R_:new lV}())}createSyncEngine(e,n){return function(i,s,o,a,u,c,h){const f=new UV(i,s,o,a,u,c);return h&&(f.hu=!0),f}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(i){const s=Z(i);q(bi,"RemoteStore shutting down."),s.aa.add(5),await Ga(s),s.ca.shutdown(),s.la.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}Wf.provider={build:()=>new Wf};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tM{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.pu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.pu(this.observer.error,e):er("Uncaught Error in snapshot listener:",e.toString()))}yu(){this.muted=!0}pu(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jr="FirestoreClient";class nM{constructor(e,n,r,i,s){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=dt.UNAUTHENTICATED,this.clientId=M1.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(r,async o=>{q(Jr,"Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(q(Jr,"Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Lr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=km(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function hh(t,e){t.asyncQueue.verifyOperationInProgress(),q(Jr,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await CS(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function V_(t,e){t.asyncQueue.verifyOperationInProgress();const n=await rM(t);q(Jr,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>P_(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>P_(e.remoteStore,i)),t._onlineComponents=e}async function rM(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){q(Jr,"Using user provided OfflineComponentProvider");try{await hh(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(i){return i.name==="FirebaseError"?i.code===z.FAILED_PRECONDITION||i.code===z.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;Ws("Error using user provided cache. Falling back to memory cache: "+n),await hh(t,new oc)}}else q(Jr,"Using default OfflineComponentProvider"),await hh(t,new eM(void 0));return t._offlineComponents}async function $S(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(q(Jr,"Using user provided OnlineComponentProvider"),await V_(t,t._uninitializedComponentsProvider._online)):(q(Jr,"Using default OnlineComponentProvider"),await V_(t,new Wf))),t._onlineComponents}function iM(t){return $S(t).then(e=>e.syncEngine)}async function sM(t){const e=await $S(t),n=e.eventManager;return n.onListen=zV.bind(null,e.syncEngine),n.onUnlisten=HV.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=BV.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=WV.bind(null,e.syncEngine),n}function oM(t,e,n={}){const r=new Lr;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,a,u,c){const h=new tM({next:m=>{h.yu(),o.enqueueAndForget(()=>DV(s,f)),m.fromCache&&u.source==="server"?c.reject(new Q(z.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):c.resolve(m)},error:m=>c.reject(m)}),f=new MV(a,h,{includeMetadataChanges:!0,Fa:!0});return NV(s,f)}(await sM(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HS(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M_=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WS(t,e,n){if(!n)throw new Q(z.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function aM(t,e,n,r){if(e===!0&&r===!0)throw new Q(z.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function L_(t){if(!Y.isDocumentKey(t))throw new Q(z.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function F_(t){if(Y.isDocumentKey(t))throw new Q(z.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Vm(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":X(12329,{type:typeof t})}function Oa(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Q(z.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Vm(t);throw new Q(z.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qS="firestore.googleapis.com",j_=!0;class U_{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new Q(z.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=qS,this.ssl=j_}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:j_;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=SS;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<OO)throw new Q(z.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}aM("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=HS((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new Q(z.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new Q(z.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new Q(z.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Jc{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new U_({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Q(z.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Q(z.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new U_(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new dD;switch(r.type){case"firstParty":return new mD(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Q(z.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=M_.get(n);r&&(q("ComponentProvider","Removing Datastore"),M_.delete(n),r.terminate())}(this),Promise.resolve()}}function lM(t,e,n,r={}){var i;t=Oa(t,Jc);const s=jc(e),o=t._getSettings(),a=Object.assign(Object.assign({},o),{emulatorOptions:t._getEmulatorOptions()}),u=`${e}:${n}`;s&&g1(`https://${u}`),o.host!==qS&&o.host!==u&&Ws("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const c=Object.assign(Object.assign({},o),{host:u,ssl:s,emulatorOptions:r});if(!Gu(c,a)&&(t._setSettings(c),r.mockUserToken)){let h,f;if(typeof r.mockUserToken=="string")h=r.mockUserToken,f=dt.MOCK_USER;else{h=p1(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const m=r.mockUserToken.sub||r.mockUserToken.user_id;if(!m)throw new Q(z.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");f=new dt(m)}t._authCredentials=new hD(new O1(h,f))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zc{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Zc(this.firestore,e,this._query)}}class hn{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Fr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new hn(this.firestore,e,this._key)}}class Fr extends Zc{constructor(e,n,r){super(e,n,eS(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new hn(this.firestore,null,new Y(e))}withConverter(e){return new Fr(this.firestore,e,this._path)}}function ac(t,e,...n){if(t=Jn(t),WS("collection","path",e),t instanceof Jc){const r=Re.fromString(e,...n);return F_(r),new Fr(t,null,r)}{if(!(t instanceof hn||t instanceof Fr))throw new Q(z.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Re.fromString(e,...n));return F_(r),new Fr(t.firestore,null,r)}}function Mm(t,e,...n){if(t=Jn(t),arguments.length===1&&(e=M1.newId()),WS("doc","path",e),t instanceof Jc){const r=Re.fromString(e,...n);return L_(r),new hn(t,null,new Y(r))}{if(!(t instanceof hn||t instanceof Fr))throw new Q(z.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Re.fromString(e,...n));return L_(r),new hn(t.firestore,t instanceof Fr?t.converter:null,new Y(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z_="AsyncQueue";class B_{constructor(e=Promise.resolve()){this.Qu=[],this.$u=!1,this.Uu=[],this.Ku=null,this.Wu=!1,this.Gu=!1,this.zu=[],this.y_=new RS(this,"async_queue_retry"),this.ju=()=>{const r=dh();r&&q(z_,"Visibility state changed to "+r.visibilityState),this.y_.A_()},this.Hu=e;const n=dh();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.ju)}get isShuttingDown(){return this.$u}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Ju(),this.Yu(e)}enterRestrictedMode(e){if(!this.$u){this.$u=!0,this.Gu=e||!1;const n=dh();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.ju)}}enqueue(e){if(this.Ju(),this.$u)return new Promise(()=>{});const n=new Lr;return this.Yu(()=>this.$u&&this.Gu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qu.push(e),this.Zu()))}async Zu(){if(this.Qu.length!==0){try{await this.Qu[0](),this.Qu.shift(),this.y_.reset()}catch(e){if(!lo(e))throw e;q(z_,"Operation failed with retryable error: "+e)}this.Qu.length>0&&this.y_.E_(()=>this.Zu())}}Yu(e){const n=this.Hu.then(()=>(this.Wu=!0,e().catch(r=>{throw this.Ku=r,this.Wu=!1,er("INTERNAL UNHANDLED ERROR: ",$_(r)),r}).then(r=>(this.Wu=!1,r))));return this.Hu=n,n}enqueueAfterDelay(e,n,r){this.Ju(),this.zu.indexOf(e)>-1&&(n=0);const i=bm.createAndSchedule(this,e,n,r,s=>this.Xu(s));return this.Uu.push(i),i}Ju(){this.Ku&&X(47125,{ec:$_(this.Ku)})}verifyOperationInProgress(){}async tc(){let e;do e=this.Hu,await e;while(e!==this.Hu)}nc(e){for(const n of this.Uu)if(n.timerId===e)return!0;return!1}rc(e){return this.tc().then(()=>{this.Uu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Uu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.tc()})}sc(e){this.zu.push(e)}Xu(e){const n=this.Uu.indexOf(e);this.Uu.splice(n,1)}}function $_(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class ed extends Jc{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new B_,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new B_(e),this._firestoreClient=void 0,await e}}}function uM(t,e){const n=typeof t=="object"?t:x1(),r=typeof t=="string"?t:Xu,i=w1(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=h1("firestore");s&&lM(i,...s)}return i}function KS(t){if(t._terminated)throw new Q(z.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||cM(t),t._firestoreClient}function cM(t){var e,n,r;const i=t._freezeSettings(),s=function(a,u,c,h){return new bD(a,u,c,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,HS(h.experimentalLongPollingOptions),h.useFetchStreams,h.isUsingEmulator)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new nM(t._authCredentials,t._appCheckCredentials,t._queue,s,t._componentsProvider&&function(a){const u=a==null?void 0:a._online.build();return{_offline:a==null?void 0:a._offline.build(u),_online:u}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xs{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Xs(nt.fromBase64String(e))}catch(n){throw new Q(z.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Xs(nt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lm{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Q(z.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ze(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GS{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fm{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Q(z.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Q(z.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return ie(this._lat,e._lat)||ie(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jm{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==i[s])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dM=/^__.*__$/;class hM{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Ui(e,this.data,this.fieldMask,n,this.fieldTransforms):new qa(e,this.data,n,this.fieldTransforms)}}function QS(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw X(40011,{oc:t})}}class Um{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this._c(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get oc(){return this.settings.oc}ac(e){return new Um(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}uc(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.ac({path:r,cc:!1});return i.lc(e),i}hc(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.ac({path:r,cc:!1});return i._c(),i}Pc(e){return this.ac({path:void 0,cc:!0})}Tc(e){return lc(e,this.settings.methodName,this.settings.Ic||!1,this.path,this.settings.Ec)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}_c(){if(this.path)for(let e=0;e<this.path.length;e++)this.lc(this.path.get(e))}lc(e){if(e.length===0)throw this.Tc("Document fields must not be empty");if(QS(this.oc)&&dM.test(e))throw this.Tc('Document fields cannot begin and end with "__"')}}class fM{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Qc(e)}dc(e,n,r,i=!1){return new Um({oc:e,methodName:n,Ec:r,path:Ze.emptyPath(),cc:!1,Ic:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function pM(t){const e=t._freezeSettings(),n=Qc(t._databaseId);return new fM(t._databaseId,!!e.ignoreUndefinedProperties,n)}function mM(t,e,n,r,i,s={}){const o=t.dc(s.merge||s.mergeFields?2:0,e,n,i);ZS("Data must be an object, but it was:",o,r);const a=XS(r,o);let u,c;if(s.merge)u=new un(o.fieldMask),c=o.fieldTransforms;else if(s.mergeFields){const h=[];for(const f of s.mergeFields){const m=gM(e,f,n);if(!o.contains(m))throw new Q(z.INVALID_ARGUMENT,`Field '${m}' is specified in your field mask but missing from your input data.`);vM(h,m)||h.push(m)}u=new un(h),c=o.fieldTransforms.filter(f=>u.covers(f.field))}else u=null,c=o.fieldTransforms;return new hM(new Kt(a),u,c)}function YS(t,e){if(JS(t=Jn(t)))return ZS("Unsupported field value:",e,t),XS(t,e);if(t instanceof GS)return function(r,i){if(!QS(i.oc))throw i.Tc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Tc(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.cc&&e.oc!==4)throw e.Tc("Nested arrays are not supported");return function(r,i){const s=[];let o=0;for(const a of r){let u=YS(a,i.Pc(o));u==null&&(u={nullValue:"NULL_VALUE"}),s.push(u),o++}return{arrayValue:{values:s}}}(t,e)}return function(r,i){if((r=Jn(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return ZD(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=We.fromDate(r);return{timestampValue:rc(i.serializer,s)}}if(r instanceof We){const s=new We(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:rc(i.serializer,s)}}if(r instanceof Fm)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Xs)return{bytesValue:gS(i.serializer,r._byteString)};if(r instanceof hn){const s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.Tc(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:Em(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof jm)return function(o,a){return{mapValue:{fields:{[H1]:{stringValue:q1},[Ju]:{arrayValue:{values:o.toArray().map(c=>{if(typeof c!="number")throw a.Tc("VectorValues must only contain numeric values.");return ym(a.serializer,c)})}}}}}}(r,i);throw i.Tc(`Unsupported field value: ${Vm(r)}`)}(t,e)}function XS(t,e){const n={};return F1(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Fi(t,(r,i)=>{const s=YS(i,e.uc(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function JS(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof We||t instanceof Fm||t instanceof Xs||t instanceof hn||t instanceof GS||t instanceof jm)}function ZS(t,e,n){if(!JS(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=Vm(n);throw r==="an object"?e.Tc(t+" a custom object"):e.Tc(t+" "+r)}}function gM(t,e,n){if((e=Jn(e))instanceof Lm)return e._internalPath;if(typeof e=="string")return ex(t,e);throw lc("Field path arguments must be of type string or ",t,!1,void 0,n)}const yM=new RegExp("[~\\*/\\[\\]]");function ex(t,e,n){if(e.search(yM)>=0)throw lc(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Lm(...e.split("."))._internalPath}catch{throw lc(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function lc(t,e,n,r,i){const s=r&&!r.isEmpty(),o=i!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let u="";return(s||o)&&(u+=" (found",s&&(u+=` in field ${r}`),o&&(u+=` in document ${i}`),u+=")"),new Q(z.INVALID_ARGUMENT,a+t+u)}function vM(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tx{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new hn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new _M(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(nx("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class _M extends tx{data(){return super.data()}}function nx(t,e){return typeof e=="string"?ex(t,e):e instanceof Lm?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wM(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new Q(z.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class EM{convertValue(e,n="none"){switch(Yr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Fe(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Qr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw X(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Fi(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertVectorValue(e){var n,r,i;const s=(i=(r=(n=e.fields)===null||n===void 0?void 0:n[Ju].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(o=>Fe(o.doubleValue));return new jm(s)}convertGeoPoint(e){return new Fm(Fe(e.latitude),Fe(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Bc(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Pa(e));default:return null}}convertTimestamp(e){const n=Gr(e);return new We(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Re.fromString(e);me(TS(r),9688,{name:e});const i=new ba(r.get(1),r.get(3)),s=new Y(r.popFirst(5));return i.isEqual(n)||er(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TM(t,e,n){let r;return r=t?t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bl{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class SM extends tx{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new mu(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(nx("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class mu extends SM{data(e={}){return super.data(e)}}class xM{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Bl(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new mu(this._firestore,this._userDataWriter,r.key,r,new Bl(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Q(z.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(a=>{const u=new mu(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Bl(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:u,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>s||a.type!==3).map(a=>{const u=new mu(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Bl(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let c=-1,h=-1;return a.type!==0&&(c=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),h=o.indexOf(a.doc.key)),{type:CM(a.type),doc:u,oldIndex:c,newIndex:h}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function CM(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return X(61501,{type:t})}}class AM extends EM{constructor(e){super(),this.firestore=e}convertBytes(e){return new Xs(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new hn(this.firestore,null,n)}}function H_(t){t=Oa(t,Zc);const e=Oa(t.firestore,ed),n=KS(e),r=new AM(e);return wM(t._query),oM(n,t._query).then(i=>new xM(e,r,t,i))}function rx(t){return sx(Oa(t.firestore,ed),[new vm(t._key,bn.none())])}function ix(t,e){const n=Oa(t.firestore,ed),r=Mm(t),i=TM(t.converter,e);return sx(n,[mM(pM(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,bn.exists(!1))]).then(()=>r)}function sx(t,e){return function(r,i){const s=new Lr;return r.asyncQueue.enqueueAndForget(async()=>qV(await iM(r),i,s)),s.promise}(KS(t),e)}(function(e,n=!0){(function(i){oo=i})(T1),Aa(new Hs("firestore",(r,{instanceIdentifier:i,options:s})=>{const o=r.getProvider("app").getImmediate(),a=new ed(new fD(r.getProvider("auth-internal")),new gD(o,r.getProvider("app-check-internal")),function(c,h){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new Q(z.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ba(c.options.projectId,h)}(o,i),o);return s=Object.assign({useFetchStreams:n},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),Vr(Gv,Qv,e),Vr(Gv,Qv,"esm2017")})();var RM="firebase",IM="11.7.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Vr(RM,IM,"app");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ox="firebasestorage.googleapis.com",ax="storageBucket",PM=2*60*1e3,bM=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Le extends Li{constructor(e,n,r=0){super(fh(e),`Firebase Storage: ${n} (${fh(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Le.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return fh(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Me;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Me||(Me={}));function fh(t){return"storage/"+t}function zm(){const t="An unknown error occurred, please check the error payload for server response.";return new Le(Me.UNKNOWN,t)}function kM(t){return new Le(Me.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function NM(t){return new Le(Me.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function DM(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new Le(Me.UNAUTHENTICATED,t)}function OM(){return new Le(Me.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function VM(t){return new Le(Me.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function MM(){return new Le(Me.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function LM(){return new Le(Me.CANCELED,"User canceled the upload/download.")}function FM(t){return new Le(Me.INVALID_URL,"Invalid URL '"+t+"'.")}function jM(t){return new Le(Me.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function UM(){return new Le(Me.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+ax+"' property when initializing the app?")}function zM(){return new Le(Me.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function BM(){return new Le(Me.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function $M(t){return new Le(Me.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function qf(t){return new Le(Me.INVALID_ARGUMENT,t)}function lx(){return new Le(Me.APP_DELETED,"The Firebase app was deleted.")}function HM(t){return new Le(Me.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function ra(t,e){return new Le(Me.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function Vo(t){throw new Le(Me.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lt{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=Lt.makeFromUrl(e,n)}catch{return new Lt(e,"")}if(r.path==="")return r;throw jM(e)}static makeFromUrl(e,n){let r=null;const i="([A-Za-z0-9.\\-_]+)";function s(P){P.path.charAt(P.path.length-1)==="/"&&(P.path_=P.path_.slice(0,-1))}const o="(/(.*))?$",a=new RegExp("^gs://"+i+o,"i"),u={bucket:1,path:3};function c(P){P.path_=decodeURIComponent(P.path)}const h="v[A-Za-z0-9_]+",f=n.replace(/[.]/g,"\\."),m="(/([^?#]*).*)?$",_=new RegExp(`^https?://${f}/${h}/b/${i}/o${m}`,"i"),A={bucket:1,path:3},g=n===ox?"(?:storage.googleapis.com|storage.cloud.google.com)":n,E="([^?#]*)",v=new RegExp(`^https?://${g}/${i}/${E}`,"i"),T=[{regex:a,indices:u,postModify:s},{regex:_,indices:A,postModify:c},{regex:v,indices:{bucket:1,path:2},postModify:c}];for(let P=0;P<T.length;P++){const O=T[P],V=O.regex.exec(e);if(V){const x=V[O.indices.bucket];let w=V[O.indices.path];w||(w=""),r=new Lt(x,w),O.postModify(r);break}}if(r==null)throw FM(e);return r}}class WM{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qM(t,e,n){let r=1,i=null,s=null,o=!1,a=0;function u(){return a===2}let c=!1;function h(...E){c||(c=!0,e.apply(null,E))}function f(E){i=setTimeout(()=>{i=null,t(_,u())},E)}function m(){s&&clearTimeout(s)}function _(E,...v){if(c){m();return}if(E){m(),h.call(null,E,...v);return}if(u()||o){m(),h.call(null,E,...v);return}r<64&&(r*=2);let T;a===1?(a=2,T=0):T=(r+Math.random())*1e3,f(T)}let A=!1;function g(E){A||(A=!0,m(),!c&&(i!==null?(E||(a=2),clearTimeout(i),f(0)):E||(a=1)))}return f(0),s=setTimeout(()=>{o=!0,g(!0)},n),g}function KM(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GM(t){return t!==void 0}function QM(t){return typeof t=="object"&&!Array.isArray(t)}function Bm(t){return typeof t=="string"||t instanceof String}function W_(t){return $m()&&t instanceof Blob}function $m(){return typeof Blob<"u"}function q_(t,e,n,r){if(r<e)throw qf(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw qf(`Invalid value for '${t}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hm(t,e,n){let r=e;return n==null&&(r=`https://${e}`),`${n}://${r}/v0${t}`}function ux(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const i=e(r)+"="+e(t[r]);n=n+i+"&"}return n=n.slice(0,-1),n}var Ti;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(Ti||(Ti={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YM(t,e){const n=t>=500&&t<600,i=[408,429].indexOf(t)!==-1,s=e.indexOf(t)!==-1;return n||i||s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XM{constructor(e,n,r,i,s,o,a,u,c,h,f,m=!0,_=!1){this.url_=e,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=s,this.additionalRetryCodes_=o,this.callback_=a,this.errorCallback_=u,this.timeout_=c,this.progressCallback_=h,this.connectionFactory_=f,this.retry=m,this.isUsingEmulator=_,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((A,g)=>{this.resolve_=A,this.reject_=g,this.start_()})}start_(){const e=(r,i)=>{if(i){r(!1,new $l(!1,null,!0));return}const s=this.connectionFactory_();this.pendingConnection_=s;const o=a=>{const u=a.loaded,c=a.lengthComputable?a.total:-1;this.progressCallback_!==null&&this.progressCallback_(u,c)};this.progressCallback_!==null&&s.addUploadProgressListener(o),s.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&s.removeUploadProgressListener(o),this.pendingConnection_=null;const a=s.getErrorCode()===Ti.NO_ERROR,u=s.getStatus();if(!a||YM(u,this.additionalRetryCodes_)&&this.retry){const h=s.getErrorCode()===Ti.ABORT;r(!1,new $l(!1,null,h));return}const c=this.successCodes_.indexOf(u)!==-1;r(!0,new $l(c,s))})},n=(r,i)=>{const s=this.resolve_,o=this.reject_,a=i.connection;if(i.wasSuccessCode)try{const u=this.callback_(a,a.getResponse());GM(u)?s(u):s()}catch(u){o(u)}else if(a!==null){const u=zm();u.serverResponse=a.getErrorText(),this.errorCallback_?o(this.errorCallback_(a,u)):o(u)}else if(i.canceled){const u=this.appDelete_?lx():LM();o(u)}else{const u=MM();o(u)}};this.canceled_?n(!1,new $l(!1,null,!0)):this.backoffId_=qM(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&KM(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class $l{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function JM(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function ZM(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function eL(t,e){e&&(t["X-Firebase-GMPID"]=e)}function tL(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function nL(t,e,n,r,i,s,o=!0,a=!1){const u=ux(t.urlParams),c=t.url+u,h=Object.assign({},t.headers);return eL(h,e),JM(h,n),ZM(h,s),tL(h,r),new XM(c,t.method,h,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,o,a)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rL(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function iL(...t){const e=rL();if(e!==void 0){const n=new e;for(let r=0;r<t.length;r++)n.append(t[r]);return n.getBlob()}else{if($m())return new Blob(t);throw new Le(Me.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function sL(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oL(t){if(typeof atob>"u")throw $M("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cn={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class ph{constructor(e,n){this.data=e,this.contentType=n||null}}function aL(t,e){switch(t){case Cn.RAW:return new ph(cx(e));case Cn.BASE64:case Cn.BASE64URL:return new ph(dx(t,e));case Cn.DATA_URL:return new ph(uL(e),cL(e))}throw zm()}function cx(t){const e=[];for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const s=r,o=t.charCodeAt(++n);r=65536|(s&1023)<<10|o&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function lL(t){let e;try{e=decodeURIComponent(t)}catch{throw ra(Cn.DATA_URL,"Malformed data URL.")}return cx(e)}function dx(t,e){switch(t){case Cn.BASE64:{const i=e.indexOf("-")!==-1,s=e.indexOf("_")!==-1;if(i||s)throw ra(t,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case Cn.BASE64URL:{const i=e.indexOf("+")!==-1,s=e.indexOf("/")!==-1;if(i||s)throw ra(t,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=oL(e)}catch(i){throw i.message.includes("polyfill")?i:ra(t,"Invalid character found")}const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}class hx{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw ra(Cn.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;r!=null&&(this.base64=dL(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function uL(t){const e=new hx(t);return e.base64?dx(Cn.BASE64,e.rest):lL(e.rest)}function cL(t){return new hx(t).contentType}function dL(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gr{constructor(e,n){let r=0,i="";W_(e)?(this.data_=e,r=e.size,i=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=i}size(){return this.size_}type(){return this.type_}slice(e,n){if(W_(this.data_)){const r=this.data_,i=sL(r,e,n);return i===null?null:new gr(i)}else{const r=new Uint8Array(this.data_.buffer,e,n-e);return new gr(r,!0)}}static getBlob(...e){if($m()){const n=e.map(r=>r instanceof gr?r.data_:r);return new gr(iL.apply(null,n))}else{const n=e.map(o=>Bm(o)?aL(Cn.RAW,o).data:o.data_);let r=0;n.forEach(o=>{r+=o.byteLength});const i=new Uint8Array(r);let s=0;return n.forEach(o=>{for(let a=0;a<o.length;a++)i[s++]=o[a]}),new gr(i,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fx(t){let e;try{e=JSON.parse(t)}catch{return null}return QM(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hL(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function fL(t,e){const n=e.split("/").filter(r=>r.length>0).join("/");return t.length===0?n:t+"/"+n}function px(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pL(t,e){return e}class vt{constructor(e,n,r,i){this.server=e,this.local=n||e,this.writable=!!r,this.xform=i||pL}}let Hl=null;function mL(t){return!Bm(t)||t.length<2?t:px(t)}function mx(){if(Hl)return Hl;const t=[];t.push(new vt("bucket")),t.push(new vt("generation")),t.push(new vt("metageneration")),t.push(new vt("name","fullPath",!0));function e(s,o){return mL(o)}const n=new vt("name");n.xform=e,t.push(n);function r(s,o){return o!==void 0?Number(o):o}const i=new vt("size");return i.xform=r,t.push(i),t.push(new vt("timeCreated")),t.push(new vt("updated")),t.push(new vt("md5Hash",null,!0)),t.push(new vt("cacheControl",null,!0)),t.push(new vt("contentDisposition",null,!0)),t.push(new vt("contentEncoding",null,!0)),t.push(new vt("contentLanguage",null,!0)),t.push(new vt("contentType",null,!0)),t.push(new vt("metadata","customMetadata",!0)),Hl=t,Hl}function gL(t,e){function n(){const r=t.bucket,i=t.fullPath,s=new Lt(r,i);return e._makeStorageReference(s)}Object.defineProperty(t,"ref",{get:n})}function yL(t,e,n){const r={};r.type="file";const i=n.length;for(let s=0;s<i;s++){const o=n[s];r[o.local]=o.xform(r,e[o.server])}return gL(r,t),r}function gx(t,e,n){const r=fx(e);return r===null?null:yL(t,r,n)}function vL(t,e,n,r){const i=fx(e);if(i===null||!Bm(i.downloadTokens))return null;const s=i.downloadTokens;if(s.length===0)return null;const o=encodeURIComponent;return s.split(",").map(c=>{const h=t.bucket,f=t.fullPath,m="/b/"+o(h)+"/o/"+o(f),_=Hm(m,n,r),A=ux({alt:"media",token:c});return _+A})[0]}function _L(t,e){const n={},r=e.length;for(let i=0;i<r;i++){const s=e[i];s.writable&&(n[s.server]=t[s.local])}return JSON.stringify(n)}class yx{constructor(e,n,r,i){this.url=e,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vx(t){if(!t)throw zm()}function wL(t,e){function n(r,i){const s=gx(t,i,e);return vx(s!==null),s}return n}function EL(t,e){function n(r,i){const s=gx(t,i,e);return vx(s!==null),vL(s,i,t.host,t._protocol)}return n}function _x(t){function e(n,r){let i;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?i=OM():i=DM():n.getStatus()===402?i=NM(t.bucket):n.getStatus()===403?i=VM(t.path):i=r,i.status=n.getStatus(),i.serverResponse=r.serverResponse,i}return e}function TL(t){const e=_x(t);function n(r,i){let s=e(r,i);return r.getStatus()===404&&(s=kM(t.path)),s.serverResponse=i.serverResponse,s}return n}function SL(t,e,n){const r=e.fullServerUrl(),i=Hm(r,t.host,t._protocol),s="GET",o=t.maxOperationRetryTime,a=new yx(i,s,EL(t,n),o);return a.errorHandler=TL(e),a}function xL(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function CL(t,e,n){const r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=xL(null,e)),r}function AL(t,e,n,r,i){const s=e.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"};function a(){let T="";for(let P=0;P<2;P++)T=T+Math.random().toString().slice(2);return T}const u=a();o["Content-Type"]="multipart/related; boundary="+u;const c=CL(e,r,i),h=_L(c,n),f="--"+u+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+h+`\r
--`+u+`\r
Content-Type: `+c.contentType+`\r
\r
`,m=`\r
--`+u+"--",_=gr.getBlob(f,r,m);if(_===null)throw zM();const A={name:c.fullPath},g=Hm(s,t.host,t._protocol),E="POST",v=t.maxUploadRetryTime,y=new yx(g,E,wL(t,n),v);return y.urlParams=A,y.headers=o,y.body=_.uploadData(),y.errorHandler=_x(e),y}class RL{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Ti.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Ti.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Ti.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,r,i,s){if(this.sent_)throw Vo("cannot .send() more than once");if(jc(e)&&r&&(this.xhr_.withCredentials=!0),this.sent_=!0,this.xhr_.open(n,e,!0),s!==void 0)for(const o in s)s.hasOwnProperty(o)&&this.xhr_.setRequestHeader(o,s[o].toString());return i!==void 0?this.xhr_.send(i):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Vo("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Vo("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Vo("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Vo("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class IL extends RL{initXhr(){this.xhr_.responseType="text"}}function wx(){return new IL}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ki{constructor(e,n){this._service=e,n instanceof Lt?this._location=n:this._location=Lt.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new ki(e,n)}get root(){const e=new Lt(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return px(this._location.path)}get storage(){return this._service}get parent(){const e=hL(this._location.path);if(e===null)return null;const n=new Lt(this._location.bucket,e);return new ki(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw HM(e)}}function PL(t,e,n){t._throwIfRoot("uploadBytes");const r=AL(t.storage,t._location,mx(),new gr(e,!0),n);return t.storage.makeRequestWithTokens(r,wx).then(i=>({metadata:i,ref:t}))}function bL(t){t._throwIfRoot("getDownloadURL");const e=SL(t.storage,t._location,mx());return t.storage.makeRequestWithTokens(e,wx).then(n=>{if(n===null)throw BM();return n})}function kL(t,e){const n=fL(t._location.path,e),r=new Lt(t._location.bucket,n);return new ki(t.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NL(t){return/^[A-Za-z]+:\/\//.test(t)}function DL(t,e){return new ki(t,e)}function Ex(t,e){if(t instanceof Wm){const n=t;if(n._bucket==null)throw UM();const r=new ki(n,n._bucket);return e!=null?Ex(r,e):r}else return e!==void 0?kL(t,e):t}function OL(t,e){if(e&&NL(e)){if(t instanceof Wm)return DL(t,e);throw qf("To use ref(service, url), the first argument must be a Storage instance.")}else return Ex(t,e)}function K_(t,e){const n=e==null?void 0:e[ax];return n==null?null:Lt.makeFromBucketSpec(n,t)}function VL(t,e,n,r={}){t.host=`${e}:${n}`;const i=jc(e);i&&g1(`https://${t.host}`),t._isUsingEmulator=!0,t._protocol=i?"https":"http";const{mockUserToken:s}=r;s&&(t._overrideAuthToken=typeof s=="string"?s:p1(s,t.app.options.projectId))}class Wm{constructor(e,n,r,i,s,o=!1){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=s,this._isUsingEmulator=o,this._bucket=null,this._host=ox,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=PM,this._maxUploadRetryTime=bM,this._requests=new Set,i!=null?this._bucket=Lt.makeFromBucketSpec(i,this._host):this._bucket=K_(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Lt.makeFromBucketSpec(this._url,e):this._bucket=K_(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){q_("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){q_("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(E1(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new ki(this,e)}_makeRequest(e,n,r,i,s=!0){if(this._deleted)return new WM(lx());{const o=nL(e,this._appId,r,i,n,this._firebaseVersion,s,this._isUsingEmulator);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}async makeRequestWithTokens(e,n){const[r,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,i).getPromise()}}const G_="@firebase/storage",Q_="0.13.8";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tx="storage";function ML(t,e,n){return t=Jn(t),PL(t,e,n)}function LL(t){return t=Jn(t),bL(t)}function FL(t,e){return t=Jn(t),OL(t,e)}function jL(t=x1(),e){t=Jn(t);const r=w1(t,Tx).getImmediate({identifier:e}),i=h1("storage");return i&&UL(r,...i),r}function UL(t,e,n,r={}){VL(t,e,n,r)}function zL(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new Wm(n,r,i,e,T1)}function BL(){Aa(new Hs(Tx,zL,"PUBLIC").setMultipleInstances(!0)),Vr(G_,Q_,""),Vr(G_,Q_,"esm2017")}BL();const $L={apiKey:"AIzaSyBIH96gXRUf4IDaKNmduz-GyURkCWgq2UM",authDomain:"dsdsdsf-b8dac.firebaseapp.com",projectId:"dsdsdsf-b8dac",storageBucket:"dsdsdsf-b8dac.firebasestorage.app",messagingSenderId:"539429035601",appId:"1:539429035601:web:2e1662d79cfc2eb6a0a270"},Sx=S1($L),Js=uM(Sx),HL=jL(Sx);var mh="focusScope.autoFocusOnMount",gh="focusScope.autoFocusOnUnmount",Y_={bubbles:!1,cancelable:!0},WL="FocusScope",xx=C.forwardRef((t,e)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:i,onUnmountAutoFocus:s,...o}=t,[a,u]=C.useState(null),c=Jt(i),h=Jt(s),f=C.useRef(null),m=mt(e,g=>u(g)),_=C.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;C.useEffect(()=>{if(r){let g=function(T){if(_.paused||!a)return;const P=T.target;a.contains(P)?f.current=P:dr(f.current,{select:!0})},E=function(T){if(_.paused||!a)return;const P=T.relatedTarget;P!==null&&(a.contains(P)||dr(f.current,{select:!0}))},v=function(T){if(document.activeElement===document.body)for(const O of T)O.removedNodes.length>0&&dr(a)};document.addEventListener("focusin",g),document.addEventListener("focusout",E);const y=new MutationObserver(v);return a&&y.observe(a,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",g),document.removeEventListener("focusout",E),y.disconnect()}}},[r,a,_.paused]),C.useEffect(()=>{if(a){J_.add(_);const g=document.activeElement;if(!a.contains(g)){const v=new CustomEvent(mh,Y_);a.addEventListener(mh,c),a.dispatchEvent(v),v.defaultPrevented||(qL(XL(Cx(a)),{select:!0}),document.activeElement===g&&dr(a))}return()=>{a.removeEventListener(mh,c),setTimeout(()=>{const v=new CustomEvent(gh,Y_);a.addEventListener(gh,h),a.dispatchEvent(v),v.defaultPrevented||dr(g??document.body,{select:!0}),a.removeEventListener(gh,h),J_.remove(_)},0)}}},[a,c,h,_]);const A=C.useCallback(g=>{if(!n&&!r||_.paused)return;const E=g.key==="Tab"&&!g.altKey&&!g.ctrlKey&&!g.metaKey,v=document.activeElement;if(E&&v){const y=g.currentTarget,[T,P]=KL(y);T&&P?!g.shiftKey&&v===P?(g.preventDefault(),n&&dr(T,{select:!0})):g.shiftKey&&v===T&&(g.preventDefault(),n&&dr(P,{select:!0})):v===y&&g.preventDefault()}},[n,r,_.paused]);return k.jsx(Ie.div,{tabIndex:-1,...o,ref:m,onKeyDown:A})});xx.displayName=WL;function qL(t,{select:e=!1}={}){const n=document.activeElement;for(const r of t)if(dr(r,{select:e}),document.activeElement!==n)return}function KL(t){const e=Cx(t),n=X_(e,t),r=X_(e.reverse(),t);return[n,r]}function Cx(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function X_(t,e){for(const n of t)if(!GL(n,{upTo:e}))return n}function GL(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function QL(t){return t instanceof HTMLInputElement&&"select"in t}function dr(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&QL(t)&&e&&t.select()}}var J_=YL();function YL(){let t=[];return{add(e){const n=t[0];e!==n&&(n==null||n.pause()),t=Z_(t,e),t.unshift(e)},remove(e){var n;t=Z_(t,e),(n=t[0])==null||n.resume()}}}function Z_(t,e){const n=[...t],r=n.indexOf(e);return r!==-1&&n.splice(r,1),n}function XL(t){return t.filter(e=>e.tagName!=="A")}var yh=0;function JL(){C.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??e0()),document.body.insertAdjacentElement("beforeend",t[1]??e0()),yh++,()=>{yh===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),yh--}},[])}function e0(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var xn=function(){return xn=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},xn.apply(this,arguments)};function Ax(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function ZL(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,s;r<i;r++)(s||!(r in e))&&(s||(s=Array.prototype.slice.call(e,0,r)),s[r]=e[r]);return t.concat(s||Array.prototype.slice.call(e))}var gu="right-scroll-bar-position",yu="width-before-scroll-bar",e4="with-scroll-bars-hidden",t4="--removed-body-scroll-bar-size";function vh(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function n4(t,e){var n=C.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(r){var i=n.value;i!==r&&(n.value=r,n.callback(r,i))}}}})[0];return n.callback=e,n.facade}var r4=typeof window<"u"?C.useLayoutEffect:C.useEffect,t0=new WeakMap;function i4(t,e){var n=n4(null,function(r){return t.forEach(function(i){return vh(i,r)})});return r4(function(){var r=t0.get(n);if(r){var i=new Set(r),s=new Set(t),o=n.current;i.forEach(function(a){s.has(a)||vh(a,null)}),s.forEach(function(a){i.has(a)||vh(a,o)})}t0.set(n,t)},[t]),n}function s4(t){return t}function o4(t,e){e===void 0&&(e=s4);var n=[],r=!1,i={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(s){var o=e(s,r);return n.push(o),function(){n=n.filter(function(a){return a!==o})}},assignSyncMedium:function(s){for(r=!0;n.length;){var o=n;n=[],o.forEach(s)}n={push:function(a){return s(a)},filter:function(){return n}}},assignMedium:function(s){r=!0;var o=[];if(n.length){var a=n;n=[],a.forEach(s),o=n}var u=function(){var h=o;o=[],h.forEach(s)},c=function(){return Promise.resolve().then(u)};c(),n={push:function(h){o.push(h),c()},filter:function(h){return o=o.filter(h),n}}}};return i}function a4(t){t===void 0&&(t={});var e=o4(null);return e.options=xn({async:!0,ssr:!1},t),e}var Rx=function(t){var e=t.sideCar,n=Ax(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return C.createElement(r,xn({},n))};Rx.isSideCarExport=!0;function l4(t,e){return t.useMedium(e),Rx}var Ix=a4(),_h=function(){},td=C.forwardRef(function(t,e){var n=C.useRef(null),r=C.useState({onScrollCapture:_h,onWheelCapture:_h,onTouchMoveCapture:_h}),i=r[0],s=r[1],o=t.forwardProps,a=t.children,u=t.className,c=t.removeScrollBar,h=t.enabled,f=t.shards,m=t.sideCar,_=t.noIsolation,A=t.inert,g=t.allowPinchZoom,E=t.as,v=E===void 0?"div":E,y=t.gapMode,T=Ax(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),P=m,O=i4([n,e]),V=xn(xn({},T),i);return C.createElement(C.Fragment,null,h&&C.createElement(P,{sideCar:Ix,removeScrollBar:c,shards:f,noIsolation:_,inert:A,setCallbacks:s,allowPinchZoom:!!g,lockRef:n,gapMode:y}),o?C.cloneElement(C.Children.only(a),xn(xn({},V),{ref:O})):C.createElement(v,xn({},V,{className:u,ref:O}),a))});td.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};td.classNames={fullWidth:yu,zeroRight:gu};var u4=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function c4(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=u4();return e&&t.setAttribute("nonce",e),t}function d4(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function h4(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var f4=function(){var t=0,e=null;return{add:function(n){t==0&&(e=c4())&&(d4(e,n),h4(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},p4=function(){var t=f4();return function(e,n){C.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},Px=function(){var t=p4(),e=function(n){var r=n.styles,i=n.dynamic;return t(r,i),null};return e},m4={left:0,top:0,right:0,gap:0},wh=function(t){return parseInt(t||"",10)||0},g4=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],r=e[t==="padding"?"paddingTop":"marginTop"],i=e[t==="padding"?"paddingRight":"marginRight"];return[wh(n),wh(r),wh(i)]},y4=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return m4;var e=g4(t),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-n+e[2]-e[0])}},v4=Px(),Ss="data-scroll-locked",_4=function(t,e,n,r){var i=t.left,s=t.top,o=t.right,a=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(e4,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(a,"px ").concat(r,`;
  }
  body[`).concat(Ss,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(s,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(a,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(a,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(gu,` {
    right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(yu,` {
    margin-right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(gu," .").concat(gu,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(yu," .").concat(yu,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(Ss,`] {
    `).concat(t4,": ").concat(a,`px;
  }
`)},n0=function(){var t=parseInt(document.body.getAttribute(Ss)||"0",10);return isFinite(t)?t:0},w4=function(){C.useEffect(function(){return document.body.setAttribute(Ss,(n0()+1).toString()),function(){var t=n0()-1;t<=0?document.body.removeAttribute(Ss):document.body.setAttribute(Ss,t.toString())}},[])},E4=function(t){var e=t.noRelative,n=t.noImportant,r=t.gapMode,i=r===void 0?"margin":r;w4();var s=C.useMemo(function(){return y4(i)},[i]);return C.createElement(v4,{styles:_4(s,!e,i,n?"":"!important")})},Kf=!1;if(typeof window<"u")try{var Wl=Object.defineProperty({},"passive",{get:function(){return Kf=!0,!0}});window.addEventListener("test",Wl,Wl),window.removeEventListener("test",Wl,Wl)}catch{Kf=!1}var Qi=Kf?{passive:!1}:!1,T4=function(t){return t.tagName==="TEXTAREA"},bx=function(t,e){if(!(t instanceof Element))return!1;var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!T4(t)&&n[e]==="visible")},S4=function(t){return bx(t,"overflowY")},x4=function(t){return bx(t,"overflowX")},r0=function(t,e){var n=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var i=kx(t,r);if(i){var s=Nx(t,r),o=s[1],a=s[2];if(o>a)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},C4=function(t){var e=t.scrollTop,n=t.scrollHeight,r=t.clientHeight;return[e,n,r]},A4=function(t){var e=t.scrollLeft,n=t.scrollWidth,r=t.clientWidth;return[e,n,r]},kx=function(t,e){return t==="v"?S4(e):x4(e)},Nx=function(t,e){return t==="v"?C4(e):A4(e)},R4=function(t,e){return t==="h"&&e==="rtl"?-1:1},I4=function(t,e,n,r,i){var s=R4(t,window.getComputedStyle(e).direction),o=s*r,a=n.target,u=e.contains(a),c=!1,h=o>0,f=0,m=0;do{var _=Nx(t,a),A=_[0],g=_[1],E=_[2],v=g-E-s*A;(A||v)&&kx(t,a)&&(f+=v,m+=A),a instanceof ShadowRoot?a=a.host:a=a.parentNode}while(!u&&a!==document.body||u&&(e.contains(a)||e===a));return(h&&(Math.abs(f)<1||!i)||!h&&(Math.abs(m)<1||!i))&&(c=!0),c},ql=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},i0=function(t){return[t.deltaX,t.deltaY]},s0=function(t){return t&&"current"in t?t.current:t},P4=function(t,e){return t[0]===e[0]&&t[1]===e[1]},b4=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},k4=0,Yi=[];function N4(t){var e=C.useRef([]),n=C.useRef([0,0]),r=C.useRef(),i=C.useState(k4++)[0],s=C.useState(Px)[0],o=C.useRef(t);C.useEffect(function(){o.current=t},[t]),C.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(i));var g=ZL([t.lockRef.current],(t.shards||[]).map(s0),!0).filter(Boolean);return g.forEach(function(E){return E.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),g.forEach(function(E){return E.classList.remove("allow-interactivity-".concat(i))})}}},[t.inert,t.lockRef.current,t.shards]);var a=C.useCallback(function(g,E){if("touches"in g&&g.touches.length===2||g.type==="wheel"&&g.ctrlKey)return!o.current.allowPinchZoom;var v=ql(g),y=n.current,T="deltaX"in g?g.deltaX:y[0]-v[0],P="deltaY"in g?g.deltaY:y[1]-v[1],O,V=g.target,x=Math.abs(T)>Math.abs(P)?"h":"v";if("touches"in g&&x==="h"&&V.type==="range")return!1;var w=r0(x,V);if(!w)return!0;if(w?O=x:(O=x==="v"?"h":"v",w=r0(x,V)),!w)return!1;if(!r.current&&"changedTouches"in g&&(T||P)&&(r.current=O),!O)return!0;var R=r.current||O;return I4(R,E,g,R==="h"?T:P,!0)},[]),u=C.useCallback(function(g){var E=g;if(!(!Yi.length||Yi[Yi.length-1]!==s)){var v="deltaY"in E?i0(E):ql(E),y=e.current.filter(function(O){return O.name===E.type&&(O.target===E.target||E.target===O.shadowParent)&&P4(O.delta,v)})[0];if(y&&y.should){E.cancelable&&E.preventDefault();return}if(!y){var T=(o.current.shards||[]).map(s0).filter(Boolean).filter(function(O){return O.contains(E.target)}),P=T.length>0?a(E,T[0]):!o.current.noIsolation;P&&E.cancelable&&E.preventDefault()}}},[]),c=C.useCallback(function(g,E,v,y){var T={name:g,delta:E,target:v,should:y,shadowParent:D4(v)};e.current.push(T),setTimeout(function(){e.current=e.current.filter(function(P){return P!==T})},1)},[]),h=C.useCallback(function(g){n.current=ql(g),r.current=void 0},[]),f=C.useCallback(function(g){c(g.type,i0(g),g.target,a(g,t.lockRef.current))},[]),m=C.useCallback(function(g){c(g.type,ql(g),g.target,a(g,t.lockRef.current))},[]);C.useEffect(function(){return Yi.push(s),t.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:m}),document.addEventListener("wheel",u,Qi),document.addEventListener("touchmove",u,Qi),document.addEventListener("touchstart",h,Qi),function(){Yi=Yi.filter(function(g){return g!==s}),document.removeEventListener("wheel",u,Qi),document.removeEventListener("touchmove",u,Qi),document.removeEventListener("touchstart",h,Qi)}},[]);var _=t.removeScrollBar,A=t.inert;return C.createElement(C.Fragment,null,A?C.createElement(s,{styles:b4(i)}):null,_?C.createElement(E4,{gapMode:t.gapMode}):null)}function D4(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const O4=l4(Ix,N4);var Dx=C.forwardRef(function(t,e){return C.createElement(td,xn({},t,{ref:e,sideCar:O4}))});Dx.classNames=td.classNames;var V4=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},Xi=new WeakMap,Kl=new WeakMap,Gl={},Eh=0,Ox=function(t){return t&&(t.host||Ox(t.parentNode))},M4=function(t,e){return e.map(function(n){if(t.contains(n))return n;var r=Ox(n);return r&&t.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},L4=function(t,e,n,r){var i=M4(e,Array.isArray(t)?t:[t]);Gl[n]||(Gl[n]=new WeakMap);var s=Gl[n],o=[],a=new Set,u=new Set(i),c=function(f){!f||a.has(f)||(a.add(f),c(f.parentNode))};i.forEach(c);var h=function(f){!f||u.has(f)||Array.prototype.forEach.call(f.children,function(m){if(a.has(m))h(m);else try{var _=m.getAttribute(r),A=_!==null&&_!=="false",g=(Xi.get(m)||0)+1,E=(s.get(m)||0)+1;Xi.set(m,g),s.set(m,E),o.push(m),g===1&&A&&Kl.set(m,!0),E===1&&m.setAttribute(n,"true"),A||m.setAttribute(r,"true")}catch(v){console.error("aria-hidden: cannot operate on ",m,v)}})};return h(e),a.clear(),Eh++,function(){o.forEach(function(f){var m=Xi.get(f)-1,_=s.get(f)-1;Xi.set(f,m),s.set(f,_),m||(Kl.has(f)||f.removeAttribute(r),Kl.delete(f)),_||f.removeAttribute(n)}),Eh--,Eh||(Xi=new WeakMap,Xi=new WeakMap,Kl=new WeakMap,Gl={})}},F4=function(t,e,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(t)?t:[t]),i=V4(t);return i?(r.push.apply(r,Array.from(i.querySelectorAll("[aria-live]"))),L4(r,i,n,"aria-hidden")):function(){return null}},qm="Dialog",[Vx,PF]=no(qm),[j4,gn]=Vx(qm),Mx=t=>{const{__scopeDialog:e,children:n,open:r,defaultOpen:i,onOpenChange:s,modal:o=!0}=t,a=C.useRef(null),u=C.useRef(null),[c=!1,h]=Gp({prop:r,defaultProp:i,onChange:s});return k.jsx(j4,{scope:e,triggerRef:a,contentRef:u,contentId:nh(),titleId:nh(),descriptionId:nh(),open:c,onOpenChange:h,onOpenToggle:C.useCallback(()=>h(f=>!f),[h]),modal:o,children:n})};Mx.displayName=qm;var Lx="DialogTrigger",U4=C.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=gn(Lx,n),s=mt(e,i.triggerRef);return k.jsx(Ie.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":Qm(i.open),...r,ref:s,onClick:_e(t.onClick,i.onOpenToggle)})});U4.displayName=Lx;var Km="DialogPortal",[z4,Fx]=Vx(Km,{forceMount:void 0}),jx=t=>{const{__scopeDialog:e,forceMount:n,children:r,container:i}=t,s=gn(Km,e);return k.jsx(z4,{scope:e,forceMount:n,children:C.Children.map(r,o=>k.jsx(Vi,{present:n||s.open,children:k.jsx(Kp,{asChild:!0,container:i,children:o})}))})};jx.displayName=Km;var uc="DialogOverlay",Ux=C.forwardRef((t,e)=>{const n=Fx(uc,t.__scopeDialog),{forceMount:r=n.forceMount,...i}=t,s=gn(uc,t.__scopeDialog);return s.modal?k.jsx(Vi,{present:r||s.open,children:k.jsx($4,{...i,ref:e})}):null});Ux.displayName=uc;var B4=Sa("DialogOverlay.RemoveScroll"),$4=C.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=gn(uc,n);return k.jsx(Dx,{as:B4,allowPinchZoom:!0,shards:[i.contentRef],children:k.jsx(Ie.div,{"data-state":Qm(i.open),...r,ref:e,style:{pointerEvents:"auto",...r.style}})})}),Ni="DialogContent",zx=C.forwardRef((t,e)=>{const n=Fx(Ni,t.__scopeDialog),{forceMount:r=n.forceMount,...i}=t,s=gn(Ni,t.__scopeDialog);return k.jsx(Vi,{present:r||s.open,children:s.modal?k.jsx(H4,{...i,ref:e}):k.jsx(W4,{...i,ref:e})})});zx.displayName=Ni;var H4=C.forwardRef((t,e)=>{const n=gn(Ni,t.__scopeDialog),r=C.useRef(null),i=mt(e,n.contentRef,r);return C.useEffect(()=>{const s=r.current;if(s)return F4(s)},[]),k.jsx(Bx,{...t,ref:i,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:_e(t.onCloseAutoFocus,s=>{var o;s.preventDefault(),(o=n.triggerRef.current)==null||o.focus()}),onPointerDownOutside:_e(t.onPointerDownOutside,s=>{const o=s.detail.originalEvent,a=o.button===0&&o.ctrlKey===!0;(o.button===2||a)&&s.preventDefault()}),onFocusOutside:_e(t.onFocusOutside,s=>s.preventDefault())})}),W4=C.forwardRef((t,e)=>{const n=gn(Ni,t.__scopeDialog),r=C.useRef(!1),i=C.useRef(!1);return k.jsx(Bx,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:s=>{var o,a;(o=t.onCloseAutoFocus)==null||o.call(t,s),s.defaultPrevented||(r.current||(a=n.triggerRef.current)==null||a.focus(),s.preventDefault()),r.current=!1,i.current=!1},onInteractOutside:s=>{var u,c;(u=t.onInteractOutside)==null||u.call(t,s),s.defaultPrevented||(r.current=!0,s.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const o=s.target;((c=n.triggerRef.current)==null?void 0:c.contains(o))&&s.preventDefault(),s.detail.originalEvent.type==="focusin"&&i.current&&s.preventDefault()}})}),Bx=C.forwardRef((t,e)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:i,onCloseAutoFocus:s,...o}=t,a=gn(Ni,n),u=C.useRef(null),c=mt(e,u);return JL(),k.jsxs(k.Fragment,{children:[k.jsx(xx,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:i,onUnmountAutoFocus:s,children:k.jsx(bc,{role:"dialog",id:a.contentId,"aria-describedby":a.descriptionId,"aria-labelledby":a.titleId,"data-state":Qm(a.open),...o,ref:c,onDismiss:()=>a.onOpenChange(!1)})}),k.jsxs(k.Fragment,{children:[k.jsx(q4,{titleId:a.titleId}),k.jsx(G4,{contentRef:u,descriptionId:a.descriptionId})]})]})}),Gm="DialogTitle",$x=C.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=gn(Gm,n);return k.jsx(Ie.h2,{id:i.titleId,...r,ref:e})});$x.displayName=Gm;var Hx="DialogDescription",Wx=C.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=gn(Hx,n);return k.jsx(Ie.p,{id:i.descriptionId,...r,ref:e})});Wx.displayName=Hx;var qx="DialogClose",Kx=C.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=gn(qx,n);return k.jsx(Ie.button,{type:"button",...r,ref:e,onClick:_e(t.onClick,()=>i.onOpenChange(!1))})});Kx.displayName=qx;function Qm(t){return t?"open":"closed"}var Gx="DialogTitleWarning",[bF,Qx]=CP(Gx,{contentName:Ni,titleName:Gm,docsSlug:"dialog"}),q4=({titleId:t})=>{const e=Qx(Gx),n=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return C.useEffect(()=>{t&&(document.getElementById(t)||console.error(n))},[n,t]),null},K4="DialogDescriptionWarning",G4=({contentRef:t,descriptionId:e})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${Qx(K4).contentName}}.`;return C.useEffect(()=>{var s;const i=(s=t.current)==null?void 0:s.getAttribute("aria-describedby");e&&i&&(document.getElementById(e)||console.warn(r))},[r,t,e]),null},Q4=Mx,Y4=jx,Yx=Ux,Xx=zx,Jx=$x,Zx=Wx,X4=Kx;const J4=Q4,Z4=Y4,eC=C.forwardRef(({className:t,...e},n)=>k.jsx(Yx,{ref:n,className:Ce("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e}));eC.displayName=Yx.displayName;const tC=C.forwardRef(({className:t,children:e,...n},r)=>k.jsxs(Z4,{children:[k.jsx(eC,{}),k.jsxs(Xx,{ref:r,className:Ce("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...n,children:[e,k.jsxs(X4,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[k.jsx(ST,{className:"h-4 w-4"}),k.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));tC.displayName=Xx.displayName;const nC=({className:t,...e})=>k.jsx("div",{className:Ce("flex flex-col space-y-1.5 text-center sm:text-left",t),...e});nC.displayName="DialogHeader";const rC=C.forwardRef(({className:t,...e},n)=>k.jsx(Jx,{ref:n,className:Ce("text-lg font-semibold leading-none tracking-tight",t),...e}));rC.displayName=Jx.displayName;const iC=C.forwardRef(({className:t,...e},n)=>k.jsx(Zx,{ref:n,className:Ce("text-sm text-muted-foreground",t),...e}));iC.displayName=Zx.displayName;var eF="Label",sC=C.forwardRef((t,e)=>k.jsx(Ie.label,{...t,ref:e,onMouseDown:n=>{var i;n.target.closest("button, input, select, textarea")||((i=t.onMouseDown)==null||i.call(t,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));sC.displayName=eF;var oC=sC;const tF=Jp("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),xs=C.forwardRef(({className:t,...e},n)=>k.jsx(oC,{ref:n,className:Ce(tF(),t),...e}));xs.displayName=oC.displayName;const Ym=C.forwardRef(({className:t,type:e,...n},r)=>k.jsx("input",{type:e,className:Ce("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:r,...n}));Ym.displayName="Input";const Xm=C.forwardRef(({className:t,...e},n)=>k.jsx("textarea",{className:Ce("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:n,...e}));Xm.displayName="Textarea";const nF=Jp("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),jr=C.forwardRef(({className:t,variant:e,size:n,asChild:r=!1,...i},s)=>{const o=r?RP:"button";return k.jsx(o,{className:Ce(nF({variant:e,size:n,className:t})),ref:s,...i})});jr.displayName="Button";function rF({isOpen:t,onClose:e,onSuccess:n}){const[r,i]=C.useState(""),[s,o]=C.useState(""),[a,u]=C.useState(null),[c,h]=C.useState({title:!1,image:!1}),[f,m]=C.useState(!1),[_,A]=C.useState(null),g=C.useRef(null),{toast:E}=Pc(),v=()=>{i(""),o(""),u(null),A(null),h({title:!1,image:!1}),g.current&&(g.current.value="")},y=()=>{v(),e()},T=()=>{const V={title:!r.trim(),image:!a};return h(V),!V.title&&!V.image},P=V=>{if(V.target.files&&V.target.files[0]){const x=V.target.files[0];if(x.size>5*1024*1024){E({title:"   ",description:"       5 ",variant:"destructive",duration:3e3});return}u(x);const w=new FileReader;w.onload=()=>{A(w.result)},w.readAsDataURL(x),h(R=>({...R,image:!1}))}},O=async V=>{if(V.preventDefault(),!!T()){m(!0);try{let x="";if(a){const w=new Date().getTime(),R=a.name.split(".").pop(),I=`products/${w}-${Math.random().toString(36).substring(2,15)}.${R}`,N=FL(HL,I);await ML(N,a),x=await LL(N)}await ix(ac(Js,"products"),{title:r.trim(),notes:s.trim(),image:x}),E({title:"   ",duration:3e3}),n(),y()}catch(x){console.error("Error adding product:",x),E({title:"    ",variant:"destructive",duration:3e3})}finally{m(!1)}}};return k.jsx(J4,{open:t,onOpenChange:y,children:k.jsxs(tC,{dir:"rtl",className:"sm:max-w-md",children:[k.jsxs(nC,{children:[k.jsx(rC,{className:"text-xl",children:"  "}),k.jsx(iC,{children:"      "})]}),k.jsxs("form",{onSubmit:O,className:"space-y-4 pt-4",children:[k.jsxs("div",{className:"space-y-2",children:[k.jsxs(xs,{htmlFor:"product-title",children:["  ",k.jsx("span",{className:"text-red-500",children:"*"})]}),k.jsx(Ym,{id:"product-title",value:r,onChange:V=>i(V.target.value),className:c.title?"border-red-500":""}),c.title&&k.jsx("p",{className:"text-red-500 text-sm",children:"  "})]}),k.jsxs("div",{className:"space-y-2",children:[k.jsxs(xs,{htmlFor:"product-image",children:["  ",k.jsx("span",{className:"text-red-500",children:"*"})]}),k.jsxs("div",{className:"file-drop-area",onClick:()=>{var V;return(V=g.current)==null?void 0:V.click()},children:[k.jsx("input",{ref:g,id:"product-image",type:"file",accept:"image/*",onChange:P,className:"hidden"}),_?k.jsxs("div",{className:"file-preview",children:[k.jsx("img",{src:_,alt:" "}),k.jsx(jr,{type:"button",variant:"outline",size:"sm",onClick:V=>{V.stopPropagation(),u(null),A(null),g.current&&(g.current.value="")},children:" "})]}):k.jsxs("div",{className:"flex flex-col items-center justify-center py-6 w-full cursor-pointer",children:[k.jsx(Tb,{className:"h-12 w-12 text-gray-400 mb-2"}),k.jsx("p",{className:"text-gray-600 font-medium",children:"  "}),k.jsx("p",{className:"text-gray-500 text-sm mt-1",children:"JPG, PNG,  GIF"})]})]}),c.image&&k.jsx("p",{className:"text-red-500 text-sm",children:" "})]}),k.jsxs("div",{className:"space-y-2",children:[k.jsx(xs,{htmlFor:"product-notes",children:""}),k.jsx(Xm,{id:"product-notes",value:s,onChange:V=>o(V.target.value),rows:4})]}),k.jsxs("div",{className:"flex flex-row-reverse gap-2 pt-2",children:[k.jsx(jr,{type:"submit",className:"bg-primary",disabled:f,children:f?" ...":""}),k.jsx(jr,{type:"button",variant:"secondary",onClick:y,disabled:f,children:""})]})]})]})})}function iF({groups:t}){return k.jsx("div",{className:"space-y-3",children:t.length===0?k.jsx("p",{className:"text-gray-500",children:"    "}):t.map(e=>{var n;return k.jsx(Ha,{className:"transition-all hover:shadow-md",children:k.jsxs(Wa,{className:"p-4",children:[k.jsx("h3",{className:"font-semibold text-lg",children:e.name}),e.notes&&k.jsx("p",{className:"text-gray-600 mt-1",children:e.notes}),k.jsxs("p",{className:"text-sm text-gray-500 mt-2",children:[" : ",((n=e.products)==null?void 0:n.length)||0]})]})},e.id)})})}function sF(t){const e=C.useRef({value:t,previous:t});return C.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}var Jm="Checkbox",[oF,kF]=no(Jm),[aF,lF]=oF(Jm),aC=C.forwardRef((t,e)=>{const{__scopeCheckbox:n,name:r,checked:i,defaultChecked:s,required:o,disabled:a,value:u="on",onCheckedChange:c,form:h,...f}=t,[m,_]=C.useState(null),A=mt(e,P=>_(P)),g=C.useRef(!1),E=m?h||!!m.closest("form"):!0,[v=!1,y]=Gp({prop:i,defaultProp:s,onChange:c}),T=C.useRef(v);return C.useEffect(()=>{const P=m==null?void 0:m.form;if(P){const O=()=>y(T.current);return P.addEventListener("reset",O),()=>P.removeEventListener("reset",O)}},[m,y]),k.jsxs(aF,{scope:n,state:v,disabled:a,children:[k.jsx(Ie.button,{type:"button",role:"checkbox","aria-checked":Ur(v)?"mixed":v,"aria-required":o,"data-state":cC(v),"data-disabled":a?"":void 0,disabled:a,value:u,...f,ref:A,onKeyDown:_e(t.onKeyDown,P=>{P.key==="Enter"&&P.preventDefault()}),onClick:_e(t.onClick,P=>{y(O=>Ur(O)?!0:!O),E&&(g.current=P.isPropagationStopped(),g.current||P.stopPropagation())})}),E&&k.jsx(uF,{control:m,bubbles:!g.current,name:r,value:u,checked:v,required:o,disabled:a,form:h,style:{transform:"translateX(-100%)"},defaultChecked:Ur(s)?!1:s})]})});aC.displayName=Jm;var lC="CheckboxIndicator",uC=C.forwardRef((t,e)=>{const{__scopeCheckbox:n,forceMount:r,...i}=t,s=lF(lC,n);return k.jsx(Vi,{present:r||Ur(s.state)||s.state===!0,children:k.jsx(Ie.span,{"data-state":cC(s.state),"data-disabled":s.disabled?"":void 0,...i,ref:e,style:{pointerEvents:"none",...t.style}})})});uC.displayName=lC;var uF=t=>{const{control:e,checked:n,bubbles:r=!0,defaultChecked:i,...s}=t,o=C.useRef(null),a=sF(n),u=WT(e);C.useEffect(()=>{const h=o.current,f=window.HTMLInputElement.prototype,_=Object.getOwnPropertyDescriptor(f,"checked").set;if(a!==n&&_){const A=new Event("click",{bubbles:r});h.indeterminate=Ur(n),_.call(h,Ur(n)?!1:n),h.dispatchEvent(A)}},[a,n,r]);const c=C.useRef(Ur(n)?!1:n);return k.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:i??c.current,...s,tabIndex:-1,ref:o,style:{...t.style,...u,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function Ur(t){return t==="indeterminate"}function cC(t){return Ur(t)?"indeterminate":t?"checked":"unchecked"}var dC=aC,cF=uC;const hC=C.forwardRef(({className:t,...e},n)=>k.jsx(dC,{ref:n,className:Ce("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",t),...e,children:k.jsx(cF,{className:Ce("flex items-center justify-center text-current"),children:k.jsx(vb,{className:"h-4 w-4"})})}));hC.displayName=dC.displayName;function dF({products:t,onDeleteSuccess:e,onToggleSelection:n,selectedProducts:r}){const{toast:i}=Pc(),s=async o=>{try{await rx(Mm(Js,"products",o)),i({title:"   ",duration:3e3}),e()}catch(a){console.error("Error deleting product:",a),i({title:"    ",variant:"destructive",duration:3e3})}};return k.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:t.length===0?k.jsx("p",{className:"text-gray-500 col-span-full",children:"    "}):t.map(o=>k.jsxs(Ha,{className:"overflow-hidden",children:[k.jsxs("div",{className:"relative",children:[k.jsx(hC,{className:"absolute top-3 left-3 h-5 w-5 z-10",checked:r.has(o.id),onCheckedChange:a=>n(o.id,a===!0)}),k.jsx("img",{src:o.image||"https://images.unsplash.com/photo-1526947425960-945c6e72858f?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxzZWFyY2h8MTB8fHByb2R1Y3R8ZW58MHx8MHx8fDA%3D&auto=format&fit=crop&w=500&q=60",alt:` ${o.title}`,className:"w-full h-40 object-cover",onError:a=>{const u=a.target;u.onerror=null,u.src="https://images.unsplash.com/photo-1526947425960-945c6e72858f?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxzZWFyY2h8MTB8fHByb2R1Y3R8ZW58MHx8MHx8fDA%3D&auto=format&fit=crop&w=500&q=60"}})]}),k.jsxs(Wa,{className:"p-4",children:[k.jsx("h3",{className:"font-semibold text-lg mb-2",children:o.title}),o.notes&&k.jsx("p",{className:"text-gray-600 mb-4",children:o.notes}),k.jsx("div",{className:"flex justify-end",children:k.jsxs(jr,{onClick:()=>s(o.id),variant:"destructive",size:"sm",children:[k.jsx(TT,{className:"ml-1 h-4 w-4"}),""]})})]})]},o.id))})}var hF="Separator",o0="horizontal",fF=["horizontal","vertical"],fC=C.forwardRef((t,e)=>{const{decorative:n,orientation:r=o0,...i}=t,s=pF(r)?r:o0,a=n?{role:"none"}:{"aria-orientation":s==="vertical"?s:void 0,role:"separator"};return k.jsx(Ie.div,{"data-orientation":s,...a,...i,ref:e})});fC.displayName=hF;function pF(t){return fF.includes(t)}var pC=fC;const mC=C.forwardRef(({className:t,orientation:e="horizontal",decorative:n=!0,...r},i)=>k.jsx(pC,{ref:i,decorative:n,orientation:e,className:Ce("shrink-0 bg-border",e==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",t),...r}));mC.displayName=pC.displayName;function mF({selectedProducts:t,onDeleteSuccess:e,onCreateGroupSuccess:n}){const[r,i]=C.useState(""),[s,o]=C.useState(""),[a,u]=C.useState(!1),{toast:c}=Pc(),h=async()=>{u(!0);try{for(const m of t)await rx(Mm(Js,"products",m));c({title:"    ",duration:3e3}),e()}catch(m){console.error("Error deleting selected products:",m),c({title:"     ",variant:"destructive",duration:3e3})}finally{u(!1)}},f=async()=>{if(!r.trim()){c({title:"  ",variant:"destructive",duration:3e3});return}u(!0);try{await ix(ac(Js,"groups"),{name:r.trim(),notes:s.trim(),products:Array.from(t)}),c({title:"   ",duration:3e3}),i(""),o(""),n()}catch(m){console.error("Error creating group:",m),c({title:"    ",variant:"destructive",duration:3e3})}finally{u(!1)}};return k.jsx(Ha,{className:"bg-blue-50 border border-blue-200 mb-6",children:k.jsxs(Wa,{className:"p-4 space-y-3",children:[k.jsxs(jr,{onClick:h,variant:"destructive",disabled:a,children:[k.jsx(TT,{className:"ml-2 h-4 w-4"}),"   (",t.size,")"]}),k.jsx(mC,{className:"my-2 bg-blue-200"}),k.jsxs("div",{className:"space-y-3",children:[k.jsxs("div",{children:[k.jsx(xs,{htmlFor:"group-name",className:"font-medium",children:" "}),k.jsx(Ym,{id:"group-name",placeholder:"  ",value:r,onChange:m=>i(m.target.value),className:"mt-1"})]}),k.jsxs("div",{children:[k.jsx(xs,{htmlFor:"group-notes",className:"font-medium",children:" "}),k.jsx(Xm,{id:"group-notes",placeholder:"  ",value:s,onChange:m=>o(m.target.value),className:"mt-1 h-20"})]}),k.jsxs(jr,{onClick:f,className:"bg-green-600 hover:bg-green-700",disabled:a,children:[k.jsx(Eb,{className:"ml-2 h-4 w-4"})," "]})]})]})})}function gF(){const[t,e]=C.useState([]),[n,r]=C.useState([]),[i,s]=C.useState(new Set),[o,a]=C.useState(!1);C.useEffect(()=>{u(),c()},[]);async function u(){try{const A=await H_(ac(Js,"products")),g=[];A.forEach(E=>{g.push({id:E.id,...E.data()})}),e(g)}catch(A){console.error("Error loading products:",A)}}async function c(){try{const A=await H_(ac(Js,"groups")),g=[];A.forEach(E=>{g.push({id:E.id,...E.data()})}),r(g)}catch(A){console.error("Error loading groups:",A)}}function h(A,g){s(E=>{const v=new Set(E);return g?v.add(A):v.delete(A),v})}const f=()=>{u()},m=()=>{c(),s(new Set)},_=()=>{u(),s(new Set)};return k.jsxs("div",{className:"flex flex-col h-screen",children:[k.jsxs("div",{className:"flex-[0.6] p-5 bg-gray-100 border-b-2 border-gray-300 overflow-y-auto",id:"groups-section",children:[k.jsx("h2",{className:"text-xl font-semibold mb-4",children:" "}),k.jsx(iF,{groups:n})]}),k.jsxs("div",{className:"flex-[1.4] p-5 bg-white overflow-y-auto",id:"products-section",children:[k.jsxs("div",{className:"flex justify-between items-center mb-4",children:[k.jsx("h2",{className:"text-xl font-semibold",children:" "}),k.jsxs(jr,{onClick:()=>a(!0),className:"bg-primary hover:bg-blue-700 text-white",children:[k.jsx(wb,{className:"ml-2 h-4 w-4"})," "]})]}),i.size>0&&k.jsx(mF,{selectedProducts:i,onCreateGroupSuccess:m,onDeleteSuccess:_}),k.jsx(dF,{products:t,onDeleteSuccess:u,onToggleSelection:h,selectedProducts:i})]}),k.jsx(rF,{isOpen:o,onClose:()=>a(!1),onSuccess:f})]})}function yF(){return k.jsxs(qI,{children:[k.jsx(dv,{path:"/",component:gF}),k.jsx(dv,{component:LN})]})}function vF(){return k.jsx(gP,{client:_P,children:k.jsxs(kN,{children:[k.jsx(ik,{}),k.jsx(yF,{})]})})}const gC=document.createElement("style");gC.textContent=`
  body {
    font-family: 'Tajawal', 'Tahoma', sans-serif;
  }
`;document.head.appendChild(gC);PE(document.getElementById("root")).render(k.jsx(vF,{}));
